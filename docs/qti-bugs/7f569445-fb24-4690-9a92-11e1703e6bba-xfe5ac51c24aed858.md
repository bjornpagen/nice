# Graph a linear equation: y = -x - 6

- **analysisId**: 7f569445-fb24-4690-9a92-11e1703e6bba
- **questionId**: xfe5ac51c24aed858
- **severity**: major

### Issue
WE SHOULD NOT BE USING AN INPUT BOX FOR THIS QUESTION. Since we aren't handling interaction of the user... we should create 4 different graphs where one correctly plots the equation

### Perseus (original)
```json
{
  "hints": [
    {
      "images": {},
      "content": "The equation is in *slope-intercept form* : $y=m\\!\\cdot\\!x+b$. In this form, $m$ gives us the slope of the line and $b$ gives us its $y$-intercept.\n\nSo $y=-x-6$ has a slope of $-1$ and a $y$-intercept at $(0,-6)$.",
      "replace": false,
      "widgets": {}
    },
    {
      "images": {},
      "content": "We need two points. We already have the $y$-intercept $(0,-6)$.\n\nWe can find a second point by reasoning about the slope. A slope of $-1$ means that when the $x$-value *increases* by $\\purple{1}$, the $y$-value *decreases* by $\\green{1}$. \n\n$(0 \\purple{+1},-6 \\green{-1})=(1,-7)$\n\n\n\n[[☃ image 1]]\n\n",
      "replace": false,
      "widgets": {
        "image 1": {
          "type": "image",
          "graded": true,
          "static": false,
          "options": {
            "alt": "A coordinate plane. The x- and y-axes each scale by one. The points zero, negative six and one, negative seven are plotted. There is a horizontal segment from zero, negative six to one, negative six that is labeled plus one. There is a vertical segment from one, negative six to one, negative seven that is labeled minus one.",
            "box": [
              428,
              428
            ],
            "range": [
              [
                0,
                10
              ],
              [
                0,
                10
              ]
            ],
            "title": "",
            "labels": [],
            "static": false,
            "caption": "",
            "backgroundImage": {
              "url": "web+graphie://cdn.kastatic.org/ka-perseus-graphie/6e8e8f0dfd772b7e3589227e816db59f92ff629d",
              "width": 428,
              "height": 428
            }
          },
          "version": {
            "major": 0,
            "minor": 0
          },
          "alignment": "block"
        }
      }
    },
    {
      "images": {},
      "content": "Now we can graph the equation.\n\n[[☃ grapher 1]]",
      "replace": false,
      "widgets": {
        "grapher 1": {
          "type": "grapher",
          "graded": true,
          "static": true,
          "options": {
            "graph": {
              "step": [
                1,
                1
              ],
              "range": [
                [
                  -10,
                  10
                ],
                [
                  -10,
                  10
                ]
              ],
              "valid": true,
              "labels": [
                "x",
                "y"
              ],
              "gridStep": [
                1,
                1
              ],
              "markings": "graph",
              "snapStep": [
                1,
                1
              ],
              "showRuler": false,
              "rulerLabel": "",
              "rulerTicks": 10,
              "showTooltips": false,
              "showProtractor": false,
              "backgroundImage": {
                "url": null
              },
              "editableSettings": [
                "graph",
                "snap",
                "image"
              ]
            },
            "correct": {
              "type": "linear",
              "coords": [
                [
                  0,
                  -6
                ],
                [
                  1,
                  -7
                ]
              ]
            },
            "availableTypes": [
              "linear"
            ]
          },
          "version": {
            "major": 0,
            "minor": 0
          },
          "alignment": "default"
        }
      }
    }
  ],
  "question": {
    "images": {},
    "content": "**Graph $y=-x-6$.**\n\n[[☃ grapher 1]]",
    "widgets": {
      "grapher 1": {
        "type": "grapher",
        "graded": true,
        "static": false,
        "options": {
          "graph": {
            "step": [
              1,
              1
            ],
            "range": [
              [
                -10,
                10
              ],
              [
                -10,
                10
              ]
            ],
            "valid": true,
            "labels": [
              "x",
              "y"
            ],
            "gridStep": [
              1,
              1
            ],
            "markings": "graph",
            "snapStep": [
              1,
              1
            ],
            "showRuler": false,
            "rulerLabel": "",
            "rulerTicks": 10,
            "showTooltips": false,
            "showProtractor": false,
            "backgroundImage": {
              "url": null
            },
            "editableSettings": [
              "graph",
              "snap",
              "image"
            ]
          },
          "correct": {
            "type": "linear",
            "coords": [
              [
                0,
                -6
              ],
              [
                1,
                -7
              ]
            ]
          },
          "availableTypes": [
            "linear"
          ]
        },
        "version": {
          "major": 0,
          "minor": 0
        },
        "alignment": "default"
      }
    }
  },
  "answerArea": {
    "tTable": false,
    "zTable": false,
    "chi2Table": false,
    "calculator": false,
    "periodicTable": false
  },
  "itemDataVersion": {
    "major": 0,
    "minor": 1
  }
}
```

### Structured JSON (generated)
```json
{
  "body": [
    {
      "type": "paragraph",
      "content": [
        {
          "type": "text",
          "content": "Graph "
        },
        {
          "type": "math",
          "mathml": "<mi>y</mi><mo>=</mo><mo>-</mo><mi>x</mi><mo>-</mo><mn>6</mn>"
        },
        {
          "type": "text",
          "content": "."
        }
      ]
    },
    {
      "type": "blockSlot",
      "slotId": "grapher_1"
    }
  ],
  "title": "Graph a linear equation: y = -x - 6",
  "widgets": {},
  "feedback": {
    "correct": [
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "content": "Correct! You graphed the line "
          },
          {
            "type": "math",
            "mathml": "<mi>y</mi><mo>=</mo><mo>-</mo><mi>x</mi><mo>-</mo><mn>6</mn>"
          },
          {
            "type": "text",
            "content": ", which has slope "
          },
          {
            "type": "math",
            "mathml": "<mi>m</mi><mo>=</mo><mo>-</mo><mn>1</mn>"
          },
          {
            "type": "text",
            "content": " and y-intercept "
          },
          {
            "type": "math",
            "mathml": "<mrow><mo>(</mo><mn>0</mn><mo>,</mo><mo>-</mo><mn>6</mn><mo>)</mo></mrow>"
          },
          {
            "type": "text",
            "content": "."
          }
        ]
      }
    ],
    "incorrect": [
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "content": "Recall slope-intercept form:"
          },
          {
            "type": "math",
            "mathml": "<mi>y</mi><mo>=</mo><mi>m</mi><mo>·</mo><mi>x</mi><mo>+</mo><mi>b</mi>"
          },
          {
            "type": "text",
            "content": ", where "
          },
          {
            "type": "math",
            "mathml": "<mi>m</mi>"
          },
          {
            "type": "text",
            "content": " is the slope and "
          },
          {
            "type": "math",
            "mathml": "<mi>b</mi>"
          },
          {
            "type": "text",
            "content": " is the y-intercept."
          }
        ]
      },
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "content": "For this equation, the y-intercept is "
          },
          {
            "type": "math",
            "mathml": "<mrow><mo>(</mo><mn>0</mn><mo>,</mo><mo>-</mo><mn>6</mn><mo>)</mo></mrow>"
          },
          {
            "type": "text",
            "content": " and the slope is "
          },
          {
            "type": "math",
            "mathml": "<mo>-</mo><mn>1</mn>"
          },
          {
            "type": "text",
            "content": ", meaning when "
          },
          {
            "type": "math",
            "mathml": "<mi>x</mi>"
          },
          {
            "type": "text",
            "content": " increases by "
          },
          {
            "type": "math",
            "mathml": "<mn>1</mn>"
          },
          {
            "type": "text",
            "content": ", "
          },
          {
            "type": "math",
            "mathml": "<mi>y</mi>"
          },
          {
            "type": "text",
            "content": " decreases by "
          },
          {
            "type": "math",
            "mathml": "<mn>1</mn>"
          },
          {
            "type": "text",
            "content": ". So another point is "
          },
          {
            "type": "math",
            "mathml": "<mrow><mo>(</mo><mn>1</mn><mo>,</mo><mo>-</mo><mn>7</mn><mo>)</mo></mrow>"
          },
          {
            "type": "text",
            "content": ". Plot these two points and draw the line through them."
          }
        ]
      }
    ]
  },
  "identifier": "graph-linear-y-equals-negx-minus-6",
  "interactions": {
    "grapher_1": {
      "type": "textEntryInteraction",
      "expectedLength": 20,
      "responseIdentifier": "RESPONSE"
    }
  },
  "responseDeclarations": [
    {
      "correct": "linear:(0,-6),(1,-7)",
      "baseType": "string",
      "identifier": "RESPONSE",
      "cardinality": "single"
    }
  ]
}
```

### Relevant code
- Compiler finalization (missing URL hardening) — src/lib/qti-generation/compiler.ts
```
	finalXml = stripXmlComments(finalXml, logger)
	finalXml = removeDoubleNewlines(finalXml, logger)
	finalXml = fixMathMLOperators(finalXml, logger)
	finalXml = fixInequalityOperators(finalXml, logger)
	// Convert HTML entities to Unicode characters at the very end
	return convertHtmlEntities(finalXml, logger)
}

```
