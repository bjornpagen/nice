# Comparing Olympic and U.S. shot put dot plots

- **analysisId**: 4f592b87-dc53-4f2f-9811-7b7d71f60637
- **questionId**: x632572377039f094
- **severity**: major

### Issue
The distance diagram is completely unreadable for the purposes of the question, having all the points and labels listed on top of one another thus forming a black line.

### Perseus (original)
```json
{
  "hints": [
    {
      "images": {},
      "content": "Let's consider the **first answer choice:**\n\n> *The top $8$ Olympic shot putters in the preliminary round threw farther on average than the top $8$ U.S qualifiers.*\n\nWe don't have to calculate the mean values of each distribution because we can see visually that the center of the Olympic preliminary distribution is higher than the center of the U.S. qualifier distribution.\n\nSo we can say that the top $8$ Olympic shot putters in the preliminary round threw farther on average than the top $8$ U.S qualifiers.",
      "replace": false,
      "widgets": {}
    },
    {
      "images": {},
      "content": "Now, let's consider the **second answer choice:**\n\n> *The distances of the top $8$ Olympic shot putters vary noticeably more than those of the top $8$ U.S. qualifiers.*\n\nWe can see visually that the U.S. qualifier distribution is more spread out than the Olympic preliminary distribution. We could calculate MAD or IQR from these displays, but we can see that the range of the U.S. qualifier distribution is larger.\n\nSo we can't conclude that the distances of the top $8$ Olympic shot putters vary noticeably more than those of the top $8$ U.S. qualifiers.",
      "replace": false,
      "widgets": {}
    },
    {
      "images": {},
      "content": "Select this answer:\n\n>*The top $8$ Olympic shot putters in the preliminary round threw farther on average than the top $8$ U.S qualifiers.*",
      "replace": false,
      "widgets": {}
    }
  ],
  "question": {
    "images": {
      "web+graphie://cdn.kastatic.org/ka-perseus-graphie/2a90e47eafd38290bb642abcb2b65fd2906ed9b6": {
        "width": 481,
        "height": 123
      }
    },
    "content": "Before sending track and field athletes to the Olympics, the U.S. holds a qualifying meet. \n\nThe upper dot plot shows the distances (in meters) of the top $8$ shot putters in the preliminary round of the $2012$ Olympic games. The lower dot plot shows the top $8$ throwers in the shot put at the U.S. qualifying meet.\n\n![A dot plot is divided into 2 parts labeled, U.S. Qualifier and Olympic Preliminary. The horizontal axis is labeled, Distance, in meters, from 19 to 21.5, in increments of 0.1 meter. The portion of the dot plot dedicated to U. S. Qualifier has dots above the following points; 19.15, 19.17, 19.5, 19.7, 19.8, 19.95, 20.25, and 21.22. The portion of the dot plot dedicated to Olympic Preliminary has dots above the following points; 20.43, 20.5, 20.55, 20.75, 20.8, 21.05, 21.15, and 21.45. All values estimated.](web+graphie://cdn.kastatic.org/ka-perseus-graphie/2a90e47eafd38290bb642abcb2b65fd2906ed9b6)\n\n**Which pieces of information can be gathered from these dot plots?**\n\n[[☃ radio 1]]",
    "widgets": {
      "radio 1": {
        "type": "radio",
        "graded": true,
        "static": false,
        "options": {
          "choices": [
            {
              "content": "The top $8$ Olympic shot putters in the preliminary round threw farther on average than the top $8$ U.S qualifiers.",
              "correct": true
            },
            {
              "content": "The distances of the top $8$ Olympic shot putters vary noticeably more than those of the top $8$ U.S. qualifiers.",
              "correct": false
            },
            {
              "isNoneOfTheAbove": true
            }
          ],
          "randomize": false,
          "countChoices": false,
          "displayCount": null,
          "multipleSelect": true,
          "deselectEnabled": false,
          "hasNoneOfTheAbove": true
        },
        "version": {
          "major": 1,
          "minor": 0
        },
        "alignment": "default"
      }
    }
  },
  "answerArea": {
    "tTable": false,
    "zTable": false,
    "chi2Table": false,
    "calculator": false,
    "periodicTable": false
  },
  "itemDataVersion": {
    "major": 0,
    "minor": 1
  }
}
```

### Structured JSON (generated)
```json
{
  "body": [
    {
      "type": "paragraph",
      "content": [
        {
          "type": "text",
          "content": "Before sending track and field athletes to the Olympics, the U.S. holds a qualifying meet."
        }
      ]
    },
    {
      "type": "paragraph",
      "content": [
        {
          "type": "text",
          "content": "The upper dot plot shows the distances (in meters) of the top "
        },
        {
          "type": "math",
          "mathml": "<mn>8</mn>"
        },
        {
          "type": "text",
          "content": " shot putters in the preliminary round of the "
        },
        {
          "type": "math",
          "mathml": "<mn>2012</mn>"
        },
        {
          "type": "text",
          "content": " Olympic games. The lower dot plot shows the top "
        },
        {
          "type": "math",
          "mathml": "<mn>8</mn>"
        },
        {
          "type": "text",
          "content": " throwers in the shot put at the U.S. qualifying meet."
        }
      ]
    },
    {
      "type": "blockSlot",
      "slotId": "dotplots_stimulus"
    },
    {
      "type": "paragraph",
      "content": [
        {
          "type": "text",
          "content": "Which pieces of information can be gathered from these dot plots?"
        }
      ]
    },
    {
      "type": "blockSlot",
      "slotId": "choice_interaction"
    }
  ],
  "title": "Comparing Olympic and U.S. shot put dot plots",
  "widgets": {
    "dotplots_stimulus": {
      "axis": {
        "max": 21.5,
        "min": 19,
        "label": "Distance (meters)",
        "tickInterval": 0.1
      },
      "data": [
        {
          "count": 1,
          "value": 19.15
        },
        {
          "count": 1,
          "value": 19.17
        },
        {
          "count": 1,
          "value": 19.5
        },
        {
          "count": 1,
          "value": 19.7
        },
        {
          "count": 1,
          "value": 19.8
        },
        {
          "count": 1,
          "value": 19.95
        },
        {
          "count": 1,
          "value": 20.25
        },
        {
          "count": 1,
          "value": 21.22
        },
        {
          "count": 1,
          "value": 20.43
        },
        {
          "count": 1,
          "value": 20.5
        },
        {
          "count": 1,
          "value": 20.55
        },
        {
          "count": 1,
          "value": 20.75
        },
        {
          "count": 1,
          "value": 20.8
        },
        {
          "count": 1,
          "value": 21.05
        },
        {
          "count": 1,
          "value": 21.15
        },
        {
          "count": 1,
          "value": 21.45
        }
      ],
      "type": "dotPlot",
      "width": 481,
      "height": 140,
      "dotColor": "#333333",
      "dotRadius": 3
    }
  },
  "feedback": {
    "correct": [
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "content": "Correct! The Olympic preliminary distribution is centered to the right of the U.S. qualifier distribution, so the statement that the top "
          },
          {
            "type": "math",
            "mathml": "<mn>8</mn>"
          },
          {
            "type": "text",
            "content": " Olympic shot putters threw farther on average is supported by the plots."
          }
        ]
      }
    ],
    "incorrect": [
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "content": "Not quite. Compare the centers and the spreads of the two dot plots. The center of the Olympic preliminary distribution is higher (farther to the right) than that of the U.S. qualifiers, indicating a larger average for the Olympic group."
          }
        ]
      },
      {
        "type": "paragraph",
        "content": [
          {
            "type": "text",
            "content": "For variability, the U.S. qualifier distribution is more spread out, so it is not correct to claim that the Olympic distances vary noticeably more. The best-supported choice is the statement about the average for the top "
          },
          {
            "type": "math",
            "mathml": "<mn>8</mn>"
          },
          {
            "type": "text",
            "content": " Olympic shot putters being greater."
          }
        ]
      }
    ]
  },
  "identifier": "olympic-us-shot-put-dotplots",
  "interactions": {
    "choice_interaction": {
      "type": "choiceInteraction",
      "prompt": [
        {
          "type": "text",
          "content": "Which pieces of information can be gathered from these dot plots?"
        }
      ],
      "choices": [
        {
          "content": [
            {
              "type": "paragraph",
              "content": [
                {
                  "type": "text",
                  "content": "The top 8 Olympic shot putters in the preliminary round threw farther on average than the top 8 U.S qualifiers."
                }
              ]
            }
          ],
          "feedback": null,
          "identifier": "A"
        },
        {
          "content": [
            {
              "type": "paragraph",
              "content": [
                {
                  "type": "text",
                  "content": "The distances of the top 8 Olympic shot putters vary noticeably more than those of the top 8 U.S. qualifiers."
                }
              ]
            }
          ],
          "feedback": null,
          "identifier": "B"
        },
        {
          "content": [
            {
              "type": "paragraph",
              "content": [
                {
                  "type": "text",
                  "content": "None of the above"
                }
              ]
            }
          ],
          "feedback": null,
          "identifier": "C"
        }
      ],
      "shuffle": true,
      "maxChoices": 3,
      "minChoices": 1,
      "responseIdentifier": "RESPONSE"
    }
  },
  "responseDeclarations": [
    {
      "correct": [
        "A"
      ],
      "baseType": "identifier",
      "identifier": "RESPONSE",
      "cardinality": "multiple"
    }
  ]
}
```

### Relevant code
- Widget registry — src/lib/widgets/generators/index.ts
```
import { generateVennDiagram, VennDiagramPropsSchema } from "./venn-diagram"
import { generateVerticalArithmeticSetup, VerticalArithmeticSetupPropsSchema } from "./vertical-arithmetic-setup"

// The `type` field is now included in the base schemas, so we remove .extend()
export const typedSchemas = {
	"3dIntersectionDiagram": ThreeDIntersectionDiagramPropsSchema,
	absoluteValueNumberLine: AbsoluteValueNumberLinePropsSchema,
	angleDiagram: AngleDiagramPropsSchema,
	barChart: BarChartPropsSchema,
	boxGrid: BoxGridPropsSchema,
	boxPlot: BoxPlotPropsSchema,
	circleDiagram: CircleDiagramPropsSchema,
	compositeShapeDiagram: CompositeShapeDiagramPropsSchema,
	coordinatePlane: CoordinatePlaneComprehensivePropsSchema,
	distanceFormulaGraph: DistanceFormulaGraphPropsSchema,
	functionPlotGraph: FunctionPlotGraphPropsSchema,
	lineEquationGraph: LineEquationGraphPropsSchema,
	pointPlotGraph: PointPlotGraphPropsSchema,
	polygonGraph: PolygonGraphPropsSchema,
	shapeTransformationGraph: ShapeTransformationGraphPropsSchema,
	dataTable: DataTablePropsSchema,
	discreteObjectRatioDiagram: DiscreteObjectRatioDiagramPropsSchema,
	dotPlot: DotPlotPropsSchema,
	doubleNumberLine: DoubleNumberLinePropsSchema,
	emojiImage: EmojiImagePropsSchema,
	figureComparisonDiagram: FigureComparisonDiagramPropsSchema,
	fractionNumberLine: FractionNumberLinePropsSchema,
	geometricSolidDiagram: GeometricSolidDiagramPropsSchema,
	hangerDiagram: HangerDiagramPropsSchema,
	histogram: HistogramPropsSchema,
	inequalityNumberLine: InequalityNumberLinePropsSchema,
	numberLine: NumberLinePropsSchema,
	numberLineForOpposites: NumberLineForOppositesPropsSchema,
	numberLineWithAction: NumberLineWithActionPropsSchema,
	numberLineWithFractionGroups: NumberLineWithFractionGroupsPropsSchema,
	numberSetDiagram: NumberSetDiagramPropsSchema,
	partitionedShape: PartitionedShapePropsSchema,
	pentagonIntersectionDiagram: PentagonIntersectionDiagramPropsSchema,
	pictograph: PictographPropsSchema,
	polyhedronDiagram: PolyhedronDiagramPropsSchema,
	probabilitySpinner: ProbabilitySpinnerPropsSchema,
	polyhedronNetDiagram: PolyhedronNetDiagramPropsSchema,
	pythagoreanProofDiagram: PythagoreanProofDiagramPropsSchema,
	ratioBoxDiagram: RatioBoxDiagramPropsSchema,
	rectangularFrameDiagram: RectangularFrameDiagramPropsSchema,
	scaleCopiesSlider: ScaleCopiesSliderPropsSchema,
```

- Compiler finalization (missing URL hardening) — src/lib/qti-generation/compiler.ts
```
	finalXml = stripXmlComments(finalXml, logger)
	finalXml = removeDoubleNewlines(finalXml, logger)
	finalXml = fixMathMLOperators(finalXml, logger)
	finalXml = fixInequalityOperators(finalXml, logger)
	// Convert HTML entities to Unicode characters at the very end
	return convertHtmlEntities(finalXml, logger)
}

```
