<?xml version="1.0" encoding="UTF-8"?>
<!--
  This QTI XML has been refactored from a Perseus 'orderer' (drag-and-drop) item to a 'choiceInteraction'.

  REASON FOR THE CHANGE:
  Interactive item types like drag-and-drop can have inconsistent support across different QTI platforms,
  potentially leading to validation or submission issues. To ensure maximum reliability and compatibility,
  the assessment has been converted to a multiple-choice question.

  THE NEW APPROACH:
  The core skill (counting a quantity of 10) is now assessed by asking the user to *select* the box
  that correctly contains 10 bananas from a set of static images. This preserves the educational
  goal while using a universally supported QTI interaction type.

  BANANA EMOJI IMPLEMENTATION:
  Following the CRITICAL EMOJI RULE from our AI conversion guidelines, the Perseus graphie images 
  of bananas have been replaced with banana emojis (ðŸŒ) rendered as text elements within inline SVG 
  images. This approach is more reliable than external graphie images which may fail to load, and 
  provides a consistent, self-contained visual representation of the counting task.
-->
<qti-assessment-item
    xmlns="http://www.imsglobal.org/xsd/imsqtiasi_v3p0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqtiasi_v3p0 https://purl.imsglobal.org/spec/qti/v3p0/schema/xsd/imsqti_asiv3p0p1_v1p0.xsd http://www.w3.org/1998/Math/MathML https://purl.imsglobal.org/spec/mathml/v3p0/schema/xsd/mathml3.xsd"
    identifier="count-bananas-multiple-choice"
    title="Count the bananas"
    time-dependent="false"
    xml:lang="en-US">

    <qti-response-declaration identifier="RESPONSE" cardinality="single" base-type="identifier">
        <qti-correct-response>
            <qti-value>CHOICE_10</qti-value>
        </qti-correct-response>
    </qti-response-declaration>

    <qti-outcome-declaration identifier="SCORE" cardinality="single" base-type="float">
        <qti-default-value>
            <qti-value>0</qti-value>
        </qti-default-value>
    </qti-outcome-declaration>
    <qti-outcome-declaration identifier="FEEDBACK" cardinality="single" base-type="identifier"/>

    <qti-item-body>
        <qti-choice-interaction response-identifier="RESPONSE" shuffle="true" max-choices="1">
            <qti-prompt>Which box has 10 bananas?</qti-prompt>
            
            <qti-simple-choice identifier="CHOICE_8">
                <img src="data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='120' viewBox='0 0 300 120'%3E%3Crect x='0' y='0' width='300' height='120' fill='white' stroke='black' stroke-width='2'/%3E%3Ctext font-size='40' text-anchor='middle'%3E%3Ctspan x='37.5' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='112.5' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='187.5' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='262.5' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='37.5' y='90'%3EðŸŒ%3C/tspan%3E%3Ctspan x='112.5' y='90'%3EðŸŒ%3C/tspan%3E%3Ctspan x='187.5' y='90'%3EðŸŒ%3C/tspan%3E%3Ctspan x='262.5' y='90'%3EðŸŒ%3C/tspan%3E%3C/text%3E%3C/svg%3E" alt="Box containing 8 bananas"/>
            </qti-simple-choice>

            <qti-simple-choice identifier="CHOICE_9">
                <img src="data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='140' viewBox='0 0 300 140'%3E%3Crect x='0' y='0' width='300' height='140' fill='white' stroke='black' stroke-width='2'/%3E%3Ctext font-size='40' text-anchor='middle'%3E%3Ctspan x='50' y='40'%3EðŸŒ%3C/tspan%3E%3Ctspan x='150' y='40'%3EðŸŒ%3C/tspan%3E%3Ctspan x='250' y='40'%3EðŸŒ%3C/tspan%3E%3Ctspan x='50' y='80'%3EðŸŒ%3C/tspan%3E%3Ctspan x='150' y='80'%3EðŸŒ%3C/tspan%3E%3Ctspan x='250' y='80'%3EðŸŒ%3C/tspan%3E%3Ctspan x='50' y='120'%3EðŸŒ%3C/tspan%3E%3Ctspan x='150' y='120'%3EðŸŒ%3C/tspan%3E%3Ctspan x='250' y='120'%3EðŸŒ%3C/tspan%3E%3C/text%3E%3C/svg%3E" alt="Box containing 9 bananas"/>
            </qti-simple-choice>

            <qti-simple-choice identifier="CHOICE_10">
                <img src="data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='120' viewBox='0 0 300 120'%3E%3Crect x='0' y='0' width='300' height='120' fill='white' stroke='black' stroke-width='2'/%3E%3Ctext font-size='40' text-anchor='middle'%3E%3Ctspan x='30' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='90' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='150' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='210' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='270' y='45'%3EðŸŒ%3C/tspan%3E%3Ctspan x='30' y='90'%3EðŸŒ%3C/tspan%3E%3Ctspan x='90' y='90'%3EðŸŒ%3C/tspan%3E%3Ctspan x='150' y='90'%3EðŸŒ%3C/tspan%3E%3Ctspan x='210' y='90'%3EðŸŒ%3C/tspan%3E%3Ctspan x='270' y='90'%3EðŸŒ%3C/tspan%3E%3C/text%3E%3C/svg%3E" alt="Box containing 10 bananas"/>
            </qti-simple-choice>

            <qti-simple-choice identifier="CHOICE_11">
                <img src="data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='140' viewBox='0 0 300 140'%3E%3Crect x='0' y='0' width='300' height='140' fill='white' stroke='black' stroke-width='2'/%3E%3Ctext font-size='40' text-anchor='middle'%3E%3Ctspan x='37.5' y='40'%3EðŸŒ%3C/tspan%3E%3Ctspan x='112.5' y='40'%3EðŸŒ%3C/tspan%3E%3Ctspan x='187.5' y='40'%3EðŸŒ%3C/tspan%3E%3Ctspan x='262.5' y='40'%3EðŸŒ%3C/tspan%3E%3Ctspan x='37.5' y='80'%3EðŸŒ%3C/tspan%3E%3Ctspan x='112.5' y='80'%3EðŸŒ%3C/tspan%3E%3Ctspan x='187.5' y='80'%3EðŸŒ%3C/tspan%3E%3Ctspan x='262.5' y='80'%3EðŸŒ%3C/tspan%3E%3Ctspan x='75' y='120'%3EðŸŒ%3C/tspan%3E%3Ctspan x='150' y='120'%3EðŸŒ%3C/tspan%3E%3Ctspan x='225' y='120'%3EðŸŒ%3C/tspan%3E%3C/text%3E%3C/svg%3E" alt="Box containing 11 bananas"/>
            </qti-simple-choice>

        </qti-choice-interaction>

        <qti-feedback-block outcome-identifier="FEEDBACK" identifier="CORRECT" show-hide="show">
            <qti-content-body>
                <p><span class="qti-keyword-emphasis">Great job!</span> That box has exactly ten bananas.</p>
            </qti-content-body>
        </qti-feedback-block>
        <qti-feedback-block outcome-identifier="FEEDBACK" identifier="INCORRECT" show-hide="show">
            <qti-content-body>
                <p><span class="qti-keyword-emphasis">Try again.</span> Count the bananas in each box to find the one with exactly ten.</p>
            </qti-content-body>
        </qti-feedback-block>
    </qti-item-body>

    <qti-response-processing>
        <qti-response-condition>
            <qti-response-if>
                <qti-match>
                    <qti-variable identifier="RESPONSE"/>
                    <qti-correct identifier="RESPONSE"/>
                </qti-match>
                <qti-set-outcome-value identifier="SCORE">
                    <qti-base-value base-type="float">1</qti-base-value>
                </qti-set-outcome-value>
                <qti-set-outcome-value identifier="FEEDBACK">
                    <qti-base-value base-type="identifier">CORRECT</qti-base-value>
                </qti-set-outcome-value>
            </qti-response-if>
            <qti-response-else>
                <qti-set-outcome-value identifier="SCORE">
                    <qti-base-value base-type="float">0</qti-base-value>
                </qti-set-outcome-value>
                <qti-set-outcome-value identifier="FEEDBACK">
                    <qti-base-value base-type="identifier">INCORRECT</qti-base-value>
                </qti-set-outcome-value>
            </qti-response-else>
        </qti-response-condition>
    </qti-response-processing>

</qti-assessment-item>