// ============================================================================
// EXTRACTED TEST FILE - AUTO-GENERATED
// ============================================================================
// This file was automatically generated from database structured_json data
// Generated on: 2025-09-18T05:17:02.167Z
// Widget Type: boxGrid
// Source: Real questions from database
//
// These tests use actual widget configurations extracted from production data
// to ensure comprehensive test coverage with realistic scenarios.
//
// Note: Database data may not perfectly match current widget schemas, so these
// tests rely on runtime validation within generateWidget() for flexibility.
//
// DO NOT EDIT THIS FILE DIRECTLY - it will be overwritten on regeneration
//
// Run tests: bun test tests/widgets/box-grid.extracted.test.ts
// Update snapshots: bun test tests/widgets/box-grid.extracted.test.ts --update-snapshots
// ============================================================================

import { describe, test, expect } from "bun:test"
import { generateWidget } from "@superbuilders/qti-assessment-item-generator/widgets/widget-generator"
import type { Widget, WidgetInput } from "@superbuilders/qti-assessment-item-generator/widgets/registry"
import * as errors from "@superbuilders/errors"
import * as logger from "@superbuilders/slog"

describe("boxGrid widget tests", () => {
	// Extracted from question: xd6cfcf381227e31a
	// Question: Create a frequency table from window counts
	// Widget key: image_1
	test("box-grid - [xd6cfcf381227e31a] Create a frequency table from window counts", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>2</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>2</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>2</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>2</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>2</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>2</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>3</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>2</mn>"
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 320,
		  "height": 320,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xf66ab2278e4a05f2
	// Question: Create a frequency table from ages
	// Widget key: image_1
	test("box-grid - [xf66ab2278e4a05f2] Create a frequency table from ages", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 5
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 5
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 3
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 400,
		  "height": 300,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xa675f995a8e6b4e0
	// Question: Create a frequency table from wheel counts
	// Widget key: image_1
	test("box-grid - [xa675f995a8e6b4e0] Create a frequency table from wheel counts", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 2
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 1
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 4
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 2
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 3
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 3
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 320,
		  "height": 320,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x4a4b94ca18ce390e
	// Question: Create a frequency table from sales data
	// Widget key: image_1
	test("box-grid - [x4a4b94ca18ce390e] Create a frequency table from sales data", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 29
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 30
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 29
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 29
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 31
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 28
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 28
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 31
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 28
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 320,
		  "height": 320,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xa6e2c6d2dc1d379b
	// Question: Create a frequency table for dish counts
	// Widget key: image_1
	test("box-grid - [xa6e2c6d2dc1d379b] Create a frequency table for dish counts", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>43</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>43</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>45</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>44</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>46</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>45</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>44</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>42</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>45</mn>"
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 320,
		  "height": 320,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x591a9b8b66bfa58f
	// Question: Create a frequency table from a data grid
	// Widget key: image_1
	test("box-grid - [x591a9b8b66bfa58f] Create a frequency table from a data grid", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>3</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>5</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>4</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>5</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>5</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>3</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>1</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>2</mn>"
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 400,
		  "height": 400,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xe3970cd129a50986
	// Question: Create a frequency table from terrarium counts
	// Widget key: image_1
	test("box-grid - [xe3970cd129a50986] Create a frequency table from terrarium counts", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>5</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>5</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>3</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>5</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>4</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>3</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>5</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>3</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>3</mn>"
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 320,
		  "height": 320,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xf94a0567ec8843f2
	// Question: Create a frequency table from a sleep-hours data set
	// Widget key: image_1
	test("box-grid - [xf94a0567ec8843f2] Create a frequency table from a sleep-hours data set", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 6
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 7
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 8
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 7
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 7
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 8
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 7
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "sign": "+",
		          "type": "whole",
		          "value": 6
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 400,
		  "height": 300,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x3e62815647fd99bc
	// Question: Which diagram shows all possible plant–pot outcomes?
	// Widget key: image_1
	test("box-grid - [x3e62815647fd99bc] Which diagram shows all possible plant–pot outcomes? (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext></mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot</mtext>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Tulip</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot, Tulip</mtext>"
		        },
		        "backgroundColor": "#9d38bd"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot, Tulip</mtext>"
		        },
		        "backgroundColor": "#6495ed"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot, Tulip</mtext>"
		        },
		        "backgroundColor": "#FFA500"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot, Tulip</mtext>"
		        },
		        "backgroundColor": "#28ae7b"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Fern</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot, Fern</mtext>"
		        },
		        "backgroundColor": "#9d38bd"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot, Fern</mtext>"
		        },
		        "backgroundColor": "#6495ed"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot, Fern</mtext>"
		        },
		        "backgroundColor": "#FFA500"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot, Fern</mtext>"
		        },
		        "backgroundColor": "#28ae7b"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Cactus</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot, Cactus</mtext>"
		        },
		        "backgroundColor": "#9d38bd"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot, Cactus</mtext>"
		        },
		        "backgroundColor": "#6495ed"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot, Cactus</mtext>"
		        },
		        "backgroundColor": "#FFA500"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot, Cactus</mtext>"
		        },
		        "backgroundColor": "#28ae7b"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Ficus</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot, Ficus</mtext>"
		        },
		        "backgroundColor": "#9d38bd"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot, Ficus</mtext>"
		        },
		        "backgroundColor": "#6495ed"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot, Ficus</mtext>"
		        },
		        "backgroundColor": "#FFA500"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot, Ficus</mtext>"
		        },
		        "backgroundColor": "#28ae7b"
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 480,
		  "height": 370,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x3e62815647fd99bc
	// Question: Which diagram shows all possible plant–pot outcomes?
	// Widget key: image_2
	test("box-grid - [x3e62815647fd99bc] Which diagram shows all possible plant–pot outcomes? (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext></mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Tulip</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Fern</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Cactus</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Ficus</mtext>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot, Tulip</mtext>"
		        },
		        "backgroundColor": "#9d38bd"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot, Fern</mtext>"
		        },
		        "backgroundColor": "#9d38bd"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot, Cactus</mtext>"
		        },
		        "backgroundColor": "#9d38bd"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Clay pot, Ficus</mtext>"
		        },
		        "backgroundColor": "#9d38bd"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot, Tulip</mtext>"
		        },
		        "backgroundColor": "#6495ed"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot, Fern</mtext>"
		        },
		        "backgroundColor": "#6495ed"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot, Cactus</mtext>"
		        },
		        "backgroundColor": "#6495ed"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Plastic pot, Ficus</mtext>"
		        },
		        "backgroundColor": "#6495ed"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot, Tulip</mtext>"
		        },
		        "backgroundColor": "#FFA500"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot, Fern</mtext>"
		        },
		        "backgroundColor": "#FFA500"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot, Cactus</mtext>"
		        },
		        "backgroundColor": "#FFA500"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Metal pot, Ficus</mtext>"
		        },
		        "backgroundColor": "#FFA500"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot, Tulip</mtext>"
		        },
		        "backgroundColor": "#28ae7b"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot, Fern</mtext>"
		        },
		        "backgroundColor": "#28ae7b"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot, Cactus</mtext>"
		        },
		        "backgroundColor": "#28ae7b"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Wood pot, Ficus</mtext>"
		        },
		        "backgroundColor": "#28ae7b"
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 480,
		  "height": 370,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xfd212b8f6e8f8ebf
	// Question: Which diagrams show all possible outcomes for clothing and color?
	// Widget key: image_1
	test("box-grid - [xfd212b8f6e8f8ebf] Which diagrams show all possible outcomes for clothing and color? (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext></mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple</mtext>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Socks</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue Socks</mtext>"
		        },
		        "backgroundColor": "#6495ED4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange Socks</mtext>"
		        },
		        "backgroundColor": "#FFA5004D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple Socks</mtext>"
		        },
		        "backgroundColor": "#9D38BD4D"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Hat</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue Hat</mtext>"
		        },
		        "backgroundColor": "#6495ED4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange Hat</mtext>"
		        },
		        "backgroundColor": "#FFA5004D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple Hat</mtext>"
		        },
		        "backgroundColor": "#9D38BD4D"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Pants</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue Pants</mtext>"
		        },
		        "backgroundColor": "#6495ED4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange Pants</mtext>"
		        },
		        "backgroundColor": "#FFA5004D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple Pants</mtext>"
		        },
		        "backgroundColor": "#9D38BD4D"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Shirt</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue Shirt</mtext>"
		        },
		        "backgroundColor": "#6495ED4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange Shirt</mtext>"
		        },
		        "backgroundColor": "#FFA5004D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple Shirt</mtext>"
		        },
		        "backgroundColor": "#9D38BD4D"
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 440,
		  "height": 350,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xfd212b8f6e8f8ebf
	// Question: Which diagrams show all possible outcomes for clothing and color?
	// Widget key: image_2
	test("box-grid - [xfd212b8f6e8f8ebf] Which diagrams show all possible outcomes for clothing and color? (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext></mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange</mtext>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Shirt</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple Shirt</mtext>"
		        },
		        "backgroundColor": "#9D38BD4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue Shirt</mtext>"
		        },
		        "backgroundColor": "#6495ED4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange Shirt</mtext>"
		        },
		        "backgroundColor": "#FFA5004D"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Pants</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple Pants</mtext>"
		        },
		        "backgroundColor": "#9D38BD4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue Pants</mtext>"
		        },
		        "backgroundColor": "#6495ED4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange Pants</mtext>"
		        },
		        "backgroundColor": "#FFA5004D"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Socks</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple Socks</mtext>"
		        },
		        "backgroundColor": "#9D38BD4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue Socks</mtext>"
		        },
		        "backgroundColor": "#6495ED4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange Socks</mtext>"
		        },
		        "backgroundColor": "#FFA5004D"
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Hat</mtext>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Purple Hat</mtext>"
		        },
		        "backgroundColor": "#9D38BD4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Blue Hat</mtext>"
		        },
		        "backgroundColor": "#6495ED4D"
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mtext>Orange Hat</mtext>"
		        },
		        "backgroundColor": "#FFA5004D"
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 440,
		  "height": 350,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x6a594efc6ea1795f
	// Question: Mean absolute deviation (corn dogs)
	// Widget key: image_1
	test("box-grid - [x6a594efc6ea1795f] Mean absolute deviation (corn dogs)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mrow><mn>1</mn><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>4</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mrow><mn>2</mn><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow>"
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 300,
		  "height": 300,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x1f878f239642c0a2
	// Question: Mean absolute deviation for relay distances
	// Widget key: image_1
	test("box-grid - [x1f878f239642c0a2] Mean absolute deviation for relay distances", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.3</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.6</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.5</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>1</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.4</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.8</mn>"
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 400,
		  "height": 300,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xf7c5ab97ee58e7ab
	// Question: Mean absolute deviation of distances
	// Widget key: image_1
	test("box-grid - [xf7c5ab97ee58e7ab] Mean absolute deviation of distances", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "data": [
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.4</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.2</mn>"
		        },
		        "backgroundColor": null
		      }
		    ],
		    [
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.4</mn>"
		        },
		        "backgroundColor": null
		      },
		      {
		        "content": {
		          "type": "math",
		          "mathml": "<mn>0.6</mn>"
		        },
		        "backgroundColor": null
		      }
		    ]
		  ],
		  "type": "boxGrid",
		  "width": 320,
		  "height": 320,
		  "showGridLines": true
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for boxGrid", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

})
