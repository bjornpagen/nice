// ============================================================================
// EXTRACTED TEST FILE - AUTO-GENERATED
// ============================================================================
// This file was automatically generated from database structured_json data
// Generated on: 2025-09-17T15:38:03.956Z
// Widget Type: compositeShapeDiagram
// Source: Real questions from database
//
// These tests use actual widget configurations extracted from production data
// to ensure comprehensive test coverage with realistic scenarios.
//
// Note: Database data may not perfectly match current widget schemas, so these
// tests rely on runtime validation within generateWidget() for flexibility.
//
// DO NOT EDIT THIS FILE DIRECTLY - it will be overwritten on regeneration
//
// Run tests: bun test tests/widgets/composite-shape-diagram.extracted.test.ts
// Update snapshots: bun test tests/widgets/composite-shape-diagram.extracted.test.ts --update-snapshots
// ============================================================================

import { describe, test, expect } from "bun:test"
import { generateWidget } from "@superbuilders/qti-assessment-item-generator/widgets/widget-generator"
import type { Widget, WidgetInput } from "@superbuilders/qti-assessment-item-generator/widgets/registry"
import * as errors from "@superbuilders/errors"
import * as logger from "@superbuilders/slog"

describe("compositeShapeDiagram widget tests", () => {
	// Extracted from question: x9b74005f28d0b824
	// Question: Area of a shaded region between a circle and a rectangle
	// Widget key: image_1
	test("composite-shape-diagram - [x9b74005f28d0b824] Area of a shaded region between a circle and a rectangle", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 260,
		  "height": 260,
		  "vertices": [
		    {
		      "x": 130,
		      "y": 130,
		      "id": "center"
		    },
		    {
		      "x": 250,
		      "y": 130,
		      "id": "p0"
		    },
		    {
		      "x": 240.866,
		      "y": 175.922,
		      "id": "p1"
		    },
		    {
		      "x": 214.853,
		      "y": 214.853,
		      "id": "p2"
		    },
		    {
		      "x": 175.922,
		      "y": 240.866,
		      "id": "p3"
		    },
		    {
		      "x": 130,
		      "y": 250,
		      "id": "p4"
		    },
		    {
		      "x": 84.078,
		      "y": 240.866,
		      "id": "p5"
		    },
		    {
		      "x": 45.147,
		      "y": 214.853,
		      "id": "p6"
		    },
		    {
		      "x": 19.134,
		      "y": 175.922,
		      "id": "p7"
		    },
		    {
		      "x": 10,
		      "y": 130,
		      "id": "p8"
		    },
		    {
		      "x": 19.134,
		      "y": 84.078,
		      "id": "p9"
		    },
		    {
		      "x": 45.147,
		      "y": 45.147,
		      "id": "p10"
		    },
		    {
		      "x": 84.078,
		      "y": 19.134,
		      "id": "p11"
		    },
		    {
		      "x": 130,
		      "y": 10,
		      "id": "p12"
		    },
		    {
		      "x": 175.922,
		      "y": 19.134,
		      "id": "p13"
		    },
		    {
		      "x": 214.853,
		      "y": 45.147,
		      "id": "p14"
		    },
		    {
		      "x": 240.866,
		      "y": 84.078,
		      "id": "p15"
		    },
		    {
		      "x": 105,
		      "y": 75,
		      "id": "rectTopLeft"
		    },
		    {
		      "x": 155,
		      "y": 75,
		      "id": "rectTopRight"
		    },
		    {
		      "x": 155,
		      "y": 185,
		      "id": "rectBottomRight"
		    },
		    {
		      "x": 105,
		      "y": 185,
		      "id": "rectBottomLeft"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "p1",
		      "from": "p0",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p2",
		      "from": "p1",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p3",
		      "from": "p2",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p4",
		      "from": "p3",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p5",
		      "from": "p4",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p6",
		      "from": "p5",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p7",
		      "from": "p6",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p8",
		      "from": "p7",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p9",
		      "from": "p8",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p10",
		      "from": "p9",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p11",
		      "from": "p10",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p12",
		      "from": "p11",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p13",
		      "from": "p12",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p14",
		      "from": "p13",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p15",
		      "from": "p14",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "p0",
		      "from": "p15",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "rectTopRight",
		      "from": "rectTopLeft",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 5
		      }
		    },
		    {
		      "to": "rectBottomRight",
		      "from": "rectTopRight",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 11
		      }
		    },
		    {
		      "to": "rectBottomLeft",
		      "from": "rectBottomRight",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "rectTopLeft",
		      "from": "rectBottomLeft",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#ccfaff80",
		      "vertexIds": [
		        "p0",
		        "p1",
		        "p2",
		        "p3",
		        "p4",
		        "p5",
		        "p6",
		        "p7",
		        "p8",
		        "p9",
		        "p10",
		        "p11",
		        "p12",
		        "p13",
		        "p14",
		        "p15"
		      ]
		    },
		    {
		      "fillColor": "#fdfdfd",
		      "vertexIds": [
		        "rectTopLeft",
		        "rectTopRight",
		        "rectBottomRight",
		        "rectBottomLeft"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "cm",
		        "value": 12
		      },
		      "style": "solid",
		      "toVertexId": "p0",
		      "fromVertexId": "center"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xdd3424e759f98328
	// Question: Area of a shaded region (circle and rectangle)
	// Widget key: image_1
	test("composite-shape-diagram - [xdd3424e759f98328] Area of a shaded region (circle and rectangle)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 400,
		  "height": 400,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 0,
		      "id": "O"
		    },
		    {
		      "x": -20,
		      "y": -30,
		      "id": "R1"
		    },
		    {
		      "x": 20,
		      "y": -30,
		      "id": "R2"
		    },
		    {
		      "x": 20,
		      "y": 30,
		      "id": "R3"
		    },
		    {
		      "x": -20,
		      "y": 30,
		      "id": "R4"
		    },
		    {
		      "x": 110,
		      "y": 0,
		      "id": "C0"
		    },
		    {
		      "x": 101.63,
		      "y": 42.1,
		      "id": "C1"
		    },
		    {
		      "x": 77.78,
		      "y": 77.78,
		      "id": "C2"
		    },
		    {
		      "x": 42.1,
		      "y": 101.63,
		      "id": "C3"
		    },
		    {
		      "x": 0,
		      "y": 110,
		      "id": "C4"
		    },
		    {
		      "x": -42.1,
		      "y": 101.63,
		      "id": "C5"
		    },
		    {
		      "x": -77.78,
		      "y": 77.78,
		      "id": "C6"
		    },
		    {
		      "x": -101.63,
		      "y": 42.1,
		      "id": "C7"
		    },
		    {
		      "x": -110,
		      "y": 0,
		      "id": "C8"
		    },
		    {
		      "x": -101.63,
		      "y": -42.1,
		      "id": "C9"
		    },
		    {
		      "x": -77.78,
		      "y": -77.78,
		      "id": "C10"
		    },
		    {
		      "x": -42.1,
		      "y": -101.63,
		      "id": "C11"
		    },
		    {
		      "x": 0,
		      "y": -110,
		      "id": "C12"
		    },
		    {
		      "x": 42.1,
		      "y": -101.63,
		      "id": "C13"
		    },
		    {
		      "x": 77.78,
		      "y": -77.78,
		      "id": "C14"
		    },
		    {
		      "x": 101.63,
		      "y": -42.1,
		      "id": "C15"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "path": [
		        "C0",
		        "C1",
		        "C2",
		        "C3",
		        "C4",
		        "C5",
		        "C6",
		        "C7",
		        "C8",
		        "C9",
		        "C10",
		        "C11",
		        "C12",
		        "C13",
		        "C14",
		        "C15",
		        "C0"
		      ],
		      "type": "partitioned",
		      "segments": [
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        },
		        {
		          "label": null,
		          "style": "solid"
		        }
		      ]
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#ccfaff80",
		      "vertexIds": [
		        "C0",
		        "C1",
		        "C2",
		        "C3",
		        "C4",
		        "C5",
		        "C6",
		        "C7",
		        "C8",
		        "C9",
		        "C10",
		        "C11",
		        "C12",
		        "C13",
		        "C14",
		        "C15"
		      ]
		    },
		    {
		      "fillColor": "#ffffff",
		      "vertexIds": [
		        "R1",
		        "R2",
		        "R3",
		        "R4"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "cm",
		        "value": 11
		      },
		      "style": "solid",
		      "toVertexId": "C0",
		      "fromVertexId": "O"
		    },
		    {
		      "label": {
		        "unit": "cm",
		        "value": 4
		      },
		      "style": "solid",
		      "toVertexId": "R2",
		      "fromVertexId": "R1"
		    },
		    {
		      "label": {
		        "unit": "cm",
		        "value": 6
		      },
		      "style": "solid",
		      "toVertexId": "R3",
		      "fromVertexId": "R2"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "R4",
		      "fromVertexId": "R3"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "R1",
		      "fromVertexId": "R4"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xd8c0fb6d8bfff96e
	// Question: Area of a shaded region: circle minus rectangle
	// Widget key: image_1
	test("composite-shape-diagram - [xd8c0fb6d8bfff96e] Area of a shaded region: circle minus rectangle", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 280,
		  "height": 280,
		  "vertices": [
		    {
		      "x": 260,
		      "y": 140,
		      "id": "C0"
		    },
		    {
		      "x": 243.923,
		      "y": 80,
		      "id": "C1"
		    },
		    {
		      "x": 200,
		      "y": 36.077,
		      "id": "C2"
		    },
		    {
		      "x": 140,
		      "y": 20,
		      "id": "C3"
		    },
		    {
		      "x": 80,
		      "y": 36.077,
		      "id": "C4"
		    },
		    {
		      "x": 36.077,
		      "y": 80,
		      "id": "C5"
		    },
		    {
		      "x": 20,
		      "y": 140,
		      "id": "C6"
		    },
		    {
		      "x": 36.077,
		      "y": 200,
		      "id": "C7"
		    },
		    {
		      "x": 80,
		      "y": 243.923,
		      "id": "C8"
		    },
		    {
		      "x": 140,
		      "y": 260,
		      "id": "C9"
		    },
		    {
		      "x": 200,
		      "y": 243.923,
		      "id": "C10"
		    },
		    {
		      "x": 243.923,
		      "y": 200,
		      "id": "C11"
		    },
		    {
		      "x": 70,
		      "y": 90,
		      "id": "R1"
		    },
		    {
		      "x": 210,
		      "y": 90,
		      "id": "R2"
		    },
		    {
		      "x": 210,
		      "y": 190,
		      "id": "R3"
		    },
		    {
		      "x": 70,
		      "y": 190,
		      "id": "R4"
		    },
		    {
		      "x": 140,
		      "y": 140,
		      "id": "center"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "C1",
		      "from": "C0",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C2",
		      "from": "C1",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C3",
		      "from": "C2",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C4",
		      "from": "C3",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C5",
		      "from": "C4",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C6",
		      "from": "C5",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C7",
		      "from": "C6",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C8",
		      "from": "C7",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C9",
		      "from": "C8",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C10",
		      "from": "C9",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C11",
		      "from": "C10",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C0",
		      "from": "C11",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#ccfaff80",
		      "vertexIds": [
		        "C0",
		        "C1",
		        "C2",
		        "C3",
		        "C4",
		        "C5",
		        "C6",
		        "C7",
		        "C8",
		        "C9",
		        "C10",
		        "C11"
		      ]
		    },
		    {
		      "fillColor": "#ffffff",
		      "vertexIds": [
		        "R1",
		        "R2",
		        "R3",
		        "R4"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "cm",
		        "value": 7
		      },
		      "style": "solid",
		      "toVertexId": "R2",
		      "fromVertexId": "R1"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "R3",
		      "fromVertexId": "R2"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "R4",
		      "fromVertexId": "R3"
		    },
		    {
		      "label": {
		        "unit": "cm",
		        "value": 5
		      },
		      "style": "solid",
		      "toVertexId": "R1",
		      "fromVertexId": "R4"
		    },
		    {
		      "label": {
		        "unit": "cm",
		        "value": 6
		      },
		      "style": "solid",
		      "toVertexId": "C0",
		      "fromVertexId": "center"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x3a68667079fdffdd
	// Question: Area of a shaded region (circle and rectangle)
	// Widget key: image_1
	test("composite-shape-diagram - [x3a68667079fdffdd] Area of a shaded region (circle and rectangle)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 200,
		  "height": 200,
		  "vertices": [
		    {
		      "x": 100,
		      "y": 100,
		      "id": "O"
		    },
		    {
		      "x": 70,
		      "y": 80,
		      "id": "R1"
		    },
		    {
		      "x": 130,
		      "y": 80,
		      "id": "R2"
		    },
		    {
		      "x": 130,
		      "y": 120,
		      "id": "R3"
		    },
		    {
		      "x": 70,
		      "y": 120,
		      "id": "R4"
		    },
		    {
		      "x": 180,
		      "y": 100,
		      "id": "C0"
		    },
		    {
		      "x": 169.3,
		      "y": 140,
		      "id": "C1"
		    },
		    {
		      "x": 140,
		      "y": 169.3,
		      "id": "C2"
		    },
		    {
		      "x": 100,
		      "y": 180,
		      "id": "C3"
		    },
		    {
		      "x": 60,
		      "y": 169.3,
		      "id": "C4"
		    },
		    {
		      "x": 30.7,
		      "y": 140,
		      "id": "C5"
		    },
		    {
		      "x": 20,
		      "y": 100,
		      "id": "C6"
		    },
		    {
		      "x": 30.7,
		      "y": 60,
		      "id": "C7"
		    },
		    {
		      "x": 60,
		      "y": 30.7,
		      "id": "C8"
		    },
		    {
		      "x": 100,
		      "y": 20,
		      "id": "C9"
		    },
		    {
		      "x": 140,
		      "y": 30.7,
		      "id": "C10"
		    },
		    {
		      "x": 169.3,
		      "y": 60,
		      "id": "C11"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "C1",
		      "from": "C0",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C2",
		      "from": "C1",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C3",
		      "from": "C2",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C4",
		      "from": "C3",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C5",
		      "from": "C4",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C6",
		      "from": "C5",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C7",
		      "from": "C6",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C8",
		      "from": "C7",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C9",
		      "from": "C8",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C10",
		      "from": "C9",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C11",
		      "from": "C10",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C0",
		      "from": "C11",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "R2",
		      "from": "R1",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 3
		      }
		    },
		    {
		      "to": "R3",
		      "from": "R2",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 2
		      }
		    },
		    {
		      "to": "R4",
		      "from": "R3",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "R1",
		      "from": "R4",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#ccfaff80",
		      "vertexIds": [
		        "C0",
		        "C1",
		        "C2",
		        "C3",
		        "C4",
		        "C5",
		        "C6",
		        "C7",
		        "C8",
		        "C9",
		        "C10",
		        "C11"
		      ]
		    },
		    {
		      "fillColor": "#ffffff",
		      "vertexIds": [
		        "R1",
		        "R2",
		        "R3",
		        "R4"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "cm",
		        "value": 4
		      },
		      "style": "solid",
		      "toVertexId": "C0",
		      "fromVertexId": "O"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x55061cb6ed4c4ee5
	// Question: Area of a shaded region: rectangle minus circle
	// Widget key: image_1
	test("composite-shape-diagram - [x55061cb6ed4c4ee5] Area of a shaded region: rectangle minus circle", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 350,
		  "height": 350,
		  "vertices": [
		    {
		      "x": 25,
		      "y": 25,
		      "id": "A"
		    },
		    {
		      "x": 300,
		      "y": 25,
		      "id": "B"
		    },
		    {
		      "x": 300,
		      "y": 325,
		      "id": "C"
		    },
		    {
		      "x": 25,
		      "y": 325,
		      "id": "D"
		    },
		    {
		      "x": 162.5,
		      "y": 175,
		      "id": "O"
		    },
		    {
		      "x": 187.5,
		      "y": 175,
		      "id": "R"
		    },
		    {
		      "x": 186.64814565,
		      "y": 181.470476125,
		      "id": "c1"
		    },
		    {
		      "x": 184.1506351,
		      "y": 187.5,
		      "id": "c2"
		    },
		    {
		      "x": 180.17766928,
		      "y": 192.67766928,
		      "id": "c3"
		    },
		    {
		      "x": 175,
		      "y": 196.6506351,
		      "id": "c4"
		    },
		    {
		      "x": 168.970476125,
		      "y": 199.14814565,
		      "id": "c5"
		    },
		    {
		      "x": 162.5,
		      "y": 200,
		      "id": "c6"
		    },
		    {
		      "x": 156.029523875,
		      "y": 199.14814565,
		      "id": "c7"
		    },
		    {
		      "x": 150,
		      "y": 196.6506351,
		      "id": "c8"
		    },
		    {
		      "x": 144.82233072,
		      "y": 192.67766928,
		      "id": "c9"
		    },
		    {
		      "x": 140.8493649,
		      "y": 187.5,
		      "id": "c10"
		    },
		    {
		      "x": 138.35185435,
		      "y": 181.470476125,
		      "id": "c11"
		    },
		    {
		      "x": 137.5,
		      "y": 175,
		      "id": "L"
		    },
		    {
		      "x": 138.35185435,
		      "y": 168.529523875,
		      "id": "c13"
		    },
		    {
		      "x": 140.8493649,
		      "y": 162.5,
		      "id": "c14"
		    },
		    {
		      "x": 144.82233072,
		      "y": 157.32233072,
		      "id": "c15"
		    },
		    {
		      "x": 150,
		      "y": 153.3493649,
		      "id": "c16"
		    },
		    {
		      "x": 156.029523875,
		      "y": 150.85185435,
		      "id": "c17"
		    },
		    {
		      "x": 162.5,
		      "y": 150,
		      "id": "c18"
		    },
		    {
		      "x": 168.970476125,
		      "y": 150.85185435,
		      "id": "c19"
		    },
		    {
		      "x": 175,
		      "y": 153.3493649,
		      "id": "c20"
		    },
		    {
		      "x": 180.17766928,
		      "y": 157.32233072,
		      "id": "c21"
		    },
		    {
		      "x": 184.1506351,
		      "y": 162.5,
		      "id": "c22"
		    },
		    {
		      "x": 186.64814565,
		      "y": 168.529523875,
		      "id": "c23"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "B",
		      "from": "A",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 11
		      }
		    },
		    {
		      "to": "C",
		      "from": "B",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "D",
		      "from": "C",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "A",
		      "from": "D",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 12
		      }
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#ccfaff80",
		      "vertexIds": [
		        "A",
		        "B",
		        "C",
		        "D"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "cm",
		        "value": 1
		      },
		      "style": "solid",
		      "toVertexId": "R",
		      "fromVertexId": "O"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c1",
		      "fromVertexId": "R"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c2",
		      "fromVertexId": "c1"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c3",
		      "fromVertexId": "c2"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c4",
		      "fromVertexId": "c3"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c5",
		      "fromVertexId": "c4"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c6",
		      "fromVertexId": "c5"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c7",
		      "fromVertexId": "c6"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c8",
		      "fromVertexId": "c7"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c9",
		      "fromVertexId": "c8"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c10",
		      "fromVertexId": "c9"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c11",
		      "fromVertexId": "c10"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "L",
		      "fromVertexId": "c11"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c13",
		      "fromVertexId": "L"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c14",
		      "fromVertexId": "c13"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c15",
		      "fromVertexId": "c14"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c16",
		      "fromVertexId": "c15"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c17",
		      "fromVertexId": "c16"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c18",
		      "fromVertexId": "c17"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c19",
		      "fromVertexId": "c18"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c20",
		      "fromVertexId": "c19"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c21",
		      "fromVertexId": "c20"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c22",
		      "fromVertexId": "c21"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c23",
		      "fromVertexId": "c22"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "R",
		      "fromVertexId": "c23"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xc12b923ac5d6ad9e
	// Question: Area of a shaded region (rectangle with inscribed circle)
	// Widget key: image_1
	test("composite-shape-diagram - [xc12b923ac5d6ad9e] Area of a shaded region (rectangle with inscribed circle)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 420,
		  "height": 560,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 0,
		      "id": "A"
		    },
		    {
		      "x": 3,
		      "y": 0,
		      "id": "B"
		    },
		    {
		      "x": 3,
		      "y": 4,
		      "id": "C"
		    },
		    {
		      "x": 0,
		      "y": 4,
		      "id": "D"
		    },
		    {
		      "x": 1.5,
		      "y": 2,
		      "id": "O"
		    },
		    {
		      "x": 2.5,
		      "y": 2,
		      "id": "P"
		    },
		    {
		      "x": 2.5,
		      "y": 2,
		      "id": "c0"
		    },
		    {
		      "x": 2.465925826,
		      "y": 2.258819045,
		      "id": "c1"
		    },
		    {
		      "x": 2.366025404,
		      "y": 2.5,
		      "id": "c2"
		    },
		    {
		      "x": 2.207106781,
		      "y": 2.707106781,
		      "id": "c3"
		    },
		    {
		      "x": 2,
		      "y": 2.866025404,
		      "id": "c4"
		    },
		    {
		      "x": 1.758819045,
		      "y": 2.965925826,
		      "id": "c5"
		    },
		    {
		      "x": 1.5,
		      "y": 3,
		      "id": "c6"
		    },
		    {
		      "x": 1.241180955,
		      "y": 2.965925826,
		      "id": "c7"
		    },
		    {
		      "x": 1,
		      "y": 2.866025404,
		      "id": "c8"
		    },
		    {
		      "x": 0.792893219,
		      "y": 2.707106781,
		      "id": "c9"
		    },
		    {
		      "x": 0.633974596,
		      "y": 2.5,
		      "id": "c10"
		    },
		    {
		      "x": 0.534074174,
		      "y": 2.258819045,
		      "id": "c11"
		    },
		    {
		      "x": 0.5,
		      "y": 2,
		      "id": "c12"
		    },
		    {
		      "x": 0.534074174,
		      "y": 1.741180955,
		      "id": "c13"
		    },
		    {
		      "x": 0.633974596,
		      "y": 1.5,
		      "id": "c14"
		    },
		    {
		      "x": 0.792893219,
		      "y": 1.292893219,
		      "id": "c15"
		    },
		    {
		      "x": 1,
		      "y": 1.133974596,
		      "id": "c16"
		    },
		    {
		      "x": 1.241180955,
		      "y": 1.034074174,
		      "id": "c17"
		    },
		    {
		      "x": 1.5,
		      "y": 1,
		      "id": "c18"
		    },
		    {
		      "x": 1.758819045,
		      "y": 1.034074174,
		      "id": "c19"
		    },
		    {
		      "x": 2,
		      "y": 1.133974596,
		      "id": "c20"
		    },
		    {
		      "x": 2.207106781,
		      "y": 1.292893219,
		      "id": "c21"
		    },
		    {
		      "x": 2.366025404,
		      "y": 1.5,
		      "id": "c22"
		    },
		    {
		      "x": 2.465925826,
		      "y": 1.741180955,
		      "id": "c23"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "B",
		      "from": "A",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 3
		      }
		    },
		    {
		      "to": "C",
		      "from": "B",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 4
		      }
		    },
		    {
		      "to": "D",
		      "from": "C",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "A",
		      "from": "D",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#ccfaff80",
		      "vertexIds": [
		        "A",
		        "B",
		        "C",
		        "D"
		      ]
		    },
		    {
		      "fillColor": "#ffffff",
		      "vertexIds": [
		        "c0",
		        "c1",
		        "c2",
		        "c3",
		        "c4",
		        "c5",
		        "c6",
		        "c7",
		        "c8",
		        "c9",
		        "c10",
		        "c11",
		        "c12",
		        "c13",
		        "c14",
		        "c15",
		        "c16",
		        "c17",
		        "c18",
		        "c19",
		        "c20",
		        "c21",
		        "c22",
		        "c23"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "cm",
		        "value": 1
		      },
		      "style": "solid",
		      "toVertexId": "P",
		      "fromVertexId": "O"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x9b473530bde85c53
	// Question: Shaded area between a rectangle and an inscribed circle
	// Widget key: image_1
	test("composite-shape-diagram - [x9b473530bde85c53] Shaded area between a rectangle and an inscribed circle", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 350,
		  "height": 350,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 0,
		      "id": "topLeft"
		    },
		    {
		      "x": 11,
		      "y": 0,
		      "id": "topRight"
		    },
		    {
		      "x": 11,
		      "y": 12,
		      "id": "bottomRight"
		    },
		    {
		      "x": 0,
		      "y": 12,
		      "id": "bottomLeft"
		    },
		    {
		      "x": 5.5,
		      "y": 6,
		      "id": "center"
		    },
		    {
		      "x": 7.5,
		      "y": 6,
		      "id": "radiusEnd"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "topRight",
		      "from": "topLeft",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 11
		      }
		    },
		    {
		      "to": "bottomRight",
		      "from": "topRight",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 12
		      }
		    },
		    {
		      "to": "bottomLeft",
		      "from": "bottomRight",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "topLeft",
		      "from": "bottomLeft",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "cm",
		        "value": 2
		      },
		      "style": "solid",
		      "toVertexId": "radiusEnd",
		      "fromVertexId": "center"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xf0438c2e9eb979cd
	// Question: Area of a shaded region between a circle and a square
	// Widget key: image_1
	test("composite-shape-diagram - [xf0438c2e9eb979cd] Area of a shaded region between a circle and a square", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 350,
		  "height": 325,
		  "vertices": [
		    {
		      "x": 25,
		      "y": 25,
		      "id": "A"
		    },
		    {
		      "x": 300,
		      "y": 25,
		      "id": "B"
		    },
		    {
		      "x": 300,
		      "y": 300,
		      "id": "C"
		    },
		    {
		      "x": 25,
		      "y": 300,
		      "id": "D"
		    },
		    {
		      "x": 162.5,
		      "y": 162.5,
		      "id": "O"
		    },
		    {
		      "x": 287.5,
		      "y": 162.5,
		      "id": "c0"
		    },
		    {
		      "x": 277.985,
		      "y": 210.335,
		      "id": "c1"
		    },
		    {
		      "x": 250.888,
		      "y": 250.888,
		      "id": "c2"
		    },
		    {
		      "x": 210.335,
		      "y": 277.985,
		      "id": "c3"
		    },
		    {
		      "x": 162.5,
		      "y": 287.5,
		      "id": "c4"
		    },
		    {
		      "x": 114.665,
		      "y": 277.985,
		      "id": "c5"
		    },
		    {
		      "x": 74.112,
		      "y": 250.888,
		      "id": "c6"
		    },
		    {
		      "x": 47.015,
		      "y": 210.335,
		      "id": "c7"
		    },
		    {
		      "x": 37.5,
		      "y": 162.5,
		      "id": "c8"
		    },
		    {
		      "x": 47.015,
		      "y": 114.665,
		      "id": "c9"
		    },
		    {
		      "x": 74.112,
		      "y": 74.112,
		      "id": "c10"
		    },
		    {
		      "x": 114.665,
		      "y": 47.015,
		      "id": "c11"
		    },
		    {
		      "x": 162.5,
		      "y": 37.5,
		      "id": "c12"
		    },
		    {
		      "x": 210.335,
		      "y": 47.015,
		      "id": "c13"
		    },
		    {
		      "x": 250.888,
		      "y": 74.112,
		      "id": "c14"
		    },
		    {
		      "x": 277.985,
		      "y": 114.665,
		      "id": "c15"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "B",
		      "from": "A",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 11
		      }
		    },
		    {
		      "to": "C",
		      "from": "B",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "D",
		      "from": "C",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "A",
		      "from": "D",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 11
		      }
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#ccfaff80",
		      "vertexIds": [
		        "A",
		        "B",
		        "C",
		        "D"
		      ]
		    },
		    {
		      "fillColor": "#ffffff",
		      "vertexIds": [
		        "c0",
		        "c1",
		        "c2",
		        "c3",
		        "c4",
		        "c5",
		        "c6",
		        "c7",
		        "c8",
		        "c9",
		        "c10",
		        "c11",
		        "c12",
		        "c13",
		        "c14",
		        "c15"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c1",
		      "fromVertexId": "c0"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c2",
		      "fromVertexId": "c1"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c3",
		      "fromVertexId": "c2"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c4",
		      "fromVertexId": "c3"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c5",
		      "fromVertexId": "c4"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c6",
		      "fromVertexId": "c5"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c7",
		      "fromVertexId": "c6"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c8",
		      "fromVertexId": "c7"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c9",
		      "fromVertexId": "c8"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c10",
		      "fromVertexId": "c9"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c11",
		      "fromVertexId": "c10"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c12",
		      "fromVertexId": "c11"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c13",
		      "fromVertexId": "c12"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c14",
		      "fromVertexId": "c13"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c15",
		      "fromVertexId": "c14"
		    },
		    {
		      "label": null,
		      "style": "solid",
		      "toVertexId": "c0",
		      "fromVertexId": "c15"
		    },
		    {
		      "label": {
		        "unit": "cm",
		        "value": 5
		      },
		      "style": "solid",
		      "toVertexId": "c0",
		      "fromVertexId": "O"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xba5a78efccb96b8e
	// Question: Area of a shaded region (circle inside rectangle)
	// Widget key: image_1
	test("composite-shape-diagram - [xba5a78efccb96b8e] Area of a shaded region (circle inside rectangle)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 440,
		  "height": 300,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 0,
		      "id": "A"
		    },
		    {
		      "x": 11,
		      "y": 0,
		      "id": "B"
		    },
		    {
		      "x": 11,
		      "y": 7,
		      "id": "C"
		    },
		    {
		      "x": 0,
		      "y": 7,
		      "id": "D"
		    },
		    {
		      "x": 5.5,
		      "y": 3.5,
		      "id": "O"
		    },
		    {
		      "x": 7.5,
		      "y": 3.5,
		      "id": "R"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "B",
		      "from": "A",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 11
		      }
		    },
		    {
		      "to": "C",
		      "from": "B",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "D",
		      "from": "C",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "A",
		      "from": "D",
		      "type": "simple",
		      "label": {
		        "unit": "cm",
		        "value": 7
		      }
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "cm",
		        "value": 2
		      },
		      "style": "solid",
		      "toVertexId": "R",
		      "fromVertexId": "O"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xaee2680b7bbe6277
	// Question: Find the areas of two triangles and the whole figure
	// Widget key: image_1
	test("composite-shape-diagram - [xaee2680b7bbe6277] Find the areas of two triangles and the whole figure", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 400,
		  "height": 320,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 0,
		      "id": "top"
		    },
		    {
		      "x": -6,
		      "y": 10,
		      "id": "left"
		    },
		    {
		      "x": 6,
		      "y": 10,
		      "id": "right"
		    },
		    {
		      "x": 0,
		      "y": 20,
		      "id": "bottom"
		    },
		    {
		      "x": 0,
		      "y": 10,
		      "id": "mid"
		    }
		  ],
		  "regionLabels": [
		    {
		      "text": "A",
		      "position": {
		        "x": 0,
		        "y": 16
		      }
		    },
		    {
		      "text": "B",
		      "position": {
		        "x": 0,
		        "y": 4
		      }
		    }
		  ],
		  "boundaryEdges": [
		    {
		      "to": "left",
		      "from": "bottom",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "top",
		      "from": "left",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "right",
		      "from": "top",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "bottom",
		      "from": "right",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 7
		      },
		      "style": "dashed",
		      "toVertexId": "right",
		      "fromVertexId": "left"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 9
		      },
		      "style": "dashed",
		      "toVertexId": "bottom",
		      "fromVertexId": "mid"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 5
		      },
		      "style": "dashed",
		      "toVertexId": "top",
		      "fromVertexId": "mid"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x317e33403062daa2
	// Question: Find areas of parts of a composite figure
	// Widget key: image_1
	test("composite-shape-diagram - [x317e33403062daa2] Find areas of parts of a composite figure", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 520,
		  "height": 340,
		  "vertices": [
		    {
		      "x": 28.829,
		      "y": 2.883,
		      "id": "T"
		    },
		    {
		      "x": 28.829,
		      "y": 118.198,
		      "id": "L"
		    },
		    {
		      "x": 86.487,
		      "y": 118.198,
		      "id": "H1"
		    },
		    {
		      "x": 144.144,
		      "y": 118.198,
		      "id": "H2"
		    },
		    {
		      "x": 86.487,
		      "y": 175.856,
		      "id": "BL"
		    },
		    {
		      "x": 144.144,
		      "y": 175.856,
		      "id": "BR"
		    },
		    {
		      "x": 317.117,
		      "y": 118.198,
		      "id": "R"
		    }
		  ],
		  "regionLabels": [
		    {
		      "text": "A",
		      "position": {
		        "x": 110,
		        "y": 70
		      }
		    },
		    {
		      "text": "B",
		      "position": {
		        "x": 55,
		        "y": 155
		      }
		    },
		    {
		      "text": "C",
		      "position": {
		        "x": 115,
		        "y": 150
		      }
		    },
		    {
		      "text": "D",
		      "position": {
		        "x": 220,
		        "y": 140
		      }
		    }
		  ],
		  "boundaryEdges": [
		    {
		      "to": "L",
		      "from": "T",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 4
		      }
		    },
		    {
		      "to": "BL",
		      "from": "L",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "BR",
		      "from": "BL",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "R",
		      "from": "BR",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "T",
		      "from": "R",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#bc26124d",
		      "vertexIds": [
		        "T",
		        "L",
		        "R"
		      ]
		    },
		    {
		      "fillColor": "#e07d104d",
		      "vertexIds": [
		        "L",
		        "BL",
		        "H1"
		      ]
		    },
		    {
		      "fillColor": "#ca337c4d",
		      "vertexIds": [
		        "H1",
		        "BL",
		        "BR",
		        "H2"
		      ]
		    },
		    {
		      "fillColor": "#01a9954d",
		      "vertexIds": [
		        "H2",
		        "BR",
		        "R"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 2
		      },
		      "style": "dashed",
		      "toVertexId": "H1",
		      "fromVertexId": "L"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 2
		      },
		      "style": "dashed",
		      "toVertexId": "H2",
		      "fromVertexId": "H1"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 6
		      },
		      "style": "dashed",
		      "toVertexId": "R",
		      "fromVertexId": "H2"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 2
		      },
		      "style": "dashed",
		      "toVertexId": "BL",
		      "fromVertexId": "H1"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 2
		      },
		      "style": "dashed",
		      "toVertexId": "BR",
		      "fromVertexId": "H2"
		    }
		  ],
		  "rightAngleMarkers": [
		    {
		      "cornerVertexId": "L",
		      "adjacentVertex1Id": "T",
		      "adjacentVertex2Id": "H1"
		    },
		    {
		      "cornerVertexId": "H1",
		      "adjacentVertex1Id": "L",
		      "adjacentVertex2Id": "BL"
		    },
		    {
		      "cornerVertexId": "H2",
		      "adjacentVertex1Id": "R",
		      "adjacentVertex2Id": "BR"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x1a7f41561b0f2295
	// Question: Find areas of parts and whole of a composite figure
	// Widget key: image_1
	test("composite-shape-diagram - [x1a7f41561b0f2295] Find areas of parts and whole of a composite figure", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 480,
		  "height": 360,
		  "vertices": [
		    {
		      "x": 28.852,
		      "y": 238.689,
		      "id": "L_bottom"
		    },
		    {
		      "x": 28.852,
		      "y": 133.77,
		      "id": "L_top"
		    },
		    {
		      "x": 186.23,
		      "y": 2.623,
		      "id": "topApex"
		    },
		    {
		      "x": 186.23,
		      "y": 238.689,
		      "id": "R_mid"
		    },
		    {
		      "x": 107.541,
		      "y": 317.377,
		      "id": "bottomPoint"
		    },
		    {
		      "x": 186.23,
		      "y": 133.77,
		      "id": "R_top"
		    }
		  ],
		  "regionLabels": [
		    {
		      "text": "A",
		      "position": {
		        "x": 112,
		        "y": 275
		      }
		    },
		    {
		      "text": "B",
		      "position": {
		        "x": 108,
		        "y": 186
		      }
		    },
		    {
		      "text": "C",
		      "position": {
		        "x": 150,
		        "y": 90
		      }
		    }
		  ],
		  "boundaryEdges": [
		    {
		      "to": "L_top",
		      "from": "L_bottom",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "topApex",
		      "from": "L_top",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "R_mid",
		      "from": "topApex",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "bottomPoint",
		      "from": "R_mid",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "L_bottom",
		      "from": "bottomPoint",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 6
		      },
		      "style": "dashed",
		      "toVertexId": "R_mid",
		      "fromVertexId": "L_bottom"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 6
		      },
		      "style": "dashed",
		      "toVertexId": "R_top",
		      "fromVertexId": "L_top"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xd9db17552e59568e
	// Question: Areas of a composite figure (triangle and rectangles)
	// Widget key: image_1
	test("composite-shape-diagram - [xd9db17552e59568e] Areas of a composite figure (triangle and rectangles)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 320,
		  "height": 306,
		  "vertices": [
		    {
		      "x": 30.085,
		      "y": 276.239,
		      "id": "bottomLeft"
		    },
		    {
		      "x": 30.085,
		      "y": 30.086,
		      "id": "topLeft"
		    },
		    {
		      "x": 194.188,
		      "y": 30.086,
		      "id": "topRightLargeRect"
		    },
		    {
		      "x": 194.188,
		      "y": 84.786,
		      "id": "junction"
		    },
		    {
		      "x": 276.239,
		      "y": 84.786,
		      "id": "topRight"
		    },
		    {
		      "x": 276.239,
		      "y": 276.239,
		      "id": "bottomRight"
		    },
		    {
		      "x": 194.188,
		      "y": 276.239,
		      "id": "bottomRightLargeRect"
		    }
		  ],
		  "regionLabels": [
		    {
		      "text": "A",
		      "position": {
		        "x": 112.1,
		        "y": 153.2
		      }
		    },
		    {
		      "text": "B",
		      "position": {
		        "x": 225,
		        "y": 60
		      }
		    },
		    {
		      "text": "C",
		      "position": {
		        "x": 235,
		        "y": 190
		      }
		    }
		  ],
		  "boundaryEdges": [
		    {
		      "to": "topLeft",
		      "from": "bottomLeft",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 9
		      }
		    },
		    {
		      "to": "topRightLargeRect",
		      "from": "topLeft",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 6
		      }
		    },
		    {
		      "to": "topRight",
		      "from": "topRightLargeRect",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "bottomRight",
		      "from": "topRight",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 7
		      }
		    },
		    {
		      "to": "bottomLeft",
		      "from": "bottomRight",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 9
		      }
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#e84d3950",
		      "vertexIds": [
		        "topLeft",
		        "topRightLargeRect",
		        "bottomRightLargeRect",
		        "bottomLeft"
		      ]
		    },
		    {
		      "fillColor": "#01a99550",
		      "vertexIds": [
		        "topRightLargeRect",
		        "junction",
		        "topRight"
		      ]
		    },
		    {
		      "fillColor": "#7854ab50",
		      "vertexIds": [
		        "junction",
		        "topRight",
		        "bottomRight",
		        "bottomRightLargeRect"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": null,
		      "style": "dashed",
		      "toVertexId": "bottomRightLargeRect",
		      "fromVertexId": "topRightLargeRect"
		    },
		    {
		      "label": null,
		      "style": "dashed",
		      "toVertexId": "topRight",
		      "fromVertexId": "junction"
		    }
		  ],
		  "rightAngleMarkers": [
		    {
		      "cornerVertexId": "junction",
		      "adjacentVertex1Id": "topRightLargeRect",
		      "adjacentVertex2Id": "topRight"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x618d8cf7ccef9284
	// Question: Find areas of a composite figure
	// Widget key: image_1
	test("composite-shape-diagram - [x618d8cf7ccef9284] Find areas of a composite figure", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 480,
		  "height": 360,
		  "vertices": [
		    {
		      "x": 31.429,
		      "y": 31.429,
		      "id": "TL"
		    },
		    {
		      "x": 260,
		      "y": 31.429,
		      "id": "TR"
		    },
		    {
		      "x": 260,
		      "y": 317.143,
		      "id": "BR"
		    },
		    {
		      "x": 31.429,
		      "y": 317.143,
		      "id": "BL"
		    },
		    {
		      "x": 202.857,
		      "y": 174.286,
		      "id": "E"
		    },
		    {
		      "x": 31.429,
		      "y": 174.286,
		      "id": "Lmid"
		    },
		    {
		      "x": 260,
		      "y": 174.286,
		      "id": "Rmid"
		    }
		  ],
		  "regionLabels": [
		    {
		      "text": "A",
		      "position": {
		        "x": 145.7,
		        "y": 100
		      }
		    },
		    {
		      "text": "B",
		      "position": {
		        "x": 90,
		        "y": 240
		      }
		    },
		    {
		      "text": "C",
		      "position": {
		        "x": 235,
		        "y": 240
		      }
		    }
		  ],
		  "boundaryEdges": [
		    {
		      "to": "TL",
		      "from": "BL",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "TR",
		      "from": "TL",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 8
		      }
		    },
		    {
		      "to": "BR",
		      "from": "TR",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "E",
		      "from": "BR",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "BL",
		      "from": "E",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#e84d3950",
		      "vertexIds": [
		        "TL",
		        "TR",
		        "Rmid",
		        "Lmid"
		      ]
		    },
		    {
		      "fillColor": "#01a99550",
		      "vertexIds": [
		        "Lmid",
		        "BL",
		        "E"
		      ]
		    },
		    {
		      "fillColor": "#ca337c50",
		      "vertexIds": [
		        "Rmid",
		        "BR",
		        "E"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 6
		      },
		      "style": "dashed",
		      "toVertexId": "E",
		      "fromVertexId": "Lmid"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 2
		      },
		      "style": "dashed",
		      "toVertexId": "Rmid",
		      "fromVertexId": "E"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 5
		      },
		      "style": "dashed",
		      "toVertexId": "BL",
		      "fromVertexId": "Lmid"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 5
		      },
		      "style": "dashed",
		      "toVertexId": "BR",
		      "fromVertexId": "Rmid"
		    }
		  ],
		  "rightAngleMarkers": [
		    {
		      "cornerVertexId": "Lmid",
		      "adjacentVertex1Id": "BL",
		      "adjacentVertex2Id": "E"
		    },
		    {
		      "cornerVertexId": "Rmid",
		      "adjacentVertex1Id": "BR",
		      "adjacentVertex2Id": "E"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x52a99356a5daec25
	// Question: Find areas of a triangle, a rectangle, and the whole figure
	// Widget key: image_1
	test("composite-shape-diagram - [x52a99356a5daec25] Find areas of a triangle, a rectangle, and the whole figure", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 440,
		  "height": 320,
		  "vertices": [
		    {
		      "x": 2.038,
		      "y": 165.096,
		      "id": "tip"
		    },
		    {
		      "x": 42.803,
		      "y": 287.389,
		      "id": "BL"
		    },
		    {
		      "x": 185.478,
		      "y": 287.389,
		      "id": "BR"
		    },
		    {
		      "x": 185.478,
		      "y": 63.185,
		      "id": "TR"
		    },
		    {
		      "x": 42.803,
		      "y": 63.185,
		      "id": "TL"
		    },
		    {
		      "x": 42.803,
		      "y": 165.096,
		      "id": "foot"
		    }
		  ],
		  "regionLabels": [
		    {
		      "text": "A",
		      "position": {
		        "x": 18,
		        "y": 185
		      }
		    },
		    {
		      "text": "B",
		      "position": {
		        "x": 120,
		        "y": 180
		      }
		    }
		  ],
		  "boundaryEdges": [
		    {
		      "to": "BL",
		      "from": "tip",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "BR",
		      "from": "BL",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 7
		      }
		    },
		    {
		      "to": "TR",
		      "from": "BR",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 11
		      }
		    },
		    {
		      "to": "TL",
		      "from": "TR",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "tip",
		      "from": "TL",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": [
		    {
		      "fillColor": "#e84d3950",
		      "vertexIds": [
		        "TL",
		        "BL",
		        "tip"
		      ]
		    },
		    {
		      "fillColor": "#01a99550",
		      "vertexIds": [
		        "TL",
		        "TR",
		        "BR",
		        "BL"
		      ]
		    }
		  ],
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 11
		      },
		      "style": "dashed",
		      "toVertexId": "BL",
		      "fromVertexId": "TL"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 2
		      },
		      "style": "solid",
		      "toVertexId": "foot",
		      "fromVertexId": "tip"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xb0f43fd03d2eff7c
	// Question: Find the area of a composite shape
	// Widget key: image_1
	test("composite-shape-diagram - [xb0f43fd03d2eff7c] Find the area of a composite shape", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 480,
		  "height": 360,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 9,
		      "id": "A"
		    },
		    {
		      "x": 9,
		      "y": 9,
		      "id": "B"
		    },
		    {
		      "x": 9,
		      "y": 3,
		      "id": "C"
		    },
		    {
		      "x": 0,
		      "y": 3,
		      "id": "D"
		    },
		    {
		      "x": 4.5,
		      "y": 0,
		      "id": "apex"
		    },
		    {
		      "x": 4.5,
		      "y": 3,
		      "id": "midBase"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "B",
		      "from": "A",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 9
		      }
		    },
		    {
		      "to": "C",
		      "from": "B",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "apex",
		      "from": "C",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "D",
		      "from": "apex",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "A",
		      "from": "D",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 6
		      }
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": null,
		      "style": "dashed",
		      "toVertexId": "C",
		      "fromVertexId": "D"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 3
		      },
		      "style": "dashed",
		      "toVertexId": "midBase",
		      "fromVertexId": "apex"
		    }
		  ],
		  "rightAngleMarkers": [
		    {
		      "cornerVertexId": "midBase",
		      "adjacentVertex1Id": "apex",
		      "adjacentVertex2Id": "D"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xc24275a8d9e83363
	// Question: Find the area of a composite shape (rectangle minus triangle)
	// Widget key: image_1
	test("composite-shape-diagram - [xc24275a8d9e83363] Find the area of a composite shape (rectangle minus triangle)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 520,
		  "height": 360,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 10,
		      "id": "BL"
		    },
		    {
		      "x": 0,
		      "y": 0,
		      "id": "TL"
		    },
		    {
		      "x": 3,
		      "y": 4,
		      "id": "APEX"
		    },
		    {
		      "x": 7,
		      "y": 0,
		      "id": "TR"
		    },
		    {
		      "x": 7,
		      "y": 10,
		      "id": "BR"
		    },
		    {
		      "x": 3,
		      "y": 10,
		      "id": "BF"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "TL",
		      "from": "BL",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 10
		      }
		    },
		    {
		      "to": "APEX",
		      "from": "TL",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "TR",
		      "from": "APEX",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "BR",
		      "from": "TR",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "BL",
		      "from": "BR",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 7
		      }
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 6
		      },
		      "style": "dashed",
		      "toVertexId": "BF",
		      "fromVertexId": "APEX"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x5dc8c670f44d1837
	// Question: Area of a shape with parallel sides
	// Widget key: image_1
	test("composite-shape-diagram - [x5dc8c670f44d1837] Area of a shape with parallel sides", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 480,
		  "height": 560,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 0,
		      "id": "A"
		    },
		    {
		      "x": 4,
		      "y": 0,
		      "id": "B"
		    },
		    {
		      "x": 4,
		      "y": 4,
		      "id": "C"
		    },
		    {
		      "x": 2,
		      "y": 8,
		      "id": "D"
		    },
		    {
		      "x": 0,
		      "y": 8,
		      "id": "E"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "B",
		      "from": "A",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 4
		      }
		    },
		    {
		      "to": "C",
		      "from": "B",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 4
		      }
		    },
		    {
		      "to": "D",
		      "from": "C",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "E",
		      "from": "D",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 2
		      }
		    },
		    {
		      "to": "A",
		      "from": "E",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 8
		      }
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": null,
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x161673a7853ec0b5
	// Question: Find the area of a composite shape
	// Widget key: image_1
	test("composite-shape-diagram - [x161673a7853ec0b5] Find the area of a composite shape", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 480,
		  "height": 360,
		  "vertices": [
		    {
		      "x": 0,
		      "y": 0,
		      "id": "A_topLeft"
		    },
		    {
		      "x": 9,
		      "y": 0,
		      "id": "B_topRight"
		    },
		    {
		      "x": 9,
		      "y": 4,
		      "id": "C_rightCut"
		    },
		    {
		      "x": 5,
		      "y": 9,
		      "id": "D_bottomRightInner"
		    },
		    {
		      "x": 3,
		      "y": 9,
		      "id": "E_bottomLeftInner"
		    },
		    {
		      "x": 0,
		      "y": 5,
		      "id": "F_leftCut"
		    },
		    {
		      "x": 0,
		      "y": 9,
		      "id": "G_bottomLeftRect"
		    },
		    {
		      "x": 9,
		      "y": 9,
		      "id": "H_bottomRightRect"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "B_topRight",
		      "from": "A_topLeft",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 9
		      }
		    },
		    {
		      "to": "C_rightCut",
		      "from": "B_topRight",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 4
		      }
		    },
		    {
		      "to": "D_bottomRightInner",
		      "from": "C_rightCut",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "E_bottomLeftInner",
		      "from": "D_bottomRightInner",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "F_leftCut",
		      "from": "E_bottomLeftInner",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "A_topLeft",
		      "from": "F_leftCut",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 5
		      }
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 3
		      },
		      "style": "dashed",
		      "toVertexId": "E_bottomLeftInner",
		      "fromVertexId": "G_bottomLeftRect"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 4
		      },
		      "style": "dashed",
		      "toVertexId": "F_leftCut",
		      "fromVertexId": "G_bottomLeftRect"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 4
		      },
		      "style": "dashed",
		      "toVertexId": "D_bottomRightInner",
		      "fromVertexId": "H_bottomRightRect"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 5
		      },
		      "style": "dashed",
		      "toVertexId": "C_rightCut",
		      "fromVertexId": "H_bottomRightRect"
		    }
		  ],
		  "rightAngleMarkers": [
		    {
		      "cornerVertexId": "G_bottomLeftRect",
		      "adjacentVertex1Id": "F_leftCut",
		      "adjacentVertex2Id": "E_bottomLeftInner"
		    },
		    {
		      "cornerVertexId": "H_bottomRightRect",
		      "adjacentVertex1Id": "C_rightCut",
		      "adjacentVertex2Id": "D_bottomRightInner"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x22d4780e785c0741
	// Question: Find the area of a composite shape
	// Widget key: image_1
	test("composite-shape-diagram - [x22d4780e785c0741] Find the area of a composite shape", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 480,
		  "height": 360,
		  "vertices": [
		    {
		      "x": 133.77,
		      "y": 317.377,
		      "id": "bottomApex"
		    },
		    {
		      "x": 28.852,
		      "y": 238.689,
		      "id": "bottomLeft"
		    },
		    {
		      "x": 28.852,
		      "y": 55.082,
		      "id": "topLeft"
		    },
		    {
		      "x": 133.77,
		      "y": 2.623,
		      "id": "topApex"
		    },
		    {
		      "x": 238.689,
		      "y": 55.082,
		      "id": "topRight"
		    },
		    {
		      "x": 238.689,
		      "y": 238.689,
		      "id": "bottomRight"
		    },
		    {
		      "x": 18.852,
		      "y": 2.623,
		      "id": "leftMeasureTopTip"
		    },
		    {
		      "x": 18.852,
		      "y": 55.082,
		      "id": "leftMeasureTopBound"
		    },
		    {
		      "x": 18.852,
		      "y": 238.689,
		      "id": "leftMeasureBottomBound"
		    },
		    {
		      "x": 18.852,
		      "y": 317.377,
		      "id": "leftMeasureBottomTip"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "bottomLeft",
		      "from": "bottomApex",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "topLeft",
		      "from": "bottomLeft",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "topApex",
		      "from": "topLeft",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "topRight",
		      "from": "topApex",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "bottomRight",
		      "from": "topRight",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "bottomApex",
		      "from": "bottomRight",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": null,
		      "style": "dashed",
		      "toVertexId": "topRight",
		      "fromVertexId": "topLeft"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 8
		      },
		      "style": "dashed",
		      "toVertexId": "bottomRight",
		      "fromVertexId": "bottomLeft"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 2
		      },
		      "style": "solid",
		      "toVertexId": "leftMeasureTopBound",
		      "fromVertexId": "leftMeasureTopTip"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 7
		      },
		      "style": "solid",
		      "toVertexId": "leftMeasureBottomBound",
		      "fromVertexId": "leftMeasureTopBound"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 3
		      },
		      "style": "solid",
		      "toVertexId": "leftMeasureBottomTip",
		      "fromVertexId": "leftMeasureBottomBound"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x08f3220a196255d1
	// Question: Area of a composite shape with one pair of parallel sides
	// Widget key: image_1
	test("composite-shape-diagram - [x08f3220a196255d1] Area of a composite shape with one pair of parallel sides", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 320,
		  "height": 200,
		  "vertices": [
		    {
		      "x": 1.975,
		      "y": 160,
		      "id": "A_leftBase"
		    },
		    {
		      "x": 160,
		      "y": 1.975,
		      "id": "B_apex"
		    },
		    {
		      "x": 160,
		      "y": 61.235,
		      "id": "C_step1"
		    },
		    {
		      "x": 199.506,
		      "y": 61.235,
		      "id": "D_step2"
		    },
		    {
		      "x": 318.025,
		      "y": 160,
		      "id": "E_rightBase"
		    },
		    {
		      "x": 160,
		      "y": 160,
		      "id": "F_bottomAtC"
		    },
		    {
		      "x": 199.506,
		      "y": 160,
		      "id": "G_bottomAtD"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "B_apex",
		      "from": "A_leftBase",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "C_step1",
		      "from": "B_apex",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "D_step2",
		      "from": "C_step1",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "E_rightBase",
		      "from": "D_step2",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "path": [
		        "E_rightBase",
		        "G_bottomAtD",
		        "F_bottomAtC",
		        "A_leftBase"
		      ],
		      "type": "partitioned",
		      "segments": [
		        {
		          "label": {
		            "unit": "units",
		            "value": 6
		          },
		          "style": "solid"
		        },
		        {
		          "label": {
		            "unit": "units",
		            "value": 2
		          },
		          "style": "solid"
		        },
		        {
		          "label": {
		            "unit": "units",
		            "value": 8
		          },
		          "style": "solid"
		        }
		      ]
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 5
		      },
		      "style": "dashed",
		      "toVertexId": "F_bottomAtC",
		      "fromVertexId": "C_step1"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 5
		      },
		      "style": "dashed",
		      "toVertexId": "G_bottomAtD",
		      "fromVertexId": "D_step2"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 8
		      },
		      "style": "dashed",
		      "toVertexId": "F_bottomAtC",
		      "fromVertexId": "B_apex"
		    }
		  ],
		  "rightAngleMarkers": null
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xf9aeebaa4d47c342
	// Question: Find the area of a composite shape
	// Widget key: image_1
	test("composite-shape-diagram - [xf9aeebaa4d47c342] Find the area of a composite shape", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "compositeShapeDiagram",
		  "width": 271.145,
		  "height": 320,
		  "vertices": [
		    {
		      "x": 24.427,
		      "y": 173.435,
		      "id": "L"
		    },
		    {
		      "x": 24.427,
		      "y": 2.443,
		      "id": "T"
		    },
		    {
		      "x": 268.702,
		      "y": 173.435,
		      "id": "R"
		    },
		    {
		      "x": 195.42,
		      "y": 295.573,
		      "id": "BR"
		    },
		    {
		      "x": 122.137,
		      "y": 295.573,
		      "id": "BL"
		    },
		    {
		      "x": 122.138,
		      "y": 173.435,
		      "id": "H"
		    }
		  ],
		  "regionLabels": null,
		  "boundaryEdges": [
		    {
		      "to": "T",
		      "from": "L",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 7
		      }
		    },
		    {
		      "to": "R",
		      "from": "T",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "BR",
		      "from": "R",
		      "type": "simple",
		      "label": null
		    },
		    {
		      "to": "BL",
		      "from": "BR",
		      "type": "simple",
		      "label": {
		        "unit": "units",
		        "value": 3
		      }
		    },
		    {
		      "to": "L",
		      "from": "BL",
		      "type": "simple",
		      "label": null
		    }
		  ],
		  "shadedRegions": null,
		  "internalSegments": [
		    {
		      "label": {
		        "unit": "units",
		        "value": 10
		      },
		      "style": "dashed",
		      "toVertexId": "H",
		      "fromVertexId": "L"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 10
		      },
		      "style": "dashed",
		      "toVertexId": "R",
		      "fromVertexId": "H"
		    },
		    {
		      "label": {
		        "unit": "units",
		        "value": 5
		      },
		      "style": "dashed",
		      "toVertexId": "BL",
		      "fromVertexId": "H"
		    }
		  ],
		  "rightAngleMarkers": [
		    {
		      "cornerVertexId": "L",
		      "adjacentVertex1Id": "T",
		      "adjacentVertex2Id": "H"
		    },
		    {
		      "cornerVertexId": "H",
		      "adjacentVertex1Id": "L",
		      "adjacentVertex2Id": "BL"
		    },
		    {
		      "cornerVertexId": "BL",
		      "adjacentVertex1Id": "H",
		      "adjacentVertex2Id": "BR"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for compositeShapeDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

})
