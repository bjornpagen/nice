// ============================================================================
// EXTRACTED TEST FILE - AUTO-GENERATED
// ============================================================================
// This file was automatically generated from database structured_json data
// Generated on: 2025-09-17T15:38:03.971Z
// Widget Type: nPolygon
// Source: Real questions from database
//
// These tests use actual widget configurations extracted from production data
// to ensure comprehensive test coverage with realistic scenarios.
//
// Note: Database data may not perfectly match current widget schemas, so these
// tests rely on runtime validation within generateWidget() for flexibility.
//
// DO NOT EDIT THIS FILE DIRECTLY - it will be overwritten on regeneration
//
// Run tests: bun test tests/widgets/n-polygon.extracted.test.ts
// Update snapshots: bun test tests/widgets/n-polygon.extracted.test.ts --update-snapshots
// ============================================================================

import { describe, test, expect } from "bun:test"
import { generateWidget } from "@superbuilders/qti-assessment-item-generator/widgets/widget-generator"
import type { Widget, WidgetInput } from "@superbuilders/qti-assessment-item-generator/widgets/registry"
import * as errors from "@superbuilders/errors"
import * as logger from "@superbuilders/slog"

describe("nPolygon widget tests", () => {
	// Extracted from question: x2130231f278cf3dc
	// Question: Compare coordinates in a rectangle
	// Widget key: image_1
	test("n-polygon - [x2130231f278cf3dc] Compare coordinates in a rectangle", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 223,
		  "height": 270,
		  "fillColor": "#DDEEFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x7839eebc5d350424
	// Question: Compare two coordinates in a rectangle
	// Widget key: image_1
	test("n-polygon - [x7839eebc5d350424] Compare two coordinates in a rectangle", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 270,
		  "height": 231,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xddab61063efd799b
	// Question: Identify the vertical cross-section of a square pyramid
	// Widget key: choice_a_shape
	test("n-polygon - [xddab61063efd799b] Identify the vertical cross-section of a square pyramid (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#cccccc"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xddab61063efd799b
	// Question: Identify the vertical cross-section of a square pyramid
	// Widget key: choice_b_shape
	test("n-polygon - [xddab61063efd799b] Identify the vertical cross-section of a square pyramid (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#cccccc"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xddab61063efd799b
	// Question: Identify the vertical cross-section of a square pyramid
	// Widget key: choice_c_shape
	test("n-polygon - [xddab61063efd799b] Identify the vertical cross-section of a square pyramid (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#cccccc"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xddab61063efd799b
	// Question: Identify the vertical cross-section of a square pyramid
	// Widget key: choice_d_shape
	test("n-polygon - [xddab61063efd799b] Identify the vertical cross-section of a square pyramid (5)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "hexagon",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#cccccc"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x4139736ff42aefd2
	// Question: Cross section of a block of butter
	// Widget key: choice_a_shape
	test("n-polygon - [x4139736ff42aefd2] Cross section of a block of butter (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 120,
		  "height": 120,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x4139736ff42aefd2
	// Question: Cross section of a block of butter
	// Widget key: choice_c_shape
	test("n-polygon - [x4139736ff42aefd2] Cross section of a block of butter (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 140,
		  "height": 105,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x2ea82a3291511b2e
	// Question: Identify the solid from a rectangular vertical slice
	// Widget key: image_1
	test("n-polygon - [x2ea82a3291511b2e] Identify the solid from a rectangular vertical slice", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 200,
		  "height": 200,
		  "fillColor": "#ffffff"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x8bf3dcc1812f07b6
	// Question: Identify a solid from its horizontal cross-section
	// Widget key: pentagon_image
	test("n-polygon - [x8bf3dcc1812f07b6] Identify a solid from its horizontal cross-section", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "pentagon",
		  "width": 200,
		  "height": 200,
		  "fillColor": "#ffffff"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x209d34a33212eb67
	// Question: Identify the solid from a triangular slice
	// Widget key: image_1
	test("n-polygon - [x209d34a33212eb67] Identify the solid from a triangular slice", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 200,
		  "height": 170,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x4f1f8eb1e5cd00ec
	// Question: Identify a solid from a hexagonal cross-section
	// Widget key: image_hexagon
	test("n-polygon - [x4f1f8eb1e5cd00ec] Identify a solid from a hexagonal cross-section", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "hexagon",
		  "width": 200,
		  "height": 200,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x728cd6c47f90fd12
	// Question: Identify a solid from a triangular vertical slice
	// Widget key: triangle_image
	test("n-polygon - [x728cd6c47f90fd12] Identify a solid from a triangular vertical slice", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 200,
		  "height": 200,
		  "fillColor": "#ffffff"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xa63d03bcdc40499a
	// Question: Identify a solid from its horizontal slice (square)
	// Widget key: stimulus_square
	test("n-polygon - [xa63d03bcdc40499a] Identify a solid from its horizontal slice (square)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 200,
		  "height": 200,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x7b7f9e81dc7e0cea
	// Question: Cross-section of a pentagonal prism
	// Widget key: choice_a_shape
	test("n-polygon - [x7b7f9e81dc7e0cea] Cross-section of a pentagonal prism (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "pentagon",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x7b7f9e81dc7e0cea
	// Question: Cross-section of a pentagonal prism
	// Widget key: choice_b_shape
	test("n-polygon - [x7b7f9e81dc7e0cea] Cross-section of a pentagonal prism (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x7b7f9e81dc7e0cea
	// Question: Cross-section of a pentagonal prism
	// Widget key: choice_c_shape
	test("n-polygon - [x7b7f9e81dc7e0cea] Cross-section of a pentagonal prism (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x7b7f9e81dc7e0cea
	// Question: Cross-section of a pentagonal prism
	// Widget key: choice_d_shape
	test("n-polygon - [x7b7f9e81dc7e0cea] Cross-section of a pentagonal prism (5)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x7c120e3f24093a5b
	// Question: Identify the cross-section of a triangular prism (tent)
	// Widget key: choice_a_shape
	test("n-polygon - [x7c120e3f24093a5b] Identify the cross-section of a triangular prism (tent) (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x7c120e3f24093a5b
	// Question: Identify the cross-section of a triangular prism (tent)
	// Widget key: choice_b_shape
	test("n-polygon - [x7c120e3f24093a5b] Identify the cross-section of a triangular prism (tent) (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x7c120e3f24093a5b
	// Question: Identify the cross-section of a triangular prism (tent)
	// Widget key: choice_c_shape
	test("n-polygon - [x7c120e3f24093a5b] Identify the cross-section of a triangular prism (tent) (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x141c0caeea18da08
	// Question: Identify the cross-section of a sliced square pyramid
	// Widget key: choice_b_shape
	test("n-polygon - [x141c0caeea18da08] Identify the cross-section of a sliced square pyramid (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x141c0caeea18da08
	// Question: Identify the cross-section of a sliced square pyramid
	// Widget key: choice_c_shape
	test("n-polygon - [x141c0caeea18da08] Identify the cross-section of a sliced square pyramid (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x141c0caeea18da08
	// Question: Identify the cross-section of a sliced square pyramid
	// Widget key: choice_d_shape
	test("n-polygon - [x141c0caeea18da08] Identify the cross-section of a sliced square pyramid (5)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x72bb801397b54d5e
	// Question: Identify the cross-section of a right square pyramid
	// Widget key: choice_a_shape
	test("n-polygon - [x72bb801397b54d5e] Identify the cross-section of a right square pyramid (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x72bb801397b54d5e
	// Question: Identify the cross-section of a right square pyramid
	// Widget key: choice_b_shape
	test("n-polygon - [x72bb801397b54d5e] Identify the cross-section of a right square pyramid (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x72bb801397b54d5e
	// Question: Identify the cross-section of a right square pyramid
	// Widget key: choice_c_shape
	test("n-polygon - [x72bb801397b54d5e] Identify the cross-section of a right square pyramid (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x72bb801397b54d5e
	// Question: Identify the cross-section of a right square pyramid
	// Widget key: choice_d_shape
	test("n-polygon - [x72bb801397b54d5e] Identify the cross-section of a right square pyramid (5)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "pentagon",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x80dc1341b9007790
	// Question: Identify the cross-section of a right prism
	// Widget key: choice_a_shape
	test("n-polygon - [x80dc1341b9007790] Identify the cross-section of a right prism (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x80dc1341b9007790
	// Question: Identify the cross-section of a right prism
	// Widget key: choice_b_shape
	test("n-polygon - [x80dc1341b9007790] Identify the cross-section of a right prism (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x80dc1341b9007790
	// Question: Identify the cross-section of a right prism
	// Widget key: choice_c_shape
	test("n-polygon - [x80dc1341b9007790] Identify the cross-section of a right prism (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x80dc1341b9007790
	// Question: Identify the cross-section of a right prism
	// Widget key: choice_d_shape
	test("n-polygon - [x80dc1341b9007790] Identify the cross-section of a right prism (5)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "octagon",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xc8ec7679f407c09d
	// Question: Cross-section of a triangular prism by a horizontal plane
	// Widget key: choice_a_shape
	test("n-polygon - [xc8ec7679f407c09d] Cross-section of a triangular prism by a horizontal plane (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xc8ec7679f407c09d
	// Question: Cross-section of a triangular prism by a horizontal plane
	// Widget key: choice_b_shape
	test("n-polygon - [xc8ec7679f407c09d] Cross-section of a triangular prism by a horizontal plane (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xc8ec7679f407c09d
	// Question: Cross-section of a triangular prism by a horizontal plane
	// Widget key: choice_c_shape
	test("n-polygon - [xc8ec7679f407c09d] Cross-section of a triangular prism by a horizontal plane (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xc8ec7679f407c09d
	// Question: Cross-section of a triangular prism by a horizontal plane
	// Widget key: choice_d_shape
	test("n-polygon - [xc8ec7679f407c09d] Cross-section of a triangular prism by a horizontal plane (5)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "octagon",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xa33f179a801021da
	// Question: Vertical cross-section of a rectangular prism
	// Widget key: choice_a_visual
	test("n-polygon - [xa33f179a801021da] Vertical cross-section of a rectangular prism (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 120,
		  "height": 90,
		  "fillColor": "#ffffff"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xa33f179a801021da
	// Question: Vertical cross-section of a rectangular prism
	// Widget key: choice_b_visual
	test("n-polygon - [xa33f179a801021da] Vertical cross-section of a rectangular prism (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#ffffff"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xa33f179a801021da
	// Question: Vertical cross-section of a rectangular prism
	// Widget key: choice_c_visual
	test("n-polygon - [xa33f179a801021da] Vertical cross-section of a rectangular prism (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "octagon",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#ffffff"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xa33f179a801021da
	// Question: Vertical cross-section of a rectangular prism
	// Widget key: choice_d_visual
	test("n-polygon - [xa33f179a801021da] Vertical cross-section of a rectangular prism (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#ffffff"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xaaf221c1e7ea291e
	// Question: Cross-section of an inverted square pyramid
	// Widget key: choice_a_shape
	test("n-polygon - [xaaf221c1e7ea291e] Cross-section of an inverted square pyramid (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xaaf221c1e7ea291e
	// Question: Cross-section of an inverted square pyramid
	// Widget key: choice_b_shape
	test("n-polygon - [xaaf221c1e7ea291e] Cross-section of an inverted square pyramid (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "triangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xaaf221c1e7ea291e
	// Question: Cross-section of an inverted square pyramid
	// Widget key: choice_c_shape
	test("n-polygon - [xaaf221c1e7ea291e] Cross-section of an inverted square pyramid (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xaaf221c1e7ea291e
	// Question: Cross-section of an inverted square pyramid
	// Widget key: choice_d_shape
	test("n-polygon - [xaaf221c1e7ea291e] Cross-section of an inverted square pyramid (5)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "pentagon",
		  "width": 100,
		  "height": 100,
		  "fillColor": "#FFFFFF"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x2d4f558559981f78
	// Question: Side length after scaling by a factor less than 1
	// Widget key: image_1
	test("n-polygon - [x2d4f558559981f78] Side length after scaling by a factor less than 1", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 200,
		  "height": 200,
		  "fillColor": "#11accd"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x6834a77b59de585a
	// Question: Scaled copy: side length with scale factor greater than 1
	// Widget key: image_1
	test("n-polygon - [x6834a77b59de585a] Scaled copy: side length with scale factor greater than 1", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 267,
		  "height": 234,
		  "fillColor": "#ffffff"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x58729b419e278355
	// Question: Recreate Colorado on a grid
	// Widget key: rectangle_choice_a
	test("n-polygon - [x58729b419e278355] Recreate Colorado on a grid (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 160,
		  "height": 120,
		  "fillColor": "#4472C4"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x58729b419e278355
	// Question: Recreate Colorado on a grid
	// Widget key: rectangle_choice_b
	test("n-polygon - [x58729b419e278355] Recreate Colorado on a grid (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "square",
		  "width": 140,
		  "height": 140,
		  "fillColor": "#A5A5A5"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x58729b419e278355
	// Question: Recreate Colorado on a grid
	// Widget key: rectangle_choice_c
	test("n-polygon - [x58729b419e278355] Recreate Colorado on a grid (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "pentagon",
		  "width": 160,
		  "height": 120,
		  "fillColor": "#70AD47"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xea3406f5dda54d38
	// Question: Draw a rectangle from two vertices and its area
	// Widget key: rect_choice_a
	test("n-polygon - [xea3406f5dda54d38] Draw a rectangle from two vertices and its area (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "pentagon",
		  "width": 120,
		  "height": 120,
		  "fillColor": "#11ACCD"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xea3406f5dda54d38
	// Question: Draw a rectangle from two vertices and its area
	// Widget key: rect_choice_b
	test("n-polygon - [xea3406f5dda54d38] Draw a rectangle from two vertices and its area (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "rectangle",
		  "width": 120,
		  "height": 90,
		  "fillColor": "#FDB515"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xea3406f5dda54d38
	// Question: Draw a rectangle from two vertices and its area
	// Widget key: rect_choice_c
	test("n-polygon - [xea3406f5dda54d38] Draw a rectangle from two vertices and its area (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "nPolygon",
		  "shape": "hexagon",
		  "width": 120,
		  "height": 120,
		  "fillColor": "#7AC943"
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for nPolygon", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

})
