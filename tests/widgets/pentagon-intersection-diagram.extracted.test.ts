// ============================================================================
// EXTRACTED TEST FILE - AUTO-GENERATED
// ============================================================================
// This file was automatically generated from database structured_json data
// Generated on: 2025-09-17T15:38:03.939Z
// Widget Type: pentagonIntersectionDiagram
// Source: Real questions from database
//
// These tests use actual widget configurations extracted from production data
// to ensure comprehensive test coverage with realistic scenarios.
//
// Note: Database data may not perfectly match current widget schemas, so these
// tests rely on runtime validation within generateWidget() for flexibility.
//
// DO NOT EDIT THIS FILE DIRECTLY - it will be overwritten on regeneration
//
// Run tests: bun test tests/widgets/pentagon-intersection-diagram.extracted.test.ts
// Update snapshots: bun test tests/widgets/pentagon-intersection-diagram.extracted.test.ts --update-snapshots
// ============================================================================

import { describe, test, expect } from "bun:test"
import { generateWidget } from "@superbuilders/qti-assessment-item-generator/widgets/widget-generator"
import type { Widget, WidgetInput } from "@superbuilders/qti-assessment-item-generator/widgets/registry"
import * as errors from "@superbuilders/errors"
import * as logger from "@superbuilders/slog"

describe("pentagonIntersectionDiagram widget tests", () => {
	// Extracted from question: xaf0ea8571c1f5f57
	// Question: Find the measure of an angle in a star figure
	// Widget key: image_1
	test("pentagon-intersection-diagram - [xaf0ea8571c1f5f57] Find the measure of an angle in a star figure", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "pentagonIntersectionDiagram",
		  "width": 500,
		  "height": 425,
		  "khanArcs": [
		    {
		      "rx": 32.5,
		      "ry": 32.5,
		      "color": "#ca337c",
		      "label": "36°",
		      "startX": 237.301,
		      "startY": 54.916,
		      "endDeltaX": 23.815,
		      "endDeltaY": 0.624,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    },
		    {
		      "rx": 32.5,
		      "ry": 32.5,
		      "color": "#1fab54",
		      "label": "39°",
		      "startX": 124.896,
		      "startY": 379.109,
		      "endDeltaX": -13.78,
		      "endDeltaY": -9.649,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    },
		    {
		      "rx": 25,
		      "ry": 25,
		      "color": "#11accd",
		      "label": "x",
		      "startX": 310.571,
		      "startY": 233.233,
		      "endDeltaX": 26.32,
		      "endDeltaY": 8.299,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    }
		  ],
		  "pentagonPoints": [
		    {
		      "x": 250,
		      "y": 25,
		      "id": "A"
		    },
		    {
		      "x": 450,
		      "y": 125,
		      "id": "B"
		    },
		    {
		      "x": 400,
		      "y": 400,
		      "id": "C"
		    },
		    {
		      "x": 100,
		      "y": 400,
		      "id": "D"
		    },
		    {
		      "x": 50,
		      "y": 125,
		      "id": "E"
		    }
		  ],
		  "intersectionLines": [
		    {
		      "to": "C",
		      "from": "A"
		    },
		    {
		      "to": "E",
		      "from": "C"
		    },
		    {
		      "to": "B",
		      "from": "E"
		    },
		    {
		      "to": "D",
		      "from": "B"
		    },
		    {
		      "to": "A",
		      "from": "D"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for pentagonIntersectionDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x822e771ad1df774e
	// Question: Find the measure of angle x
	// Widget key: image_1
	test("pentagon-intersection-diagram - [x822e771ad1df774e] Find the measure of angle x", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "pentagonIntersectionDiagram",
		  "width": 500,
		  "height": 425,
		  "khanArcs": [
		    {
		      "rx": 32.5,
		      "ry": 32.5,
		      "color": "#ca337c",
		      "label": "105°",
		      "startX": 278.146,
		      "startY": 258.75,
		      "endDeltaX": -56.292,
		      "endDeltaY": 0,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    },
		    {
		      "rx": 32.5,
		      "ry": 32.5,
		      "color": "#1fab54",
		      "label": "39°",
		      "startX": 124.896,
		      "startY": 379.109,
		      "endDeltaX": -13.78,
		      "endDeltaY": -9.649,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    },
		    {
		      "rx": 25,
		      "ry": 25,
		      "color": "#e07d10",
		      "label": "x",
		      "startX": 163.952,
		      "startY": 241.757,
		      "endDeltaX": 25.199,
		      "endDeltaY": -8.187,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    }
		  ],
		  "pentagonPoints": [
		    {
		      "x": 50,
		      "y": 125,
		      "id": "E"
		    },
		    {
		      "x": 450,
		      "y": 125,
		      "id": "B"
		    },
		    {
		      "x": 100,
		      "y": 400,
		      "id": "D"
		    },
		    {
		      "x": 250,
		      "y": 25,
		      "id": "A"
		    },
		    {
		      "x": 400,
		      "y": 400,
		      "id": "C"
		    }
		  ],
		  "intersectionLines": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for pentagonIntersectionDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x71af25c5bcc927c6
	// Question: Measure of angle x in a star figure
	// Widget key: image_1
	test("pentagon-intersection-diagram - [x71af25c5bcc927c6] Measure of angle x in a star figure", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "pentagonIntersectionDiagram",
		  "width": 500,
		  "height": 425,
		  "khanArcs": [
		    {
		      "rx": 32.5,
		      "ry": 32.5,
		      "color": "#ca337c",
		      "label": "107°",
		      "startX": 278.146,
		      "startY": 258.75,
		      "endDeltaX": -56.292,
		      "endDeltaY": 0,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    },
		    {
		      "rx": 32.5,
		      "ry": 32.5,
		      "color": "#1fab54",
		      "label": "31°",
		      "startX": 124.896,
		      "startY": 379.109,
		      "endDeltaX": -13.78,
		      "endDeltaY": -9.649,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    },
		    {
		      "rx": 25,
		      "ry": 25,
		      "color": "#11accd",
		      "label": "x°",
		      "startX": 180.565,
		      "startY": 194.842,
		      "endDeltaX": -30.531,
		      "endDeltaY": 7.613,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    }
		  ],
		  "pentagonPoints": [
		    {
		      "x": 250,
		      "y": 25,
		      "id": "A"
		    },
		    {
		      "x": 450,
		      "y": 125,
		      "id": "B"
		    },
		    {
		      "x": 400,
		      "y": 400,
		      "id": "C"
		    },
		    {
		      "x": 100,
		      "y": 400,
		      "id": "D"
		    },
		    {
		      "x": 50,
		      "y": 125,
		      "id": "E"
		    }
		  ],
		  "intersectionLines": [
		    {
		      "to": "C",
		      "from": "A"
		    },
		    {
		      "to": "D",
		      "from": "A"
		    },
		    {
		      "to": "D",
		      "from": "B"
		    },
		    {
		      "to": "E",
		      "from": "B"
		    },
		    {
		      "to": "E",
		      "from": "C"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for pentagonIntersectionDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x5d3635cafb31cb73
	// Question: Identify the angle relationship
	// Widget key: image_1
	test("pentagon-intersection-diagram - [x5d3635cafb31cb73] Identify the angle relationship", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "pentagonIntersectionDiagram",
		  "width": 300,
		  "height": 300,
		  "khanArcs": [
		    {
		      "rx": 12.38,
		      "ry": 12.38,
		      "color": "#11accd",
		      "label": "a",
		      "startX": 125.333,
		      "startY": 105.978,
		      "endDeltaX": -16.213,
		      "endDeltaY": 11.828,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    },
		    {
		      "rx": 12.398,
		      "ry": 12.398,
		      "color": "#1fab54",
		      "label": "b",
		      "startX": 117.673,
		      "startY": 129.543,
		      "endDeltaX": 16.225,
		      "endDeltaY": -11.758,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    }
		  ],
		  "pentagonPoints": [
		    {
		      "x": 150,
		      "y": 30.22,
		      "id": "A"
		    },
		    {
		      "x": 271.05,
		      "y": 118.168,
		      "id": "B"
		    },
		    {
		      "x": 224.813,
		      "y": 260.471,
		      "id": "C"
		    },
		    {
		      "x": 75.187,
		      "y": 260.471,
		      "id": "D"
		    },
		    {
		      "x": 28.95,
		      "y": 118.168,
		      "id": "E"
		    }
		  ],
		  "intersectionLines": [
		    {
		      "to": "C",
		      "from": "A"
		    },
		    {
		      "to": "D",
		      "from": "A"
		    },
		    {
		      "to": "E",
		      "from": "B"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for pentagonIntersectionDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x9a1ca40b2e4b5a8f
	// Question: Identify the relationship between two angles
	// Widget key: image_1
	test("pentagon-intersection-diagram - [x9a1ca40b2e4b5a8f] Identify the relationship between two angles", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "type": "pentagonIntersectionDiagram",
		  "width": 300,
		  "height": 273,
		  "khanArcs": [
		    {
		      "rx": 37.37,
		      "ry": 37.37,
		      "color": "#11accd",
		      "label": "M",
		      "startX": 214.643,
		      "startY": 114.409,
		      "endDeltaX": -49.394,
		      "endDeltaY": -35.247,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    },
		    {
		      "rx": 25.209,
		      "ry": 25.209,
		      "color": "#1fab54",
		      "label": "N",
		      "startX": 184.861,
		      "startY": 138.585,
		      "endDeltaX": 17.62,
		      "endDeltaY": -24.131,
		      "sweepFlag": 0,
		      "largeArcFlag": 0,
		      "xAxisRotation": 0
		    }
		  ],
		  "pentagonPoints": [
		    {
		      "x": 218.012,
		      "y": 243.61,
		      "id": "A"
		    },
		    {
		      "x": 260.045,
		      "y": 114.244,
		      "id": "B"
		    },
		    {
		      "x": 150,
		      "y": 34.292,
		      "id": "C"
		    },
		    {
		      "x": 39.955,
		      "y": 114.244,
		      "id": "D"
		    },
		    {
		      "x": 81.988,
		      "y": 243.61,
		      "id": "E"
		    }
		  ],
		  "intersectionLines": [
		    {
		      "to": "B",
		      "from": "D"
		    },
		    {
		      "to": "E",
		      "from": "C"
		    },
		    {
		      "to": "A",
		      "from": "C"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for pentagonIntersectionDiagram", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

})
