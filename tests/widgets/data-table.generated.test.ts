// ⚠️ AUTO-GENERATED TEST FILE
// This file was automatically generated from production widget data.
// Do not modify manually - regenerate if needed.

import { describe, expect, it } from "bun:test"
import type { z } from "zod"
import { generateDataTable, DataTablePropsSchema } from "@/lib/widgets/generators/data-table"

type DataTableInput = z.input<typeof DataTablePropsSchema>

describe("dataTable widget (generated from production data)", () => {

  it("dataTable - comparing-population-growth", () => {
    // Source: Question xb28ecf62bf3ee648 (Comparing population growth)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "30 lizards"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "270 lizards"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "30 lizards"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "450 lizards"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "30 lizards"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "180 lizards"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Lizard population sizes over 12 months",
      "footer": null,
      "columns": [
            {
                  "key": "population",
                  "label": [
                        {
                              "type": "text",
                              "content": "Lizard population"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "month1",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population size (month 1)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "month12",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population size (month 12)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "population"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - frequency-of-natural-hazards", () => {
    // Source: Question xe8c64be1dc7a4e29 (Frequency of natural hazards)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Flood"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 193
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Storm"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 69
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Landslide"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 19
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Earthquake"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 14
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Drought"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 7
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Wildfire"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Volcanic eruption"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Extreme temperature"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Major natural disasters worldwide in 2020",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Total"
                        }
                  ]
            },
            {
                  "type": "number",
                  "value": 313
            }
      ],
      "columns": [
            {
                  "key": "disaster",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type of natural disaster"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "count",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of occurrences"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "disaster"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - environmental-effect-on-gene-expression-interpret-", () => {
    // Source: Question x48fc9a0bb45d5fb1 (Environmental effect on gene expression: interpret experimental data)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Cold temperature"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "High"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Warm temperature"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Low"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Flavonoid production results",
      "footer": null,
      "columns": [
            {
                  "key": "condition",
                  "label": [
                        {
                              "type": "text",
                              "content": "Condition"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "flavonoid_production",
                  "label": [
                        {
                              "type": "text",
                              "content": "Flavonoid production"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "condition"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - choose-advantageous-trait", () => {
    // Source: Question xca5f2327f34ddede (Choose advantageous trait)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Short hindlimbs"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>80</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Medium hindlimbs"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Long hindlimbs"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>15</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>90</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Hindlimb lengths before and after environmental change",
      "footer": null,
      "columns": [
            {
                  "key": "trait",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "before",
                  "label": [
                        {
                              "type": "text",
                              "content": "Before environmental change"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "after",
                  "label": [
                        {
                              "type": "text",
                              "content": "After environmental change"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "trait"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - offspring-ratio", () => {
    // Source: Question xa65586fb80851111 (Offspring ratio)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>B</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>B</mi><mi>B</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>B</mi><mi>b</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>b</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>B</mi><mi>b</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>b</mi><mi>b</mi>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Punnett square: cross of heterozygous jaguars",
      "footer": null,
      "columns": [
            {
                  "key": "row",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "col_B",
                  "label": [
                        {
                              "type": "math",
                              "mathml": "<mi>B</mi>"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "col_b",
                  "label": [
                        {
                              "type": "math",
                              "mathml": "<mi>b</mi>"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "row"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 2-p-vs-r", () => {
    // Source: Question x5cfb26595abf9f5a (2: P vs R)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>250</mn><mtext> J</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1000</mn><mtext> J</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>600</mn><mtext> J</mtext>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Stored chemical energy by system",
      "footer": null,
      "columns": [
            {
                  "key": "chemical_system",
                  "label": [
                        {
                              "type": "text",
                              "content": "Chemical system"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "stored_energy",
                  "label": [
                        {
                              "type": "text",
                              "content": "Stored energy"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "chemical_system"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - analyze-data-about-parental-care", () => {
    // Source: Question xcb536a2cf6d88c3f (Analyze data about parental care)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Parent present"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 8
                  },
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Parent removed"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "number",
                        "value": 8
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Study results",
      "footer": null,
      "columns": [
            {
                  "key": "condition",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "survived",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that survived"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "dried_out",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that died from drying out"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "killed_by_predators",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that were killed by predators"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "condition"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - inputs-and-outputs-of-cellular-respiration", () => {
    // Source: Question x20a5277fb54aa18f (Inputs and outputs of cellular respiration)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "oxygen"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "carbon dioxide"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "glucose"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "water"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Inputs | Outputs",
      "footer": null,
      "columns": [
            {
                  "key": "inputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Inputs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "outputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Outputs"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "inputs"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - inputs-and-outputs-of-cellular-respiration", () => {
    // Source: Question x20a5277fb54aa18f (Inputs and outputs of cellular respiration)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "carbon dioxide"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "water"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "oxygen"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "glucose"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Inputs | Outputs",
      "footer": null,
      "columns": [
            {
                  "key": "inputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Inputs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "outputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Outputs"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "inputs"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - inputs-and-outputs-of-cellular-respiration", () => {
    // Source: Question x20a5277fb54aa18f (Inputs and outputs of cellular respiration)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "carbon dioxide"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "oxygen"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "water"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "glucose"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Inputs | Outputs",
      "footer": null,
      "columns": [
            {
                  "key": "inputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Inputs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "outputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Outputs"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "inputs"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - attract-and-repel", () => {
    // Source: Question xf430fb58148e0760 (Attract and repel)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two charged objects, both with positive charge"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two charged objects, one with a positive charge and the other with a negative charge"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two magnets, with the north pole of one facing the south pole of the other"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two magnets, with their south poles facing each other"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Complete the table for each pair of objects.",
      "footer": null,
      "columns": [
            {
                  "key": "description",
                  "label": [
                        {
                              "type": "text",
                              "content": "Description of objects"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "interaction",
                  "label": [
                        {
                              "type": "text",
                              "content": "Will the objects attract or repel each other?"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "description"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - interpret-population-growth-data-from-a-microscope", () => {
    // Source: Question x7690704bd9a0e1c9 (Interpret population growth data from a microscope view)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 1
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 8
                  },
                  {
                        "type": "number",
                        "value": 8
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 16
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Paramecium population over five days",
      "footer": null,
      "columns": [
            {
                  "key": "day",
                  "label": [
                        {
                              "type": "text",
                              "content": "Day"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "number_of_paramecia",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of paramecia"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "day"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - attract-and-repel", () => {
    // Source: Question x5a45ab2decb141cc (Attract and repel)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two magnets with the north pole of one facing the south pole of the other"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_6"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two magnets with their south poles facing each other"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_5"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two charged objects, both with negative charge"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_7"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two charged objects, one with a positive charge and the other with a negative charge"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_1"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Complete the table for each pair of objects.",
      "footer": null,
      "columns": [
            {
                  "key": "description",
                  "label": [
                        {
                              "type": "text",
                              "content": "Description of objects"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "outcome",
                  "label": [
                        {
                              "type": "text",
                              "content": "Will the objects attract or repel each other?"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "description"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1-properties-of-solids-liquids-gases", () => {
    // Source: Question x521c2061be2a9fc3 (Type 1: Properties of Solids, Liquids & Gases)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gas"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "fixed shape"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "shape of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_7"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "constant"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "volume of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_8"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "yes"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "no"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_9"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Liquid"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "fixed shape"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "shape of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_4"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "constant"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "volume of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_5"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "yes"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "no"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_6"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Solid"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "fixed shape"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "shape of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_10"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "constant"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "volume of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_11"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "yes"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "no"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_12"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Properties of states of matter",
      "footer": null,
      "columns": [
            {
                  "key": "state",
                  "label": [
                        {
                              "type": "text",
                              "content": "State"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "shape",
                  "label": [
                        {
                              "type": "text",
                              "content": "Shape"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "volume",
                  "label": [
                        {
                              "type": "text",
                              "content": "Volume"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "compressible",
                  "label": [
                        {
                              "type": "text",
                              "content": "Compressible"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "state"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1-intrinsic-vs-extrinsic", () => {
    // Source: Question xf7c9c413b63815dd (Type 1: Intrinsic vs. extrinsic)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Boiling point"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Volume"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_5"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Color"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Odor"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Property classification",
      "footer": null,
      "columns": [
            {
                  "key": "property",
                  "label": [
                        {
                              "type": "text",
                              "content": "Property"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "property"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-2d1a-tasks-performed-by-departments-agencies-co", () => {
    // Source: Question x278a1bd719621fc5 (EK 2.D.1.a - Tasks performed by departments, agencies, commissions, and government corporations are represented by: • Writing and enforcing regulations • Issuing fines • Testifying before Congress • Issue networks and “iron triangles” )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Operate over short periods of time to address a specific policy issue."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Operate over long periods of time to address a policy area."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Influence the enforcement of laws."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Influence public policy goals."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "An alliance made up of the bureaucracy, interest groups, and Congress."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Large, complex, and fluid webs of influence."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Disappear and change over time."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Appear when policies they care about reach Congress."
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Iron triangles vs. issue networks",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "iron_triangles",
                  "label": [
                        {
                              "type": "text",
                              "content": "Iron triangles"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "issue_networks",
                  "label": [
                        {
                              "type": "text",
                              "content": "Issue networks"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - relatedness-based-on-morphology", () => {
    // Source: Question x5d27ac9be3a21bae (Relatedness based on morphology)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Carolina quillwort"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "French rose"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "giant sequoia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "royal fern"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Plant species and their traits",
      "footer": null,
      "columns": [
            {
                  "key": "species",
                  "label": [
                        {
                              "type": "text",
                              "content": "Species"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "carpels",
                  "label": [
                        {
                              "type": "text",
                              "content": "Carpels"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "megaphylls",
                  "label": [
                        {
                              "type": "text",
                              "content": "Megaphylls"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "seeds",
                  "label": [
                        {
                              "type": "text",
                              "content": "Seeds"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "stamens",
                  "label": [
                        {
                              "type": "text",
                              "content": "Stamens"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "vascular_tissue",
                  "label": [
                        {
                              "type": "text",
                              "content": "Vascular tissue"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "woody_tissue",
                  "label": [
                        {
                              "type": "text",
                              "content": "Woody tissue"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "species"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question x2920216d6b954cea (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "inclusiveness"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "natural rights"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "popular sovereignty"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "separation of powers"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "equity"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "demagoguery"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "activism"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "limited government"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Civic principles vs. Democratic principles",
      "footer": null,
      "columns": [
            {
                  "key": "pairing",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "civic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civic principles"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "democratic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Democratic principles"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pairing"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - tolerance-tolerance-range-and-limits-of-tolerance", () => {
    // Source: Question x66e6d667aca7a74f (Tolerance, tolerance range, and limits of tolerance)
    const input = {
      "data": [
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "limits of tolerance"
                                          }
                                    ],
                                    "identifier": "LIMITS_OF_TOLERANCE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "tolerance"
                                          }
                                    ],
                                    "identifier": "TOLERANCE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "tolerance range"
                                          }
                                    ],
                                    "identifier": "TOLERANCE_RANGE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "an organism's ability to survive variation in abiotic factors"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "limits of tolerance"
                                          }
                                    ],
                                    "identifier": "LIMITS_OF_TOLERANCE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "tolerance"
                                          }
                                    ],
                                    "identifier": "TOLERANCE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "tolerance range"
                                          }
                                    ],
                                    "identifier": "TOLERANCE_RANGE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_2"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the values for an abiotic factor within which an organism can survive"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "limits of tolerance"
                                          }
                                    ],
                                    "identifier": "LIMITS_OF_TOLERANCE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "tolerance"
                                          }
                                    ],
                                    "identifier": "TOLERANCE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "tolerance range"
                                          }
                                    ],
                                    "identifier": "TOLERANCE_RANGE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_5"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the lower and upper bounds of values for an abiotic factor between which an organism can survive"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Match ecology terms to definitions",
      "footer": null,
      "columns": [
            {
                  "key": "term",
                  "label": [
                        {
                              "type": "text",
                              "content": "Term"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "definition",
                  "label": [
                        {
                              "type": "text",
                              "content": "Definition"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "definition"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-1d1a-the-exclusive-and-concurrent-powers-of-the", () => {
    // Source: Question x21a6fa759105262e (EK 1.D.1a - The exclusive and concurrent powers of the national and state governments help explain the negotiations over the balance of power between the two levels.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Establish local governments"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Regulate interstate commerce"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Conduct elections"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Make laws"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Regulate the postal system"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Establish courts"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Levy taxes"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declare war"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Exclusive vs. concurrent powers",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "exclusive",
                  "label": [
                        {
                              "type": "text",
                              "content": "Exclusive powers of the federal government"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "concurrent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Concurrent powers shared with the states"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 2a1d", () => {
    // Source: Question xd7581578585f7ba8 (2.A.1.d)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Establishing post offices"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Banning the mailing of dry ice"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Maintaining a national bank"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Coining money"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Regulating immigration"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Creating a path to citizenship for immigrants"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Maintaining the armed forces"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declaring war"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Enumerated vs. Implied Powers",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "enumerated_power",
                  "label": [
                        {
                              "type": "text",
                              "content": "Enumerated power"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "implied_power",
                  "label": [
                        {
                              "type": "text",
                              "content": "Implied power"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - increasing-numbers-of-americans-especially-women-a", () => {
    // Source: Question xe64de14b6c6628b9 (Increasing numbers of Americans, especially women and men working in factories, no longer relied on semi-subsistence agriculture; instead they supported themselves producing goods for distant markets.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1820"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 6.2
                  },
                  {
                        "type": "number",
                        "value": 7.3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1830"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 6.4
                  },
                  {
                        "type": "number",
                        "value": 9.6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1840"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 8.4
                  },
                  {
                        "type": "number",
                        "value": 9.6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1850"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 10.1
                  },
                  {
                        "type": "number",
                        "value": 10.8
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Women's employment, 1820 to 1850",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: U.S. Census Bureau, Historical Statistics of the United States, Colonial Times to 1970, 1975"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pct_women_paid",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of women in paid employment"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_total_paid",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of total paid workers"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question x7705c27156ba8c10 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "extends beyond the family"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "includes formal institutions"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "includes institutions like state legislatures and courts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "includes institutions like charities, trade unions, and professional associations"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "composed of citizens and non-citizens"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "composed of officials elected to public office"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "created by a bill of rights that protects individual rights"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "created by a constitution that determines its structure"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Civil society vs. government",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "civil_society",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civil society"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "government",
                  "label": [
                        {
                              "type": "text",
                              "content": "Government"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - mpa1b3-generational-and-lifecycle-effects-also-con", () => {
    // Source: Question x38ca1fa5cabc1b67 (MPA-1.B.3: Generational and lifecycle effects also contribute to the political socialization that influences an individual’s political attitudes.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "All US Adults"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 64
                  },
                  {
                        "type": "number",
                        "value": 31
                  },
                  {
                        "type": "number",
                        "value": 5
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "18-29"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 72
                  },
                  {
                        "type": "number",
                        "value": 25
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "30-49"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 66
                  },
                  {
                        "type": "number",
                        "value": 29
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "50-64"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 60
                  },
                  {
                        "type": "number",
                        "value": 37
                  },
                  {
                        "type": "number",
                        "value": 3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "65 and older"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 55
                  },
                  {
                        "type": "number",
                        "value": 35
                  },
                  {
                        "type": "number",
                        "value": 10
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Support for Curbing Power Plant Emissions",
      "footer": null,
      "columns": [
            {
                  "key": "age_range",
                  "label": [
                        {
                              "type": "text",
                              "content": "Age range"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "favor",
                  "label": [
                        {
                              "type": "text",
                              "content": "Favor"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "oppose",
                  "label": [
                        {
                              "type": "text",
                              "content": "Oppose"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "dont_know",
                  "label": [
                        {
                              "type": "text",
                              "content": "Don’t know"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "age_range"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-specific-heat-capacity-experimental", () => {
    // Source: Question xc188c23ac293cb62 (Type 4: Specific heat capacity (experimental))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Iron"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>25</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " g"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21.0</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>24.6</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lead"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>25</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " g"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21.0</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>33.8</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Metal temperature measurements",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mass",
                  "label": [
                        {
                              "type": "text",
                              "content": "Mass"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "starting_temp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Starting temp"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "final_temp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Final temp"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - generalist-versus-specialist-organisms", () => {
    // Source: Question x5178ddbd778bc614 (Generalist versus specialist organisms)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "narrow niche"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "generalist"
                                          }
                                    ],
                                    "identifier": "GENERALIST"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "specialist"
                                          }
                                    ],
                                    "identifier": "SPECIALIST"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "broad niche"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "generalist"
                                          }
                                    ],
                                    "identifier": "GENERALIST"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "specialist"
                                          }
                                    ],
                                    "identifier": "SPECIALIST"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "has large tolerance ranges for abiotic factors"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "generalist"
                                          }
                                    ],
                                    "identifier": "GENERALIST"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "specialist"
                                          }
                                    ],
                                    "identifier": "SPECIALIST"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_3"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "has small tolerance ranges for abiotic factors"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "generalist"
                                          }
                                    ],
                                    "identifier": "GENERALIST"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "specialist"
                                          }
                                    ],
                                    "identifier": "SPECIALIST"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_4"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Characteristics and organism types",
      "footer": null,
      "columns": [
            {
                  "key": "characteristic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Characteristic"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "organism_type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type of organism"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "characteristic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - plate-boundaries-and-density", () => {
    // Source: Question xfedf222686a22068 (Plate boundaries and density)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2.85"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3.20"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Densities of two oceanic plates",
      "footer": null,
      "columns": [
            {
                  "key": "plate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mfrac><mi>g</mi><msup><mi>cm</mi><mn>3</mn></msup></mfrac><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "plate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - the-constitutional-convention-compromised-over-the", () => {
    // Source: Question xd3b23d003f02d221 (The Constitutional Convention compromised over the representation of slave states in Congress and the role of the federal government in regulating both slavery and the slave trade, allowing the prohibition of the international slave trade after 1808.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1751–1760"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "42,947"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1761–1770"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "46,691"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1771–1780"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "31,185"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1781–1790"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "14,298"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1791–1800"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "14,338"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1801–1810"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "72,978"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1811–1820"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "4,635"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1821–1830"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "91"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1831–1840"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Estimates of enslaved people of African descent sent to mainland North America via the Atlantic slave trade, 1751–1840",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Adapted from Herbert S. Klein, The Atlantic Slave Trade, 2010"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "years",
                  "label": [
                        {
                              "type": "text",
                              "content": "Years"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "count",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of enslaved people"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "years"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question x5bf5f7845baeb371 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to petition the government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "obey laws"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to represent yourself in contracts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "serve on a political campaign"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to work in safe conditions"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "pay taxes"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to acquire, use, or dispose of property"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "volunteering in your community"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Economic rights and obligations",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "economic_right",
                  "label": [
                        {
                              "type": "text",
                              "content": "economic right"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "obligation",
                  "label": [
                        {
                              "type": "text",
                              "content": "obligation"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi5g-explain-how-various-political-actors-influen", () => {
    // Source: Question x1ffe35dd7c0324e1 (PMI-5.G: Explain how various political actors influence public policy outcomes.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Are one of the three participants that make up an iron triangle"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aim to get those sympathetic to the movement elected to office"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Offer policy packages to attract voters"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bring attention to issues during the agenda-setting stage"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Connect individuals to government as a linkage institution"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Affect whether certain policies succeed or fail"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Directly influence policy formulation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Indirectly influence policy implementation"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Political parties vs. protest movements",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "political_parties",
                  "label": [
                        {
                              "type": "text",
                              "content": "Political parties"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "protest_movements",
                  "label": [
                        {
                              "type": "text",
                              "content": "Protest movements"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-2b1a-powers-and-functions-of-president", () => {
    // Source: Question x7a1209f09e16bf9e (EK 2.B.1.a - Powers and functions of president)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Nominating ambassadors"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Issuing signing statements"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Presenting the State of the Union"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Impeaching officials"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Issuing executive orders"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Levying taxes"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Enforcing laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Interpreting the Constitution"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Presidential vs. Congressional Powers",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "presidential_powers",
                  "label": [
                        {
                              "type": "text",
                              "content": "Presidential powers"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "congressional_powers",
                  "label": [
                        {
                              "type": "text",
                              "content": "Congressional powers"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 2b4a", () => {
    // Source: Question x1b46f55bdd1d87f4 (2.B.4.a)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "18-34"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 67
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "35-39"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 82
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "60+"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 86
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Percent watching or listening to Bush’s post-9/11 speech on terrorism",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: ABC/Washington Post poll, September 20, 2001"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "age",
                  "label": [
                        {
                              "type": "text",
                              "content": "Age"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "percentage",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage ("
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>%</mo>"
                        },
                        {
                              "type": "text",
                              "content": ")"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "age"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - increasing-numbers-of-americans-especially-women-a", () => {
    // Source: Question x5eb20ea165cdda7f (Increasing numbers of Americans, especially women and men working in factories, no longer relied on semi-subsistence agriculture; instead they supported themselves producing goods for distant markets.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1820"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "6.2"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7.3"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1830"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "6.4"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "9.6"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1840"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "8.4"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "9.6"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1850"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "10.1"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "10.8"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Women's employment, 1820 to 1850",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: U.S. Census Bureau, Historical Statistics of the United States, Colonial Times to 1970, 1975."
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pct_women_paid",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of women in paid employment"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_total_paid",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of total paid workers"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 1b1b-antifederalist-writings-including-brutus-no-1", () => {
    // Source: Question x0afcd5f3e5cb5d0d (1.B.1.b Anti-Federalist writings, including *Brutus No. 1*, adhered to popular democratic theory that emphasized the benefits of a small decentralized republic while warning of the dangers to personal liberty from a large, centralized government.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A large republic will prevent factions from developing"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Only a small republic can truly serve citizens’ needs"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Factions will inevitably develop, no matter the system of government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A strong central government will prevent abuses of power by local governments"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A large republic will control factions by pitting them against each other"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A large republic endangers personal liberties"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A decentralized government will preserve liberty better than a strong federal government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government is too far removed from citizens to understand their needs"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of views",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "federalist",
                  "label": [
                        {
                              "type": "text",
                              "content": "Federalist No. 10"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "brutus",
                  "label": [
                        {
                              "type": "text",
                              "content": "Brutus No. 1"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi4b1-because-the-us-is-a-democracy-with-a-divers", () => {
    // Source: Question x71a4a7f996379001 (PMI-4.B.1: Because the U.S. is a democracy with a diverse society, public policies generated at any given time reflect the attitudes and beliefs of citizens who choose to participate in politics at that time.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Strengthening the nation's economy"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>87</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>75</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>70</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Protecting the environment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>56</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Improving the job situation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>84</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>67</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Reducing the budget deficit"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Dealing with climate change"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>26</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>34</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>44</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Public's policy priorities: 2011–2019",
      "footer": null,
      "columns": [
            {
                  "key": "topic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Topic"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "jan_2011",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2011"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "jan_2015",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2015"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "jan_2019",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2019"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "topic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - regional-identities-and-internal-improvements", () => {
    // Source: Question x3e165058093adf90 (Regional identities and internal improvements)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Northeast"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.8</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>6.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>8.4</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "West"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "N/A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>4.7</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.3</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.5</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.2</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Federal funding for infrastructure improvements, 1820–1840",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Bureau of the Census, Historical Statistics of the United States, Colonial Times to 1970."
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "region",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "y1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "1820"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1830",
                  "label": [
                        {
                              "type": "text",
                              "content": "1830"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "1840"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - inputs-and-outputs-of-photosynthesis", () => {
    // Source: Question x1dcd6dc80ca3c5d5 (Inputs and outputs of photosynthesis)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "carbon dioxide"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "oxygen"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "water"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "sugars"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Inputs and Outputs of Photosynthesis",
      "footer": null,
      "columns": [
            {
                  "key": "inputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Inputs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "outputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Outputs"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "inputs"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - inputs-and-outputs-of-photosynthesis", () => {
    // Source: Question x1dcd6dc80ca3c5d5 (Inputs and outputs of photosynthesis)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "sugars"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "oxygen"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "water"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "carbon dioxide"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Inputs and Outputs of Photosynthesis",
      "footer": null,
      "columns": [
            {
                  "key": "inputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Inputs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "outputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Outputs"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "inputs"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - inputs-and-outputs-of-photosynthesis", () => {
    // Source: Question x1dcd6dc80ca3c5d5 (Inputs and outputs of photosynthesis)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "sugars"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "water"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "oxygen"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "carbon dioxide"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Inputs and Outputs of Photosynthesis",
      "footer": null,
      "columns": [
            {
                  "key": "inputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Inputs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "outputs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Outputs"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "inputs"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 2a3a", () => {
    // Source: Question x9fdae749d95ab302 (2.A.3.a)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that Tennessee violated the Equal Protection Clause of the Fourteenth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that North Carolina violated the Due Process Clause of the Fourteenth Amendment"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to the “one person, one vote” judicial doctrine"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Prohibited oddly shaped majority-minority districts"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the Supreme Court can declare a law unconstitutional"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that federal courts can intervene in and decide redistricting cases"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Extended the Fourteenth Amendment to apply to the states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to an increase in power for the national government"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Accurate comparisons of two court cases",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "baker",
                  "label": [
                        {
                              "type": "text",
                              "content": "Baker v. Carr (1961)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "shaw",
                  "label": [
                        {
                              "type": "text",
                              "content": "Shaw v. Reno (1993)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - relatedness-based-on-data-table", () => {
    // Source: Question x59d80ba880122f95 (Relatedness based on data table)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "frog"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": ""
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": ""
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "alligator"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "bird"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Organism features",
      "footer": null,
      "columns": [
            {
                  "key": "organism",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "four_limbs",
                  "label": [
                        {
                              "type": "text",
                              "content": "four limbs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "gizzard",
                  "label": [
                        {
                              "type": "text",
                              "content": "gizzard"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "amniotic_egg",
                  "label": [
                        {
                              "type": "text",
                              "content": "amniotic egg"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "organism"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek38a1-and-ek38a3", () => {
    // Source: Question x61baab399611a53b (EK3.8.A.1 and EK3.8.A.3)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Protects against double jeopardy"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Guarantees a right to a speedy and public trial"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Requires a warrant for searches"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Allows states to delay trials indefinitely"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Applies only to state governments"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Applies only to the federal government"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Prohibits cruel and unusual punishment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Prohibits excessive bail or fines"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of the Fifth and Sixth Amendments",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "fifth",
                  "label": [
                        {
                              "type": "text",
                              "content": "Fifth Amendment"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "sixth",
                  "label": [
                        {
                              "type": "text",
                              "content": "Sixth Amendment"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2", () => {
    // Source: Question x9a8cb7abef5819d6 (Type 2)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "has loose eligibility requirements and applies to millions of immigrants"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "has strict eligibility requirements, including an age limit"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "applies to all undocumented immigrants"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "applies to undocumented immigrants brought to the United States as children"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "permits undocumented immigrants to apply for Social Security and Medicare"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "allows undocumented immigrants to apply for lawful permanent status"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "creates a path to citizenship for eligible undocumented immigrants"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "deprioritizes the deportation of young, law-abiding undocumented immigrants"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of the DREAM Act and the DACA program",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "dream_act",
                  "label": [
                        {
                              "type": "text",
                              "content": "DREAM Act"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "daca_program",
                  "label": [
                        {
                              "type": "text",
                              "content": "DACA program"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi4f1-policy-trends-concerning-the-level-of-gover", () => {
    // Source: Question xdc0738f360bf3651 (PMI-4.F.1: Policy trends concerning the level of government involvement in social issues reflect the success of conservative or liberal perspectives in political parties.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should provide free health care programs for those who cannot afford them."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should be responsible for providing welfare programs for low-income people."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should legalize and regulate the use of marijuana."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should maintain its position of prohibiting the use of marijuana."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should prevent race and gender from being considered in hiring decisions."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should encourage affirmative action programs for employment."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should allow voluntary prayer in schools for all students."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should not require a business to serve a same-sex couple if doing so conflicts with the owners' religious beliefs."
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Policy comparison options",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "liberal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Liberal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "conservative",
                  "label": [
                        {
                              "type": "text",
                              "content": "Conservative"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - the-increased-demand-for-war-production-and-labor-", () => {
    // Source: Question xc472fafde8bc4bc1 (The increased demand for war production and labor during World War II and the economic difficulties of the 1930s led many Americans to migrate to urban centers in search of economic opportunities.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Urban"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "69,160,599"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "74,705,338"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "90,128,194"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "113,063,593"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Rural"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "54,042,025"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "57,459,231"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "61,197,604"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "66,259,582"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population in Urban and Rural Areas, 1930 to 1960",
      "footer": null,
      "columns": [
            {
                  "key": "category",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "1930",
                  "label": [
                        {
                              "type": "text",
                              "content": "1930"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "1940",
                  "label": [
                        {
                              "type": "text",
                              "content": "1940"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "1950",
                  "label": [
                        {
                              "type": "text",
                              "content": "1950"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "1960",
                  "label": [
                        {
                              "type": "text",
                              "content": "1960"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "category"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek31a2civil-liberties-are-constitutionally-establi", () => {
    // Source: Question x06fb000f67c13161 (EK3.1.A.2—Civil liberties are constitutionally established guarantees and freedoms that protect citizens, opinions, and property against arbitrary government interference.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to due process"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Freedom from discrimination"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Freedom of religion"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Freedom of assembly"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Freedom of speech"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to petition the government"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to vote"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to privacy"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Civil liberties and civil rights comparisons",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "civil_liberties",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civil liberties"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "civil_rights",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civil rights"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question x2182cf523fdabff0 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to a speedy and fair trial by jury"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Voting in elections"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to earn a wage"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Staying informed"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to safe working conditions"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Running for office"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to enter lawful contracts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Serving on a political campaign"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Pairings of Economic Rights and Responsibilities",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [
                        {
                              "type": "text",
                              "content": "Comparison"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "economic_right",
                  "label": [
                        {
                              "type": "text",
                              "content": "Economic right"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "responsibility",
                  "label": [
                        {
                              "type": "text",
                              "content": "Responsibility"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - regional-identities-and-internal-improvements", () => {
    // Source: Question x98d8cf31a64026fd (Regional identities and internal improvements)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Northeast"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.8</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>6.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>8.4</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "West"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "N/A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>4.7</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.3</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.5</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.2</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Federal funding for infrastructure improvements, 1820–1840",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Bureau of the Census, Historical Statistics of the United States, Colonial Times to 1970"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "region",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "y1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "1820"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "y1830",
                  "label": [
                        {
                              "type": "text",
                              "content": "1830"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "y1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "1840"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 21ib-french-and-dutch", () => {
    // Source: Question x9a83b785754859df (2.1.I.B - french and dutch)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New Netherland"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New France"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chesapeake Bay"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New England"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "33,000"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "European inhabitants by the year 1660",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "From Alan Taylor, American Colonies (New York: Penguin Books, 2001)."
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "colony",
                  "label": [
                        {
                              "type": "text",
                              "content": "Colony"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "inhabitants_1660",
                  "label": [
                        {
                              "type": "text",
                              "content": "European inhabitants by the year 1660"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "colony"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - photosynthesis-experimenttag", () => {
    // Source: Question x6af8ac658ae46996 (Photosynthesis experiment/tag)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 1"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 175
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 2"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "number",
                        "value": 192
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 3"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 210
                  }
            ]
      ],
      "type": "dataTable",
      "title": " ",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "off",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of bubbles (light off)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "on",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of bubbles (light on)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - data-showing-that-specialized-plant-structures-aid", () => {
    // Source: Question xedd9d9023afe9757 (Data showing that specialized plant structures aid in pollination and reproductive success)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Number of visits from birds"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 24
                  },
                  {
                        "type": "number",
                        "value": 11
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Average number of seeds produced per plant"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 125
                  },
                  {
                        "type": "number",
                        "value": 80
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Study results",
      "footer": null,
      "columns": [
            {
                  "key": "metric",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "with",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plants with stalks"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "without",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plants without stalks"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metric"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-u-and-k-in-isolated-system", () => {
    // Source: Question x24da9adc0402d5dc (Type 4:  U and K in isolated system)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "increases"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "STAYS_SAME"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "stays the same"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "STAYS_SAME"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "decreases"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "STAYS_SAME"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": null,
      "footer": null,
      "columns": [
            {
                  "key": "kinetic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Kinetic energy"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "potential",
                  "label": [
                        {
                              "type": "text",
                              "content": "Potential energy"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "kinetic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-conceptual-density-volume", () => {
    // Source: Question x83441ad90d1f909b (Type 4: Conceptual density (volume))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gold"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 19.3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Nickel"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 8.91
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Silver"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 10.5
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Densities of the metals",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mtext>g</mtext><mo>/</mo><msup><mtext>cm</mtext><mn>3</mn></msup><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - claims", () => {
    // Source: Question xc0d5244e1a8de0f9 (Claims)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The wheels and track get warmer"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "STUDENT_A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "STUDENT_B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A roaring sound is heard as the coaster moves"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "STUDENT_A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "STUDENT_B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The coaster is moving faster at the bottom of the hill than at the top"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "STUDENT_A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "STUDENT_B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Classify each observation",
      "footer": null,
      "columns": [
            {
                  "key": "observation",
                  "label": [
                        {
                              "type": "text",
                              "content": "Observation"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "claim_supported",
                  "label": [
                        {
                              "type": "text",
                              "content": "Claim supported"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "observation"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc61iiia-improvements-in-mechanization-helped-agri", () => {
    // Source: Question x79b21153caf02c4a (KC-6.1.III.A Improvements in mechanization helped agricultural production increase substantially and contributed to declines in food prices.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1867"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "16,738"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "211"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2.01</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1869"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "21,194"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "288"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.92</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1871"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "22,230"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "272"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.25</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1873"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "24,866"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "322"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.17</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1875"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "28,382"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "314"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.01</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Acreage harvested, production (in millions of bushels), and price per ton, 1867–1875",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "acreage_harvested",
                  "label": [
                        {
                              "type": "text",
                              "content": "Acreage harvested"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "production_millions",
                  "label": [
                        {
                              "type": "text",
                              "content": "Production (in millions of bushels)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "price_per_ton",
                  "label": [
                        {
                              "type": "text",
                              "content": "Price per ton"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek215b1the-allocation-of-powers-among-the-three-br", () => {
    // Source: Question xe04243b035ff4dbc (EK2.15.B.1—The allocation of powers among the three branches of government creates multiple access points for stakeholders and institutions to influence public policy.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Overrides presidential vetoes"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Reviews executive orders before implementation"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Holds public hearings on proposed laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Interprets laws through constitutional rulings"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Introduces and debates bills"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Enforces laws passed by Congress"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Allocates funding to federal agencies"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Appoints lower court judges"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Which is an accurate comparison of how the legislative and judicial branches provide access points to influence policy?",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "legislative",
                  "label": [
                        {
                              "type": "text",
                              "content": "Legislative Branch"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "judicial",
                  "label": [
                        {
                              "type": "text",
                              "content": "Judicial Branch"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-52a4factors-influencing-voter-choice-include-i-", () => {
    // Source: Question xf56e629ec7801450 (EK 5.2.A.4—Factors influencing voter choice include: i. Party identification and ideological orientation ii. Candidate characteristics iii. Contemporary political issues iv. Religious beliefs or affiliation, age, gender, race and ethnicity, and other demographic characteristics.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Obama (Democrat)"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 94
                  },
                  {
                        "type": "number",
                        "value": 84
                  },
                  {
                        "type": "number",
                        "value": 58
                  },
                  {
                        "type": "number",
                        "value": 21
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "McCain (GOP)"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 6
                  },
                  {
                        "type": "number",
                        "value": 16
                  },
                  {
                        "type": "number",
                        "value": 42
                  },
                  {
                        "type": "number",
                        "value": 79
                  },
                  {
                        "type": "number",
                        "value": 96
                  }
            ]
      ],
      "type": "dataTable",
      "title": "2008 presidential vote by party identification",
      "footer": null,
      "columns": [
            {
                  "key": "voting_for",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent ("
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>%</mo>"
                        },
                        {
                              "type": "text",
                              "content": ") Voting for"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "strong_democrat",
                  "label": [
                        {
                              "type": "text",
                              "content": "Strong Democrat"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "weak_democrat",
                  "label": [
                        {
                              "type": "text",
                              "content": "Weak Democrat"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "independent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Independent"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "weak_republican",
                  "label": [
                        {
                              "type": "text",
                              "content": "Weak Republican"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "strong_republican",
                  "label": [
                        {
                              "type": "text",
                              "content": "Strong Republican"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "voting_for"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-ke-vs-foa", () => {
    // Source: Question x2bcb5167370a453d (Type 2: KE vs. FoA)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Holds the particles together"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "kinetic energy"
                                          }
                                    ],
                                    "identifier": "KINETIC_ENERGY"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attractive forces"
                                          }
                                    ],
                                    "identifier": "ATTRACTIVE_FORCES"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_9"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Keeps the particles in motion"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "kinetic energy"
                                          }
                                    ],
                                    "identifier": "KINETIC_ENERGY"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attractive forces"
                                          }
                                    ],
                                    "identifier": "ATTRACTIVE_FORCES"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_13"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Depends on temperature"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "kinetic energy"
                                          }
                                    ],
                                    "identifier": "KINETIC_ENERGY"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attractive forces"
                                          }
                                    ],
                                    "identifier": "ATTRACTIVE_FORCES"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_10"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Depends on particle type"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "kinetic energy"
                                          }
                                    ],
                                    "identifier": "KINETIC_ENERGY"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attractive forces"
                                          }
                                    ],
                                    "identifier": "ATTRACTIVE_FORCES"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_12"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Properties and Forces",
      "footer": null,
      "columns": [
            {
                  "key": "property",
                  "label": [
                        {
                              "type": "text",
                              "content": "Property"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "force",
                  "label": [
                        {
                              "type": "text",
                              "content": "Force"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "property"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-49b1fiscal-policy-and-ek-49b2monetary-policy", () => {
    // Source: Question x030fb0740cc64900 (EK 4.9.B.1—Fiscal policy and EK 4.9.B.2—Monetary policy)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Controlled by the Federal Reserve"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Controlled by Congress and the president"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Focuses on setting interest rates to influence economic growth and borrowing"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Involves adjusting tax rates and government spending"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Enacted by Congress and the president through the budget"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Implemented by the Federal Reserve to manage the money supply"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Operates independently of elected officials"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Requires direct approval from Congress for all changes"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of Fiscal and Monetary Policy",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "fiscal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Fiscal Policy"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "monetary",
                  "label": [
                        {
                              "type": "text",
                              "content": "Monetary Policy"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 5b4a-in-comparison-to-proportional-systems-winnert", () => {
    // Source: Question xd13693120458a3c1 (5.B.4.a - In comparison to proportional systems, winner-take-all voting districts serve as a structural barrier to third-party and independent candidate success.)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1940
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "La Follette Jr. (i)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Progressive"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "WI"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>45.3</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>3.9</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1940
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lemke"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "ND"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "L"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>3.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1970
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Byrd Jr. (i)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "VA"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>53.5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>22.3</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1970
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Buckley"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Conservative"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "NY"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>38.8</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>2.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2006
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lieberman (i)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "CT"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>49.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>10.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2010
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Murkowski (i)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Write-in"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "AK"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39.5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>4.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2012
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "King"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "ME"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>52.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>22.1</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Highest vote shares for independent and third-party U.S. Senate candidates in regular November elections when opposed by both a Democratic and a Republican candidate",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "candidate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "third_party",
                  "label": [
                        {
                              "type": "text",
                              "content": "Third Party"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "state",
                  "label": [
                        {
                              "type": "text",
                              "content": "State"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "vote_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Vote (%)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "result",
                  "label": [
                        {
                              "type": "text",
                              "content": "Result"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "margin",
                  "label": [
                        {
                              "type": "text",
                              "content": "Margin"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 31ia-31ib", () => {
    // Source: Question xa2ca608494973b85 (3.1.I.A + 3.1.I.B)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1739"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "46,954,623"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1748"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "78,293,313"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1755"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "74,571,849"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1762"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "146,682,844"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1775"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "135,943,051"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "BRITISH NATIONAL DEBT, 1739-1775 (£ Sterling)",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "debt",
                  "label": [
                        {
                              "type": "text",
                              "content": "National Debt"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 21ib", () => {
    // Source: Question xe8b2d397f72b8453 (2.1.I.B.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Age for initiation"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 8
                  },
                  {
                        "type": "number",
                        "value": 11
                  },
                  {
                        "type": "number",
                        "value": 12
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Last age for initiation"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 16
                  },
                  {
                        "type": "number",
                        "value": 22
                  },
                  {
                        "type": "number",
                        "value": 24
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Seasons for initiation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "spring"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "hot season"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "autumn"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Upper garment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "black antelope"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "spotted deer"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "goat or cow"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lower garment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "linen or hempen"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "cotton or linen"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "woolen"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Size of staff"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "reaches the top of the head"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "reaches the forehead"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "reaches the nose"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Chart adapted from Brian K. Smith, \"Ritual, Knowledge, and Being: Initiation and Veda Study in Ancient India\", 1986.",
      "footer": null,
      "columns": [
            {
                  "key": "category",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "brahmin",
                  "label": [
                        {
                              "type": "text",
                              "content": "Brahmin"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "kshatriya",
                  "label": [
                        {
                              "type": "text",
                              "content": "Kshatriya"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "vaishya",
                  "label": [
                        {
                              "type": "text",
                              "content": "Vaishya"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "category"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question xf3733c354b4840f7 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "G6PD mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "no anemia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "anemia"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "no anemia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "no anemia"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype and environment effects on phenotype",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_no_fava",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no fava beans in diet)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_with_fava",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (fava beans in diet)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question xf3733c354b4840f7 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "G6PD mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "anemia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "anemia"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "no anemia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "no anemia"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype and environment effects on phenotype",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_no_fava",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no fava beans in diet)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_with_fava",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (fava beans in diet)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question xf3733c354b4840f7 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "G6PD mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "no anemia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "anemia"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "no anemia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "anemia"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype and environment effects on phenotype",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_no_fava",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no fava beans in diet)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_with_fava",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (fava beans in diet)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2", () => {
    // Source: Question x43ceb2c0d8c04822 (Type 2)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Obligated to register with the Selective Service if eligible."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Obligated to pay federal and state taxes."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Can work in any job for which they are qualified."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Can only work in jobs approved by the government."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Must live in certain designated cities with approval from USCIS."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Can live anywhere in the United States without permission from the government."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Required to obey international laws but not U.S. laws."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Required to obey all laws of the United States, states, and localities."
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Lawful permanent resident vs. citizen: rights and responsibilities",
      "footer": null,
      "columns": [
            {
                  "key": "pair",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "lpr",
                  "label": [
                        {
                              "type": "text",
                              "content": "Lawful permanent resident"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "citizen",
                  "label": [
                        {
                              "type": "text",
                              "content": "Citizen"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pair"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - data-showing-that-specialized-plant-structures-aid", () => {
    // Source: Question x9a07013c7fed42fd (Data showing that specialized plant structures aid in pollination and reproductive success)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Number of visits from birds"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 24
                  },
                  {
                        "type": "number",
                        "value": 11
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Average number of seeds produced per plant"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 125
                  },
                  {
                        "type": "number",
                        "value": 80
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Study results",
      "footer": null,
      "columns": [
            {
                  "key": "metric",
                  "label": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "with_stalks",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plants with stalks"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "without_stalks",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plants without stalks"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metric"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc61iiia-improvements-in-mechanization-helped-agri", () => {
    // Source: Question x0147873aca3e0512 (KC-6.1.III.A Improvements in mechanization helped agricultural production increase substantially and contributed to declines in food prices.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1867"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "16,738"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "211"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2.01</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1869"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "21,194"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "288"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.92</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1871"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "22,230"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "272"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.25</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1873"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "24,866"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "322"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.17</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1875"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "28,382"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "314"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.01</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Wheat data (selected years)",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "acreage",
                  "label": [
                        {
                              "type": "text",
                              "content": "Acreage harvested"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "production",
                  "label": [
                        {
                              "type": "text",
                              "content": "Production (in millions of bushels)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "price",
                  "label": [
                        {
                              "type": "text",
                              "content": "Price per ton"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - quantitative", () => {
    // Source: Question xebcbe41288552699 (Quantitative)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Republican Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51.8</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>46.9</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Democratic Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48.2</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Green Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>3.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Reform Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1.4</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Election results",
      "footer": null,
      "columns": [
            {
                  "key": "candidate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Presidential candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "electoral",
                  "label": [
                        {
                              "type": "text",
                              "content": "Electoral Votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "popular",
                  "label": [
                        {
                              "type": "text",
                              "content": "Popular Votes"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "candidate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - relatedness-based-on-morphology", () => {
    // Source: Question x19fa7af1503053b9 (Relatedness based on morphology)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "chimpanzee"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "howler monkey"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Komodo dragon"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "western gorilla"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "wild yak"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Traits found in various animal species",
      "footer": null,
      "columns": [
            {
                  "key": "species",
                  "label": [
                        {
                              "type": "text",
                              "content": "Species"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "epidermal_scales",
                  "label": [
                        {
                              "type": "text",
                              "content": "Epidermal scales"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "even_toed_hooves",
                  "label": [
                        {
                              "type": "text",
                              "content": "Even-toed hooves"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "four_limbs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Four limbs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mammary_glands",
                  "label": [
                        {
                              "type": "text",
                              "content": "Mammary glands"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "opposable_thumb",
                  "label": [
                        {
                              "type": "text",
                              "content": "Opposable thumb"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "rotating_shoulder",
                  "label": [
                        {
                              "type": "text",
                              "content": "Rotating shoulder"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "species"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-identifying-an-unknown", () => {
    // Source: Question xab0c3073c359b470 (Type 2: Identifying an unknown)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aluminum"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.70</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Iron"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.86</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Nickel"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>8.91</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Zinc"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.14</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Metal densities",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mtext>g/</mtext><msup><mtext>cm</mtext><mn>3</mn></msup><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question x083104d9f3e5f2d3 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to move to another country"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "participating in your local community"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to make decisions about your body"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "working for a living wage"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to refuse healthcare"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "performing public service"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to a lawyer when facing criminal proceedings"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "staying informed of current events"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Political rights and responsibilities",
      "footer": null,
      "columns": [
            {
                  "key": "pairing",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "political_right",
                  "label": [
                        {
                              "type": "text",
                              "content": "Political right"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "responsibility",
                  "label": [
                        {
                              "type": "text",
                              "content": "Responsibility"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pairing"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - claims", () => {
    // Source: Question x78fb0e0b797093aa (Claims)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the snowboarder is moving faster at the bottom of the hill than at the top"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the snow beneath the snowboard melts a little"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "a scraping sound is heard as the snowboard slides"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Observations and supported claims",
      "footer": null,
      "columns": [
            {
                  "key": "observation",
                  "label": [
                        {
                              "type": "text",
                              "content": "Observation"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "claim_supported",
                  "label": [
                        {
                              "type": "text",
                              "content": "Claim supported"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "observation"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - mpa1b3-generational-and-lifecycle-effects-also-con", () => {
    // Source: Question x55ce6dabc10c0c02 (MPA-1.B.3: Generational and lifecycle effects also contribute to the political socialization that influences an individual’s political attitudes.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "All US Adults"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 64
                  },
                  {
                        "type": "number",
                        "value": 31
                  },
                  {
                        "type": "number",
                        "value": 5
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "18-29"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 72
                  },
                  {
                        "type": "number",
                        "value": 25
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "30-49"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 66
                  },
                  {
                        "type": "number",
                        "value": 29
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "50-64"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 60
                  },
                  {
                        "type": "number",
                        "value": 37
                  },
                  {
                        "type": "number",
                        "value": 3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "65 and older"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 55
                  },
                  {
                        "type": "number",
                        "value": 35
                  },
                  {
                        "type": "number",
                        "value": 10
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Support for Curbing Power Plant Emissions",
      "footer": null,
      "columns": [
            {
                  "key": "age_range",
                  "label": [
                        {
                              "type": "text",
                              "content": "Age range"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "favor",
                  "label": [
                        {
                              "type": "text",
                              "content": "Favor"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "oppose",
                  "label": [
                        {
                              "type": "text",
                              "content": "Oppose"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "dont_know",
                  "label": [
                        {
                              "type": "text",
                              "content": "Don’t know"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "age_range"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - interpret-population-growth-data-from-a-microscope", () => {
    // Source: Question xe55d31b3912655fb (Interpret population growth data from a microscope view)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 90
                  },
                  {
                        "type": "number",
                        "value": 8
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 180
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 270
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 360
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Yeast population data over 360 minutes",
      "footer": null,
      "columns": [
            {
                  "key": "minute",
                  "label": [
                        {
                              "type": "text",
                              "content": "Minute"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "cells",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of cells"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "minute"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - phet-simulation-natural-selection", () => {
    // Source: Question x4698a76039622ad1 (PhET simulation: natural selection)
    const input = {
      "data": [
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "acquired"
                                          }
                                    ],
                                    "identifier": "ACQUIRED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "inherited"
                                          }
                                    ],
                                    "identifier": "INHERITED"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "mineral deposits on the shell"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "acquired"
                                          }
                                    ],
                                    "identifier": "ACQUIRED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "inherited"
                                          }
                                    ],
                                    "identifier": "INHERITED"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "average adult shell length"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "acquired"
                                          }
                                    ],
                                    "identifier": "ACQUIRED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "inherited"
                                          }
                                    ],
                                    "identifier": "INHERITED"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "shell pattern (striped or solid)"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "acquired"
                                          }
                                    ],
                                    "identifier": "ACQUIRED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "inherited"
                                          }
                                    ],
                                    "identifier": "INHERITED"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "shell scarring and cracks"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": null,
      "footer": null,
      "columns": [
            {
                  "key": "trait_type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Trait type"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "trait_desc",
                  "label": [
                        {
                              "type": "text",
                              "content": "Snail trait description"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "trait_desc"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - relatedness-based-on-data-table", () => {
    // Source: Question x79f263347b96bfe8 (Relatedness based on data table)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "redwood tree"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "primrose"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "fern"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": []
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Feature presence by organism",
      "footer": null,
      "columns": [
            {
                  "key": "organism",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "seeds",
                  "label": [
                        {
                              "type": "text",
                              "content": "seeds"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "megaphylls",
                  "label": [
                        {
                              "type": "text",
                              "content": "megaphylls"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "vascular_tissue",
                  "label": [
                        {
                              "type": "text",
                              "content": "vascular tissue"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "organism"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - transmission-absorption-reflection", () => {
    // Source: Question x7b7a1804fc492192 (Transmission, absorption, reflection)
    const input = {
      "data": [
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "reflection"
                                          }
                                    ],
                                    "identifier": "REFLECTION"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "transmission"
                                          }
                                    ],
                                    "identifier": "TRANSMISSION"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "absorption"
                                          }
                                    ],
                                    "identifier": "ABSORPTION"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The wave crosses the boundary and travels through the material."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "reflection"
                                          }
                                    ],
                                    "identifier": "REFLECTION"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "transmission"
                                          }
                                    ],
                                    "identifier": "TRANSMISSION"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "absorption"
                                          }
                                    ],
                                    "identifier": "ABSORPTION"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The wave's energy is taken in by the material and converted to another form."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "reflection"
                                          }
                                    ],
                                    "identifier": "REFLECTION"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "transmission"
                                          }
                                    ],
                                    "identifier": "TRANSMISSION"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "absorption"
                                          }
                                    ],
                                    "identifier": "ABSORPTION"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The wave bounces back after reaching the boundary."
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Identify each result",
      "footer": null,
      "columns": [
            {
                  "key": "result",
                  "label": [
                        {
                              "type": "text",
                              "content": "Result"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "description",
                  "label": [
                        {
                              "type": "text",
                              "content": "Description"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "result"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparing-court-cases", () => {
    // Source: Question x5ccd3d7323925c71 (Comparing Court cases)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bolstered the freedom of the press"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that speech creating a \"clear and present danger\" is not protected"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that political spending by corporations, associations, and labor unions is a form of protected speech"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Established a \"heavy presumption against prior restraint\" even in cases involving national security"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to the development of the \"one person, one vote\" doctrine"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Guaranteed the right to an attorney for the poor or indigent"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that public school students can engage in symbolic protest"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Applied the Second Amendment to the states"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Accurate comparison of the two cases",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "nyt",
                  "label": [
                        {
                              "type": "text",
                              "content": "New York Times Co. v. United States (1971)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "schenck",
                  "label": [
                        {
                              "type": "text",
                              "content": "Schenck v. United States (1919)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - rate", () => {
    // Source: Question x4106d830d43ec436 (Rate)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Shake the mixture"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decrease concentration of the reactants"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Cool the reactants"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Change and effect on reaction rate",
      "footer": null,
      "columns": [
            {
                  "key": "change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Change"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "effect",
                  "label": [
                        {
                              "type": "text",
                              "content": "Effect on rate"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "change"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - brown", () => {
    // Source: Question x13883ffaf8bd19d4 (Brown)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated the right to vote against the states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated the right to privacy against the states"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that segregation in schools violates the Equal Protection Clause"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the right to privacy extends to a woman's right to have an abortion"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Authorized states to create separate facilities based on race as long as they were equal"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Limited the power of state governments to regulate abortion"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Fourteenth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Sixth Amendment"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Accurate comparison of the two court cases",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "brown",
                  "label": [
                        {
                              "type": "text",
                              "content": "Brown v. Board of Education (1954)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "roe",
                  "label": [
                        {
                              "type": "text",
                              "content": "Roe v. Wade (1973)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - match-life-history-characteristics-to-rkselected-s", () => {
    // Source: Question x526df67afcdba090 (Match life history characteristics to r-/K-selected species)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "level of parental care"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "high"
                                          }
                                    ],
                                    "identifier": "HIGH"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "low"
                                          }
                                    ],
                                    "identifier": "LOW"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "high"
                                          }
                                    ],
                                    "identifier": "HIGH"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "low"
                                          }
                                    ],
                                    "identifier": "LOW"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "lifespan"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "long"
                                          }
                                    ],
                                    "identifier": "LONG"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "short"
                                          }
                                    ],
                                    "identifier": "SHORT"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "long"
                                          }
                                    ],
                                    "identifier": "LONG"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "short"
                                          }
                                    ],
                                    "identifier": "SHORT"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "most closely associated population growth model"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "logistic"
                                          }
                                    ],
                                    "identifier": "LOGISTIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "exponential"
                                          }
                                    ],
                                    "identifier": "EXPONENTIAL"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_5"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "logistic"
                                          }
                                    ],
                                    "identifier": "LOGISTIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "exponential"
                                          }
                                    ],
                                    "identifier": "EXPONENTIAL"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_6"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Life history characteristics of K- and r-selected species",
      "footer": null,
      "columns": [
            {
                  "key": "characteristic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Characteristic"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "k_selected",
                  "label": [
                        {
                              "type": "text",
                              "content": "K-selected species"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "r_selected",
                  "label": [
                        {
                              "type": "text",
                              "content": "r-selected species"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "characteristic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - shaw-v-reno", () => {
    // Source: Question x544bb0bf0029d707 (Shaw v. Reno)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that Kansas violated the Equal Protection Clause of the Fourteenth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that North Carolina violated the Due Process Clause of the Fourteenth Amendment"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Prohibited race-based segregation in schools"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Prohibited oddly shaped majority–minority districts"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that states had the exclusive right to regulate schools"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that federal courts can intervene in and decide redistricting cases"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to the \"one person, one vote\" judicial doctrine"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to an increase in power for the national government"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of Supreme Court Cases",
      "footer": null,
      "columns": [
            {
                  "key": "letter",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "brown",
                  "label": [
                        {
                              "type": "text",
                              "content": "Brown v. Board of Education (1954)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "shaw",
                  "label": [
                        {
                              "type": "text",
                              "content": "Shaw v. Reno (1993)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "letter"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - application-of-knowledge", () => {
    // Source: Question xe3b54ffe0633ffe6 (Application of knowledge)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Maintained national sovereignty over the states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Made the states sovereign over the national government"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Created a unicameral legislature with the power to levy taxes"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Created a bicameral legislature with the power to regulate interstate commerce"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Made the executive branch the commander in chief of the armed forces"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gave Congress the power to declare war"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Created a weak central government with few independent powers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Created a strong national government with many powers"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Articles of Confederation vs. Constitution",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "articles",
                  "label": [
                        {
                              "type": "text",
                              "content": "Articles of Confederation (1777)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "constitution",
                  "label": [
                        {
                              "type": "text",
                              "content": "Constitution of the United States (1787)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question x217eddf09e5fa224 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "limited government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "separation of powers"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "humility"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "sense of community"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "freedom of religion"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "equity"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "justice"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "self-governance"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Civic virtues and civic principles",
      "footer": null,
      "columns": [
            {
                  "key": "pair",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "virtue",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civic virtues"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "principle",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civic principles"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pair"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 2a2a-and-2a2b", () => {
    // Source: Question x933a5ee3bda5bdd9 (2.A.2.a and 2.A.2.b)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Members can delay the policymaking process through the use of a filibuster"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Members can delay the policymaking process through the use of holds"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Responsible for proposing all tax bills"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Responsible for ratifying all treaties"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Constituents of an entire state elect members"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Constituents in a local district elect members"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Responsible for initiating all articles of impeachment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Responsible for scheduling bills for the floor of the House"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "House vs. Senate: Structural and Functional Comparison",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "house",
                  "label": [
                        {
                              "type": "text",
                              "content": "House of Representatives"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "senate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Senate"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 31ia-31ib", () => {
    // Source: Question x4f8607c9ef66a0ed (3.1.I.A + 3.1.I.B)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1739"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "46,954,623"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1748"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "78,293,313"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1755"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "74,571,849"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1762"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "146,682,844"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1775"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "135,943,051"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "British National Debt, 1739–1775 (pounds sterling)",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Sir John Sinclair, historian, The History of the Public Revenue of the British Empire, 1966"
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "debt",
                  "label": [
                        {
                              "type": "text",
                              "content": "National Debt"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 5c1-explain-how-the-different-processes-work-in-a-", () => {
    // Source: Question x348b25a20268377a (5.C.1 - Explain how the different processes work in a U.S. presidential election.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Open (or Semi-Open Primary)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>34.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Closed primary"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>25.6</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Mixed (one party primary/other caucus)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Caucus"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.7</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Average turnout rates by nomination contest type",
      "footer": null,
      "columns": [
            {
                  "key": "contest_type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Nomination contest type"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "avg_turnout",
                  "label": [
                        {
                              "type": "text",
                              "content": "Average turnout rate"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "contest_type"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc61iibii-the-industrial-workforce-expanded-and-be", () => {
    // Source: Question x27798cc85879f28e (KC-6.1.II.B.ii The industrial workforce expanded and became more diverse through internal and international migration. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1870"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "12,506,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21.6</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>14.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1880"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "17,392,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>15.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1890"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "23,318,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>17.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1900"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "29,073,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>18.1</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Labor force composition, 1870–1900",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "gainful_workers",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of gainful workers"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_foreign_born",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of paid workers who are foreign-born"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_women",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of paid workers who are women"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - mpa1b3-generational-and-lifecycle-effects-also-con", () => {
    // Source: Question x9b73b36ea9e4c3e9 (MPA-1.B.3: Generational and lifecycle effects also contribute to the political socialization that influences an individual’s political attitudes.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Liberal"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>23</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>16</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Moderate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>41</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Conservative"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>29</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>45</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Percent who identify with a political ideology",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: 2000 National Annenberg Election Study"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "ideology",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "age_18_29",
                  "label": [
                        {
                              "type": "text",
                              "content": "18-29"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "age_30_44",
                  "label": [
                        {
                              "type": "text",
                              "content": "30-44"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "age_45_64",
                  "label": [
                        {
                              "type": "text",
                              "content": "45-64"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "age_65_plus",
                  "label": [
                        {
                              "type": "text",
                              "content": "65+"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "ideology"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparison", () => {
    // Source: Question x034bb434f696a2cd (Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated a right to legal counsel in capital cases"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated the right to privacy to the states"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the state had to provide legal counsel for the poor or indigent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the right to privacy extended to a woman’s right to have an abortion"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that state laws were superior to national laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Limited the power of the state government to regulate abortion"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Sixth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Third Amendment"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of Court Cases",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "gideon",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gideon v. Wainwright (1963)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "roe",
                  "label": [
                        {
                              "type": "text",
                              "content": "Roe v. Wade (1973)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - increasing-numbers-of-americans-especially-women-a", () => {
    // Source: Question xa1d41c022dc6d0ae (Increasing numbers of Americans, especially women and men working in factories, no longer relied on semi-subsistence agriculture; instead they supported themselves producing goods for distant markets.)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1820
                  },
                  {
                        "type": "number",
                        "value": 6.2
                  },
                  {
                        "type": "number",
                        "value": 7.3
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1830
                  },
                  {
                        "type": "number",
                        "value": 6.4
                  },
                  {
                        "type": "number",
                        "value": 9.6
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1840
                  },
                  {
                        "type": "number",
                        "value": 8.4
                  },
                  {
                        "type": "number",
                        "value": 9.6
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1850
                  },
                  {
                        "type": "number",
                        "value": 10.1
                  },
                  {
                        "type": "number",
                        "value": 10.8
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Women's employment, 1820 to 1850",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: U.S. Census Bureau, Historical Statistics of the United States, Colonial Times to 1970, 1975."
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_women_paid",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of women in paid employment"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_total_paid",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of total paid workers"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ocean-acidification-and-shell-building", () => {
    // Source: Question x4c7d6144453898fe (Ocean acidification and shell building)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.50</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "-"
                              },
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.60</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 15
                  },
                  {
                        "type": "number",
                        "value": 14.6
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>2.74</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.50</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "-"
                              },
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.66</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 14.1
                  },
                  {
                        "type": "number",
                        "value": 13.9
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>1.44</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Control"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>8.20</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "-"
                              },
                              {
                                    "type": "math",
                                    "mathml": "<mn>8.40</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 16.1
                  },
                  {
                        "type": "number",
                        "value": 16.1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.00</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Oyster shell mass measurements by pH treatment",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [
                        {
                              "type": "text",
                              "content": "Group"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "treatment",
                  "label": [
                        {
                              "type": "text",
                              "content": "Treatment (saltwater pH range)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "start_mass",
                  "label": [
                        {
                              "type": "text",
                              "content": "Average starting mass (g)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "end_mass",
                  "label": [
                        {
                              "type": "text",
                              "content": "Average ending mass (g)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent (%) change in mass"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-1d1a-the-exclusive-and-concurrent-powers-of-the", () => {
    // Source: Question xe5a96dc29bc41503 (EK 1.D.1a - The exclusive and concurrent powers of the national and state governments help explain the negotiations over the balance of power between the two levels.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Make laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Conduct elections"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Regulate commerce"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Establish local governments"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Charter banks and corporations"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Regulate the postal system"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declare war"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Levy taxes"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": null,
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "exclusive",
                  "label": [
                        {
                              "type": "text",
                              "content": "Exclusive powers of the federal government"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "concurrent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Concurrent powers shared with the states"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-time-between-moon-phases", () => {
    // Source: Question x969bb3e923f4668f (Predict time between moon phases)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "full moon"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "February 6"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "third quarter"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "February 13"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "new moon"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "February 20"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "first quarter"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "February 27"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Moon phase observations for February",
      "footer": null,
      "columns": [
            {
                  "key": "phase",
                  "label": [
                        {
                              "type": "text",
                              "content": "Moon phase"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "date",
                  "label": [
                        {
                              "type": "text",
                              "content": "Date"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "phase"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1-really-understanding-phase-change-points", () => {
    // Source: Question xc590fc72368d74bc (Type 1: Really understanding phase change points!)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Metal A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>232</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Metal B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>328</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Melting points of two metals",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "melting_point",
                  "label": [
                        {
                              "type": "text",
                              "content": "Melting point"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ocean-acidification-and-shell-building", () => {
    // Source: Question x80abd8f331473935 (Ocean acidification and shell building)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "6.50-6.60"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>9.21</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7.00-7.10"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>5.93</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Control"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "8.20-8.40"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.00</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Experimental results",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [
                        {
                              "type": "text",
                              "content": "Group"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "treatment",
                  "label": [
                        {
                              "type": "text",
                              "content": "Treatment (saltwater pH range)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "percent_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent ("
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>%</mo>"
                        },
                        {
                              "type": "text",
                              "content": ") change in organic matter"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc61iiia-improvements-in-mechanization-helped-agri", () => {
    // Source: Question x929bc3ab40cc426b (KC-6.1.III.A Improvements in mechanization helped agricultural production increase substantially and contributed to declines in food prices.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1867"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "16,738"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "211"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2.01</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1869"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "21,194"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "288"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.92</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1871"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "22,230"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "272"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.25</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1873"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "24,866"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "322"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.17</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1875"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "28,382"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "314"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.01</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Wheat Production Data (Selected Years)",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "acreage_harvested",
                  "label": [
                        {
                              "type": "text",
                              "content": "Acreage harvested"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "production_millions_bushels",
                  "label": [
                        {
                              "type": "text",
                              "content": "Production (in millions of bushels)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "price_per_ton",
                  "label": [
                        {
                              "type": "text",
                              "content": "Price per ton"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc61iibii-the-industrial-workforce-expanded-and-be", () => {
    // Source: Question x580dba45a378784e (KC-6.1.II.B.ii The industrial workforce expanded and became more diverse through internal and international migration. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1870"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "12,506,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21.6</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>14.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1880"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "17,392,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>15.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1890"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "23,318,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>17.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1900"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "29,073,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>18.1</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Workforce data (1870–1900)",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "gainful_workers",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of gainful workers"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_foreign_born",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of paid workers who are foreign-born"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_women",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of paid workers who are women"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2", () => {
    // Source: Question x2c70a09d4c435195 (Type 2)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "is automatically considered a citizen of the United States"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "does not have a path to naturalization"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "attends public school according to state laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "cannot apply for a job requiring U.S. citizenship"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "moves to another country due to fear of persecution in their home country"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "moves to the United States for any number of reasons, including job opportunities"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "has all the rights granted under the Bill of Rights"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "is protected by U.S. law but is not protected under the Bill of Rights"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Refugee vs. lawful permanent resident",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "refugee",
                  "label": [
                        {
                              "type": "text",
                              "content": "Refugee"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "lpr",
                  "label": [
                        {
                              "type": "text",
                              "content": "Lawful permanent resident"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 13i", () => {
    // Source: Question x08ad632c23e39c03 (1.3.I.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Near East"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "15,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "11,500"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North China"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "11,600"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "9,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South China"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "12,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "8,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Sub-Saharan Africa"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "9,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "4,500"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Southcentral Andes"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,250"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Central Mexico"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,750"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Eastern United States"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "6,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,250"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Centers of domestication and dates (calendar years before present)",
      "footer": null,
      "columns": [
            {
                  "key": "region",
                  "label": [
                        {
                              "type": "text",
                              "content": "Centers of domestication"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "intensive_foraging",
                  "label": [
                        {
                              "type": "text",
                              "content": "Intensive foraging"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "agriculture",
                  "label": [
                        {
                              "type": "text",
                              "content": "Agriculture"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - environmental-effect-on-gene-expression-interpret-", () => {
    // Source: Question x400309799969fa0a (Environmental effect on gene expression: interpret experimental data)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Red light"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bright"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Blue light"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Pale"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Study results",
      "footer": null,
      "columns": [
            {
                  "key": "condition",
                  "label": [
                        {
                              "type": "text",
                              "content": "Condition"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "wing_color",
                  "label": [
                        {
                              "type": "text",
                              "content": "Wing color"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "condition"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - scotus", () => {
    // Source: Question xc138c7525aa2d492 (SCOTUS)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Political spending is a form of protected speech"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The right of privacy extends to a woman’s decision to have an abortion"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Congress may not use the Commerce Clause to make possession of a gun in a school zone a federal crime"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "School sponsorship of religious activities violates the Establishment Clause"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The U.S. government cannot block the publication of secret government documents"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Compelling Amish students to attend school past the eighth grade violates the Free Exercise Clause"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Speech creating a “clear and present danger” is not protected by the First Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Public school students have the right to wear black armbands to protest the Vietnam War"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Which of the following is an accurate comparison of the two court cases?",
      "footer": null,
      "columns": [
            {
                  "key": "letter",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "schenck",
                  "label": [
                        {
                              "type": "text",
                              "content": "Schenck v. United States (1919)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "tinker",
                  "label": [
                        {
                              "type": "text",
                              "content": "Tinker v. Des Moines (1969)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "letter"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - match-life-history-characteristics-to-rkselected-s", () => {
    // Source: Question x5b37b9eecdf0f6c9 (Match life history characteristics to r-/K-selected species)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "lifespan"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "long"
                                          }
                                    ],
                                    "identifier": "LONG"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "short"
                                          }
                                    ],
                                    "identifier": "SHORT"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "long"
                                          }
                                    ],
                                    "identifier": "LONG"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "short"
                                          }
                                    ],
                                    "identifier": "SHORT"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "number of offspring"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "few"
                                          }
                                    ],
                                    "identifier": "FEW"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "many"
                                          }
                                    ],
                                    "identifier": "MANY"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "few"
                                          }
                                    ],
                                    "identifier": "FEW"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "many"
                                          }
                                    ],
                                    "identifier": "MANY"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "most closely associated population growth model"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "logistic"
                                          }
                                    ],
                                    "identifier": "LOGISTIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "exponential"
                                          }
                                    ],
                                    "identifier": "EXPONENTIAL"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_5"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "logistic"
                                          }
                                    ],
                                    "identifier": "LOGISTIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "exponential"
                                          }
                                    ],
                                    "identifier": "EXPONENTIAL"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_6"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Life-history characteristics of K- and r-selected species",
      "footer": null,
      "columns": [
            {
                  "key": "characteristic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Characteristic"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "k_species",
                  "label": [
                        {
                              "type": "text",
                              "content": "K-selected species"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "r_species",
                  "label": [
                        {
                              "type": "text",
                              "content": "r-selected species"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "characteristic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1-intrinsic-vs-extrinsic", () => {
    // Source: Question x0624735c4818c131 (Type 1: Intrinsic vs. extrinsic)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Color"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Density"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_5"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Mass"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Melting point"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Properties of gold",
      "footer": null,
      "columns": [
            {
                  "key": "property",
                  "label": [
                        {
                              "type": "text",
                              "content": "Property"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "property"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - human-impacts-on-the-environment-a-land-use-case-s", () => {
    // Source: Question x66fe8f06259e0090 (Human impacts on the environment: a land use case study)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Habitat gain"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,203"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Habitat loss"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "17,409"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No change"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,247"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Total"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "19,859"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Change in habitat by 2050",
      "footer": null,
      "columns": [
            {
                  "key": "change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Change in habitat by 2050"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "count",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of species"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "change"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1", () => {
    // Source: Question x5681f4724dc7e98b (Type 1)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "transcription factor"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "protein that regulates gene expression"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "translation"
                                          }
                                    ],
                                    "identifier": "TRANSLATION"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "transcription"
                                          }
                                    ],
                                    "identifier": "TRANSCRIPTION"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_6"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "RNA polymerase"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "cell part that builds proteins"
                                          }
                                    ],
                                    "identifier": "CELL_PART_BUILDS_PROTEINS"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "enzyme that builds mRNA molecules"
                                          }
                                    ],
                                    "identifier": "ENZYME_BUILDS_MRNA"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_9"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "transcription"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "ribosome"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "cell part that builds proteins"
                                          }
                                    ],
                                    "identifier": "CELL_PART_BUILDS_PROTEINS"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "enzyme that builds mRNA molecules"
                                          }
                                    ],
                                    "identifier": "ENZYME_BUILDS_MRNA"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_10"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "translation"
                                          }
                                    ],
                                    "identifier": "TRANSLATION"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "transcription"
                                          }
                                    ],
                                    "identifier": "TRANSCRIPTION"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_8"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Gene expression components",
      "footer": null,
      "columns": [
            {
                  "key": "component",
                  "label": [
                        {
                              "type": "text",
                              "content": "Cellular component"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "definition",
                  "label": [
                        {
                              "type": "text",
                              "content": "Definition"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "stage",
                  "label": [
                        {
                              "type": "text",
                              "content": "Stage"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "component"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc62ia-as-cities-became-areas-of-economic-growth-f", () => {
    // Source: Question xeb6afa4f625c3260 (KC-6.2.I.A As cities became areas of economic growth featuring new factories and businesses, they attracted immigrants from Asia and from southern and eastern Europe, as well as African American migrants within and out of the South. Many migrants moved to escape poverty, religious persecution, and limited opportunities for social mobility in their home countries or regions. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York City"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,478,103"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,437,202"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>265</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Philadelphia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,293,687"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,350,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>4</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chicago"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "298,977"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,698,575"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>468</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Boston"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "250,525"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "560,892"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>124</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Los Angeles"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,728"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "102,479"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1689</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population change in cities, 1870-1900",
      "footer": null,
      "columns": [
            {
                  "key": "city",
                  "label": [
                        {
                              "type": "text",
                              "content": "City"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pop1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1870 population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1900 population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent change"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "city"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - rate", () => {
    // Source: Question x38706318a8b794a8 (Rate)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decrease the temperature"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Increase the concentration of the reactants"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Crush the reactant into a powder"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "How changes affect the reaction rate",
      "footer": null,
      "columns": [
            {
                  "key": "change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Change"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "effect",
                  "label": [
                        {
                              "type": "text",
                              "content": "Effect on rate"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "change"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - offspring-fraction", () => {
    // Source: Question x1fb28a820dfa1869 (Offspring fraction)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "BB"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "BB"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "b"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bb"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bb"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Punnett square",
      "footer": null,
      "columns": [
            {
                  "key": "row",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "col1",
                  "label": [
                        {
                              "type": "text",
                              "content": "B"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "col2",
                  "label": [
                        {
                              "type": "text",
                              "content": "B"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "row"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4", () => {
    // Source: Question x4b81dd5e6925ebec (Type 4)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 1
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 6
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 8
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 9
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Kinetic energy data",
      "footer": null,
      "columns": [
            {
                  "key": "speed",
                  "label": [
                        {
                              "type": "text",
                              "content": "speed (m/s)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "mass",
                  "label": [
                        {
                              "type": "text",
                              "content": "mass (kg)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "ke",
                  "label": [
                        {
                              "type": "text",
                              "content": "kinetic energy (J)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "speed"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi4f1-policy-trends-concerning-the-level-of-gover", () => {
    // Source: Question x63080814e527b873 (PMI-4.F.1: Policy trends concerning the level of government involvement in social issues reflect the success of conservative or liberal perspectives in political parties.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should conduct background checks for gun purchases"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should not restrict an individual’s access to a gun"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should regulate and restrict access to abortion procedures"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should respect a person’s right to privacy and not restrict access to abortion procedures"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should allow same-sex marriage"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should not make policy decisions on marriage"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should allow voluntary prayer in schools for all students"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should allow more state experimentation with school vouchers and charter schools"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of liberal and conservative views on social policy",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "liberal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Liberal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "conservative",
                  "label": [
                        {
                              "type": "text",
                              "content": "Conservative"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question xf8ba79eaf629824b (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "bureaucratic agencies"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "interest groups"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "religious organizations"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "federal courts"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "community volunteer groups"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "news media"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "school boards"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "state legislatures"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Civil society vs. government",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "civil_society",
                  "label": [
                        {
                              "type": "text",
                              "content": "civil society"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "government",
                  "label": [
                        {
                              "type": "text",
                              "content": "government"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - formal-and-informal", () => {
    // Source: Question xe7837eadbaefd7af (Formal and informal)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Setting the agenda for Congress"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Granting pardons"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declaring war"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Delivering the State of the Union address"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Vetoing legislation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Issuing executive orders"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Acting as Commander in Chief"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Appointing Supreme Court justices"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Formal vs. Informal Presidential Powers",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "formal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Formal powers"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "informal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Informal powers"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question xb498b505f9b80358 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "HLA-DPB1 mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of CBD"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of CBD"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of CBD"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "elevated risk of CBD"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype and phenotype under beryllium exposure",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pheno_no",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no beryllium exposure)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pheno_exp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (beryllium exposure)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question xb498b505f9b80358 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "HLA-DPB1 mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of CBD"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of CBD"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of CBD"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "elevated risk of CBD"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype and phenotype under beryllium exposure",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pheno_no",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no beryllium exposure)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pheno_exp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (beryllium exposure)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question xb498b505f9b80358 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "HLA-DPB1 mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of CBD"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of CBD"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of CBD"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of CBD"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype and phenotype under beryllium exposure",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pheno_no",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no beryllium exposure)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pheno_exp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (beryllium exposure)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1-properties-of-solids-liquids-gases", () => {
    // Source: Question xa5b3f6cf822cbe64 (Type 1: Properties of Solids, Liquids & Gases)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Shape"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "fixed shape"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "shape of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "fixed shape"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "shape of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_10"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "fixed shape"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "shape of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_11"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Volume"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "constant volume"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "volume of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "constant volume"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "volume of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_12"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "constant volume"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "volume of container"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_13"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Compressibility"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "compressible"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "not compressible"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_7"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "compressible"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "not compressible"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_14"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "compressible"
                                          }
                                    ],
                                    "identifier": "A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "not compressible"
                                          }
                                    ],
                                    "identifier": "B"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_15"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "States of Matter: Shape, Volume, and Compressibility",
      "footer": null,
      "columns": [
            {
                  "key": "property",
                  "label": [
                        {
                              "type": "text",
                              "content": "Property"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "solids",
                  "label": [
                        {
                              "type": "text",
                              "content": "Solids"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "liquids",
                  "label": [
                        {
                              "type": "text",
                              "content": "Liquids"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "gases",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gases"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "property"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-specific-heat-capacity-experimental", () => {
    // Source: Question x0ce193127e3b4a76 (Type 4: Specific heat capacity (experimental))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Nickel"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " g"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.5</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>18.7</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Silver"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " g"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.5</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>13.4</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Metal temperature measurements after cooling",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mass",
                  "label": [
                        {
                              "type": "text",
                              "content": "Mass"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "starting_temp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Starting temp"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "final_temp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Final temp"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2", () => {
    // Source: Question xf4dce94203a32418 (Type 2)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Can only live in areas approved by USCIS"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Can live and work anywhere in the United States where they can find work"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Entered the United States with proper documentation and approval"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Entered the United States without authorization or overstayed their visa"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Can go through the naturalization process after five years"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Can go through the naturalization process if they were brought to the United States as children"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Can vote in federal elections"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Cannot hold any position in the federal government"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Lawful permanent resident vs. undocumented immigrant comparisons",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "lpr",
                  "label": [
                        {
                              "type": "text",
                              "content": "Lawful permanent resident"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "undoc",
                  "label": [
                        {
                              "type": "text",
                              "content": "Undocumented immigrant"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 5b4a-in-comparison-to-proportional-systems-winnert", () => {
    // Source: Question x2079a39c694d370c (5.B.4.a - In comparison to proportional systems, winner-take-all voting districts serve as a structural barrier to third-party and independent candidate success.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "William J. Clinton"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Democratic"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "44,908,254"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>43</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "370"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>69</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "George H.W. Bush"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Republican"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "39,102,243"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>37</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "168"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ross Perot"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "19,743,821"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "1992 U.S. presidential election results",
      "footer": null,
      "columns": [
            {
                  "key": "candidate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party",
                  "label": [
                        {
                              "type": "text",
                              "content": "Party"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "popular_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Popular votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "popular_pct",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of the popular vote"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "electoral_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Electoral votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "electoral_pct",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of electoral votes"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "candidate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4", () => {
    // Source: Question x4a8633aa97f85d4e (Type 4)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 1
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 9
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 6
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 8
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Kinetic energy data",
      "footer": null,
      "columns": [
            {
                  "key": "mass",
                  "label": [
                        {
                              "type": "text",
                              "content": "mass (kg)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "speed",
                  "label": [
                        {
                              "type": "text",
                              "content": "speed (m/s)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "ke",
                  "label": [
                        {
                              "type": "text",
                              "content": "kinetic energy (J)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "mass"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - as-higher-education-opportunities-and-new-technolo", () => {
    // Source: Question x0df86a8b00c20d76 (As higher education opportunities and new technologies rapidly expanded, increasing social mobility encouraged the migration of the middle class to the suburbs and of many Americans to the South and West. The Sun Belt region emerged as a significant political and economic force.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Northeast"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "35,977,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "39,478,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "44,678,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "49,041,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North Central"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "40,143,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "44,461,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "51,619,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "56,572,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>41</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "41,666,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "47,197,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "54,973,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "62,795,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "West"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "14,379,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "20,190,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "28,053,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "34,804,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>142</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population by region, 1940–1970",
      "footer": null,
      "columns": [
            {
                  "key": "region",
                  "label": [
                        {
                              "type": "text",
                              "content": "Region"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "y1940",
                  "label": [
                        {
                              "type": "text",
                              "content": "1940"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1950",
                  "label": [
                        {
                              "type": "text",
                              "content": "1950"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1960",
                  "label": [
                        {
                              "type": "text",
                              "content": "1960"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1970",
                  "label": [
                        {
                              "type": "text",
                              "content": "1970"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent change"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-3-focus-on-attraction", () => {
    // Source: Question x72b4d973c69578a0 (Type 3: Focus on Attraction)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Substance Q"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "nonpolar"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Substance R"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "polar"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Substances and Intermolecular Attraction Types",
      "footer": null,
      "columns": [
            {
                  "key": "substance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Substance"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "substance"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-2d1a-tasks-performed-by-departments-agencies-co", () => {
    // Source: Question xec59861b4543d580 (EK 2.D.1.a - Tasks performed by departments, agencies, commissions, and government corporations are represented by: • Writing and enforcing regulations • Issuing fines • Testifying before Congress • Issue networks and “iron triangles” )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bachelor's"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>33.4</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Master's"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.8</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>15</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Professional or doctorate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Percentage of workers by highest level of education attained",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: The Heritage Foundation"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "degree",
                  "label": [
                        {
                              "type": "text",
                              "content": "Degree earned"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "private",
                  "label": [
                        {
                              "type": "text",
                              "content": "Private sector employees"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "federal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Federal employees"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "degree"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - wrecking-ball", () => {
    // Source: Question xea09e0ffaa29afcf (Wrecking ball)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the cable raises the ball"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "SAME"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the ball swings down after the cable is released"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "SAME"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the ball smashes into the wall"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "SAME"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Energy changes in the ball–Earth system",
      "footer": null,
      "columns": [
            {
                  "key": "event",
                  "label": [
                        {
                              "type": "text",
                              "content": "Event"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "energy",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total energy of ball–Earth system"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "event"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - data-showing-that-specialized-plant-structures-aid", () => {
    // Source: Question xd73034fea809926a (Data showing that specialized plant structures aid in pollination and reproductive success)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Number of visits from birds"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 24
                  },
                  {
                        "type": "number",
                        "value": 11
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Average number of seeds produced per plant"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 125
                  },
                  {
                        "type": "number",
                        "value": 80
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Study results",
      "footer": null,
      "columns": [
            {
                  "key": "metric",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "with_stalks",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plants with stalks"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "without_stalks",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plants without stalks"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metric"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparing-population-growth", () => {
    // Source: Question x9a75b8ded26fe71b (Comparing population growth)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "10 squirrels"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "80 squirrels"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "10 squirrels"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "60 squirrels"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "10 squirrels"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "20 squirrels"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Squirrel population sizes",
      "footer": null,
      "columns": [
            {
                  "key": "population",
                  "label": [
                        {
                              "type": "text",
                              "content": "Squirrel population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "month1",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population size (month 1)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "month12",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population size (month 12)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "population"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 5c3a-the-process-and-outcomes-in-us-congressional-", () => {
    // Source: Question x729b4c5a9bbd4f12 (5.C.3.a - The process and outcomes in U.S. Congressional elections are impacted by Incumbency advantage phenomenon,Open and closed primaries, Caucuses, General (presidential and mid-term) elections)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Only used for congressional elections"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Only used for presidential elections"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Party members choose nominees after hours of speeches and debates"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A meeting of delegates from one political party to select party candidates for public office"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Voters registered with another party or as independents can vote"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Registered independents can vote along with members of a political party"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Any person can participate in this election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Limited to registered members of a political party"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Open primary vs. Closed primary",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "open_primary",
                  "label": [
                        {
                              "type": "text",
                              "content": "Open primary"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "closed_primary",
                  "label": [
                        {
                              "type": "text",
                              "content": "Closed primary"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-conceptual-density-mass", () => {
    // Source: Question xe9802d3cc7370583 (Type 4: Conceptual density (mass))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aluminum"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.70</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lead"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>11.3</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Zinc"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.14</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Metal densities",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mi>g</mi><mo>/</mo><msup><mtext>cm</mtext><mn>3</mn></msup><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-using-physical-properties-to-separate-a-mix", () => {
    // Source: Question x8cd46df39579a0e9 (Type 4:  Using physical properties to separate a mixture)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "helium"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>269</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "no"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "hydrogen"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>253</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "yes"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Gas properties",
      "footer": null,
      "columns": [
            {
                  "key": "gas",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gas"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "boiling_point",
                  "label": [
                        {
                              "type": "text",
                              "content": "Boiling point"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "flammable",
                  "label": [
                        {
                              "type": "text",
                              "content": "Flammable?"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "gas"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4", () => {
    // Source: Question x8961314982703e31 (Type 4)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 10
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 10
                  },
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 5
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 10
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 20
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 10
                  },
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 45
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 10
                  },
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 80
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 15
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 30
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 20
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 40
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Kinetic energy data",
      "footer": null,
      "columns": [
            {
                  "key": "mass",
                  "label": [
                        {
                              "type": "text",
                              "content": "mass (kg)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "speed",
                  "label": [
                        {
                              "type": "text",
                              "content": "speed (m/s)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "ke",
                  "label": [
                        {
                              "type": "text",
                              "content": "kinetic energy (J)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "mass"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-conceptual-density-mass", () => {
    // Source: Question x7cbc027f004b8cbd (Type 4: Conceptual density (mass))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aluminum"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.70</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gold"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19.3</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Iron"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.86</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Densities of the metals",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mi>g</mi><mo>/</mo><msup><mi>cm</mi><mn>3</mn></msup><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - the-expansion-of-slavery-in-the-deep-south-and-adj", () => {
    // Source: Question xe436c63e9b379a85 (The expansion of slavery in the deep South and adjacent western lands and rising antislavery sentiment began to create distinctive regional attitudes toward the institution.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New England"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,763"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,339"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Middle states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "45,210"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "41,184"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Southern states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "648,651"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "847,281"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Number of enslaved Africans by region, 1790 and 1800",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: United States Census"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "region",
                  "label": [
                        {
                              "type": "text",
                              "content": "US region"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "enslaved_1790",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of enslaved Africans, 1790"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "enslaved_1800",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of enslaved Africans, 1800"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-specific-heat-capacity-experimental", () => {
    // Source: Question x21da9e968d02316b (Type 4: Specific heat capacity (experimental))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aluminum"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " g"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.0</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31.9</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Copper"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " g"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.0</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>45.2</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Temperature measurements",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mass",
                  "label": [
                        {
                              "type": "text",
                              "content": "Mass"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "starting_temp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Starting temp"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "final_temp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Final temp"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1-intrinsic-vs-extrinsic", () => {
    // Source: Question x882a5dd6b453a9ee (Type 1: Intrinsic vs. extrinsic)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Length"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Mass"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_5"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Magnetism"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Melting point"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "intrinsic"
                                          }
                                    ],
                                    "identifier": "INTRINSIC"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "extrinsic"
                                          }
                                    ],
                                    "identifier": "EXTRINSIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Properties of iron",
      "footer": null,
      "columns": [
            {
                  "key": "property",
                  "label": [
                        {
                              "type": "text",
                              "content": "Property"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "property"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - proximity-to-water-and-temperature", () => {
    // Source: Question x64cb9ab845300ead (Proximity to water and temperature)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Eureka"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Coastal"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40.8</mn><mo>°</mo><mi>N</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>12</mn><mi>m</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Redding"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Inland"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40.6</mn><mo>°</mo><mi>N</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>172</mn><mi>m</mi>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Geographic data",
      "footer": null,
      "columns": [
            {
                  "key": "city",
                  "label": [
                        {
                              "type": "text",
                              "content": "City"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "proximity_to_water",
                  "label": [
                        {
                              "type": "text",
                              "content": "Proximity to water"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "latitude",
                  "label": [
                        {
                              "type": "text",
                              "content": "Latitude"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "elevation",
                  "label": [
                        {
                              "type": "text",
                              "content": "Elevation"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "city"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ocean-acidification-and-shell-building", () => {
    // Source: Question x4b94378b64574827 (Ocean acidification and shell building)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.50</mn><mo>-</mo><mn>6.60</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 49.26
                  },
                  {
                        "type": "number",
                        "value": 48.66
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>1.23</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.50</mn><mo>-</mo><mn>7.66</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 49.62
                  },
                  {
                        "type": "number",
                        "value": 49.55
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>-</mo><mtext> </mtext><mn>0.14</mn><mo>%</mo></mrow>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Control"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>8.20</mn><mo>-</mo><mn>8.40</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 49.04
                  },
                  {
                        "type": "number",
                        "value": 49.04
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.00</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Pacific oyster shell diameter results by pH treatment",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [
                        {
                              "type": "text",
                              "content": "Group"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "treatment",
                  "label": [
                        {
                              "type": "text",
                              "content": "Treatment (saltwater pH range)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "avg_start_mm",
                  "label": [
                        {
                              "type": "text",
                              "content": "Average starting diameter (mm)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "avg_end_mm",
                  "label": [
                        {
                              "type": "text",
                              "content": "Average ending diameter (mm)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent ("
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>%</mo>"
                        },
                        {
                              "type": "text",
                              "content": ") change in diameter"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - wrecking-ball", () => {
    // Source: Question x95fc9722e3119a58 (Wrecking ball)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The ball swings down after the cable is released"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "STAYS_SAME"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_2"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "STAYS_SAME"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_5"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The ball smashes into the wall"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "STAYS_SAME"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_3"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increases"
                                          }
                                    ],
                                    "identifier": "INCREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decreases"
                                          }
                                    ],
                                    "identifier": "DECREASES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "stays the same"
                                          }
                                    ],
                                    "identifier": "STAYS_SAME"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_6"
                  }
            ]
      ],
      "type": "dataTable",
      "title": null,
      "footer": null,
      "columns": [
            {
                  "key": "event",
                  "label": [
                        {
                              "type": "text",
                              "content": "Event"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "ball_ke",
                  "label": [
                        {
                              "type": "text",
                              "content": "Kinetic energy of the ball"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "system_total_energy",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total energy of the ball–Earth system"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "event"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1-properties-of-solids-liquids-gases", () => {
    // Source: Question xfdc19c3c02243013 (Type 1: Properties of Solids, Liquids & Gases)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Solid"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Fixed shape"
                                          }
                                    ],
                                    "identifier": "FIXED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Shape of its container"
                                          }
                                    ],
                                    "identifier": "SHAPE_OF_CONTAINER"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Fixed"
                                          }
                                    ],
                                    "identifier": "FIXED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Not fixed"
                                          }
                                    ],
                                    "identifier": "NOT_FIXED"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Yes"
                                          }
                                    ],
                                    "identifier": "YES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "No"
                                          }
                                    ],
                                    "identifier": "NO"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Liquid"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Fixed shape"
                                          }
                                    ],
                                    "identifier": "FIXED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Shape of its container"
                                          }
                                    ],
                                    "identifier": "SHAPE_OF_CONTAINER"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Fixed"
                                          }
                                    ],
                                    "identifier": "FIXED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Not fixed"
                                          }
                                    ],
                                    "identifier": "NOT_FIXED"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_5"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Yes"
                                          }
                                    ],
                                    "identifier": "YES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "No"
                                          }
                                    ],
                                    "identifier": "NO"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_6"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gas"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Fixed shape"
                                          }
                                    ],
                                    "identifier": "FIXED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Shape of its container"
                                          }
                                    ],
                                    "identifier": "SHAPE_OF_CONTAINER"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_7"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Fixed"
                                          }
                                    ],
                                    "identifier": "FIXED"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Not fixed"
                                          }
                                    ],
                                    "identifier": "NOT_FIXED"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_8"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Yes"
                                          }
                                    ],
                                    "identifier": "YES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "No"
                                          }
                                    ],
                                    "identifier": "NO"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_9"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Properties of solids, liquids, and gases",
      "footer": null,
      "columns": [
            {
                  "key": "phase",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phase"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "shape",
                  "label": [
                        {
                              "type": "text",
                              "content": "Shape"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "volume",
                  "label": [
                        {
                              "type": "text",
                              "content": "Volume"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "compressible",
                  "label": [
                        {
                              "type": "text",
                              "content": "Compressible"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "phase"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question x1a4d5312504bf227 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "inalienable rights"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "responsibility"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "civil discourse"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "federalism"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "due process"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "equity"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "self-governance"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "separation of powers"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Civic virtues vs. civic principles",
      "footer": null,
      "columns": [
            {
                  "key": "pair",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "virtue",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civic virtues"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "principle",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civic principles"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pair"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-identifying-an-unknown", () => {
    // Source: Question x1400cfee8d6028f1 (Type 2: Identifying an unknown)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Copper"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 8.96
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gold"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 19.3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lead"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 11.3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Tin"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 7.31
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Metal densities",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mtext>g/</mtext><msup><mtext>cm</mtext><mn>3</mn></msup><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 3-type-and-amt-puzzle", () => {
    // Source: Question x590a84ff951903e4 (3: type and amt puzzle)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>N</mi><msub><mi>H</mi><mn>4</mn></msub><mi>Cl</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " grams"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>3.6</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>Mg</mi><mi>S</mi><msub><mi>O</mi><mn>4</mn></msub>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " grams"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>1.0</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>N</mi><msub><mi>H</mi><mn>4</mn></msub><mi>Cl</mi>"
                                          }
                                    ],
                                    "identifier": "NH4CL"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Mg</mi><mi>S</mi><msub><mi>O</mi><mn>4</mn></msub>"
                                          }
                                    ],
                                    "identifier": "MGSO4"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Ca</mi><msub><mi>Cl</mi><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "CACL2"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "RESP_REACT_C"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>2.5</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_2_5"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>3.0</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_3_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>8.0</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_8_0"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "RESP_AMT_C"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>0.5</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>N</mi><msub><mi>H</mi><mn>4</mn></msub><mi>Cl</mi>"
                                          }
                                    ],
                                    "identifier": "NH4CL"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Mg</mi><mi>S</mi><msub><mi>O</mi><mn>4</mn></msub>"
                                          }
                                    ],
                                    "identifier": "MGSO4"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Ca</mi><msub><mi>Cl</mi><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "CACL2"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "RESP_REACT_D"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>2.5</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_2_5"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>3.0</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_3_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>8.0</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_8_0"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "RESP_AMT_D"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>1.8</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "E"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>N</mi><msub><mi>H</mi><mn>4</mn></msub><mi>Cl</mi>"
                                          }
                                    ],
                                    "identifier": "NH4CL"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Mg</mi><mi>S</mi><msub><mi>O</mi><mn>4</mn></msub>"
                                          }
                                    ],
                                    "identifier": "MGSO4"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Ca</mi><msub><mi>Cl</mi><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "CACL2"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "RESP_REACT_E"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>2.5</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_2_5"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>3.0</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_3_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>8.0</mn>"
                                          },
                                          {
                                                "type": "text",
                                                "content": " grams"
                                          }
                                    ],
                                    "identifier": "AMT_8_0"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "RESP_AMT_E"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>3.2</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Experiment results: identify reactant and amount",
      "footer": null,
      "columns": [
            {
                  "key": "exp",
                  "label": [
                        {
                              "type": "text",
                              "content": "Experiment"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "reactant",
                  "label": [
                        {
                              "type": "text",
                              "content": "Reactant"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "amount",
                  "label": [
                        {
                              "type": "text",
                              "content": "Amount of reactant"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "temp_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Temperature change"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "exp"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question xfcd292cb24963388 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "ambition"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "liberty"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "contribution"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "sense of community"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "self-governance"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "rule of law"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "limited government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "justice"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Civic virtues and democratic principles",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "civic_virtues",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civic virtues"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "democratic_principles",
                  "label": [
                        {
                              "type": "text",
                              "content": "Democratic principles"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - proximity-to-water-and-temperature", () => {
    // Source: Question x1b03e58ddc86a453 (Proximity to water and temperature)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Fresno"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "36.7° N"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "94 m"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Inland"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Monterey"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "36.6° N"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "8 m"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Coastal"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Geographic data",
      "footer": null,
      "columns": [
            {
                  "key": "city",
                  "label": [
                        {
                              "type": "text",
                              "content": "City"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "latitude",
                  "label": [
                        {
                              "type": "text",
                              "content": "Latitude"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "elevation",
                  "label": [
                        {
                              "type": "text",
                              "content": "Elevation"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "distance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Distance from water"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "city"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 4-rate-factors", () => {
    // Source: Question xc5a545e56784985a (4: rate factors)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "22.0 °C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "22.0 °C"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "27.8 °C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "23.8 °C"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "33.2 °C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25.1 °C"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "36.8 °C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "26.2 °C"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "38.9 °C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "27.1 °C"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "40.1 °C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "27.8 °C"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Temperature over time",
      "footer": null,
      "columns": [
            {
                  "key": "time",
                  "label": [
                        {
                              "type": "text",
                              "content": "Time (min)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "test_a",
                  "label": [
                        {
                              "type": "text",
                              "content": "Test A"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "test_b",
                  "label": [
                        {
                              "type": "text",
                              "content": "Test B"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "time"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 3-type-and-amt-puzzle", () => {
    // Source: Question xd3db74a7542025c1 (3: type and amt puzzle)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>4.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " grams"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>1.6</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>K</mi><mi>O</mi><mi>H</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>3.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " grams"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>2.1</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>8.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " grams"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>-</mo><mn>3.2</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "NEG_3_2_C"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>+</mo><mn>2.0</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "POS_2_0_C"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>+</mo><mn>4.2</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "POS_4_2_C"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_13"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "NaC2H3O2"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>K</mi><mi>O</mi><mi>H</mi>"
                                          }
                                    ],
                                    "identifier": "KOH"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Ba</mi><msub><mrow><mo>(</mo><mi>O</mi><mi>H</mi><mo>)</mo></mrow><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "BaOH2"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_9"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " grams"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>-</mo><mn>3.2</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "NEG_3_2_C"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>+</mo><mn>2.0</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "POS_2_0_C"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>+</mo><mn>4.2</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "POS_4_2_C"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_12"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "E"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Na</mi><msub><mi>C</mi><mn>2</mn></msub><msub><mi>H</mi><mn>3</mn></msub><msub><mi>O</mi><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "NaC2H3O2"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>K</mi><mi>O</mi><mi>H</mi>"
                                          }
                                    ],
                                    "identifier": "KOH"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Ba</mi><msub><mrow><mo>(</mo><mi>O</mi><mi>H</mi><mo>)</mo></mrow><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "BaOH2"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_10"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " grams"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>-</mo><mn>3.2</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "NEG_3_2_C"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>+</mo><mn>2.0</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "POS_2_0_C"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mo>+</mo><mn>4.2</mn><mo>°</mo><mi>C</mi>"
                                          }
                                    ],
                                    "identifier": "POS_4_2_C"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_11"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Experiment results",
      "footer": null,
      "columns": [
            {
                  "key": "experiment",
                  "label": [
                        {
                              "type": "text",
                              "content": "Experiment"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "reactant",
                  "label": [
                        {
                              "type": "text",
                              "content": "Reactant"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "amount",
                  "label": [
                        {
                              "type": "text",
                              "content": "Amount of reactant"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "temp_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Temperature change"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "experiment"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc62ie-corporations-need-for-managers-and-for-male", () => {
    // Source: Question xae71aa598f2e3ab8 (KC-6.2.I.E Corporations’ need for managers and for male and female clerical workers as well as increased access to educational institutions, fostered the growth of a distinctive middle class. A growing amount of leisure time also helped expand consumer culture. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Male"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,993"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "10,411"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "12,857"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "22,173"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Female"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,378"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2,485"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2,682"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,237"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Bachelor's degree recipients, 1869-1900",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Department of Education, 1993"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "gender",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gender"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "y1869_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1869-1870"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1879_1880",
                  "label": [
                        {
                              "type": "text",
                              "content": "1879-1880"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1889_1890",
                  "label": [
                        {
                              "type": "text",
                              "content": "1889-1890"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1899_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1899-1900"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "gender"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 2-p-vs-r", () => {
    // Source: Question xa944c228f2833184 (2: P vs R)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System X"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "75 J"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System Y"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25 J"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System Z"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "100 J"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Chemical systems and stored energy",
      "footer": null,
      "columns": [
            {
                  "key": "system",
                  "label": [
                        {
                              "type": "text",
                              "content": "Chemical system"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "energy",
                  "label": [
                        {
                              "type": "text",
                              "content": "Stored energy"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "system"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - relatedness-based-on-morphology", () => {
    // Source: Question x3d5f3bfff9994183 (Relatedness based on morphology)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "bonobo"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chinese alligator"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "house finch"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "skipjack tuna"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Traits by species",
      "footer": null,
      "columns": [
            {
                  "key": "species",
                  "label": [
                        {
                              "type": "text",
                              "content": "Species"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "amniotic_egg",
                  "label": [
                        {
                              "type": "text",
                              "content": "Amniotic egg"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "feathers",
                  "label": [
                        {
                              "type": "text",
                              "content": "Feathers"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "four_limbs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Four limbs"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "gizzard",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gizzard"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mammary_gland",
                  "label": [
                        {
                              "type": "text",
                              "content": "Mammary gland"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "vertebrae",
                  "label": [
                        {
                              "type": "text",
                              "content": "Vertebrae"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "species"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-3-focus-on-attraction", () => {
    // Source: Question x0989decfeb3f9a8a (Type 3: Focus on Attraction)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Substance A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "polar"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Substance B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "nonpolar"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Substances and types",
      "footer": null,
      "columns": [
            {
                  "key": "substance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Substance"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "substance"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-conceptual-density-mass", () => {
    // Source: Question xcf807d05f87b09a7 (Type 4: Conceptual density (mass))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Copper"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 8.96
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Silver"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 10.5
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Zinc"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 7.14
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Metal densities",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mi>g</mi><mo>/</mo><mi>c</mi><msup><mi>m</mi><mn>3</mn></msup><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - -large-numbers-of-international-migrants-moved-to-", () => {
    // Source: Question xd88e6ac7e852c839 ( Large numbers of international migrants moved to industrializing northern cities, while many Americans moved west of the Appalachians, developing thriving new communities along the Ohio and Mississippi rivers.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1820"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "8,385"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1824"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,912"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1828"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "27,382"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1832"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "60,482"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1836"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "76,242"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1840"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "84,066"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1844"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "78,615"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1848"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "226,527"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Number of immigrants by year, 1820–1848",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "num_immigrants",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of immigrants"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-conceptual-density-volume", () => {
    // Source: Question x91045870499a2520 (Type 4: Conceptual density (volume))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aluminum"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2.70"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gold"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "19.3"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Iron"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7.86"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Densities of selected metals",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mi>g</mi><mo>/</mo><msup><mi>cm</mi><mn>3</mn></msup><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question x746cece2e3a51809 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "F5 mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of clots"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of clots"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of clots"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "elevated risk of clots"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype–phenotype summary",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_no_steroids",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no steroids administered)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_steroids",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (steroids administered)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question x746cece2e3a51809 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "F5 mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of clots"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of clots"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of clots"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "elevated risk of clots"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype–phenotype summary",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_no_steroids",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no steroids administered)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_steroids",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (steroids administered)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-phenotype-given-genotype-and-environment", () => {
    // Source: Question x746cece2e3a51809 (Predict phenotype given genotype and environment)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "F5 mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of clots"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of clots"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No mutation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "typical risk of clots"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "highly elevated risk of clots"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Genotype–phenotype summary",
      "footer": null,
      "columns": [
            {
                  "key": "genotype",
                  "label": [
                        {
                              "type": "text",
                              "content": "Genotype"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_no_steroids",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (no steroids administered)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "phenotype_steroids",
                  "label": [
                        {
                              "type": "text",
                              "content": "Phenotype (steroids administered)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "genotype"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - plate-boundaries-and-density", () => {
    // Source: Question x80fe4ea6ca06d443 (Plate boundaries and density)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3.15
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2.75
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Plate density data",
      "footer": null,
      "columns": [
            {
                  "key": "plate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mfrac><mi>g</mi><msup><mi>cm</mi><mn>3</mn></msup></mfrac><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "plate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - proximity-to-water-and-temperature", () => {
    // Source: Question xcaba997c2c898042 (Proximity to water and temperature)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bakersfield"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Inland"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.4</mn><mo>°</mo><mtext>N</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>123</mn><mtext> m</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "San Diego"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Coastal"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>32.7</mn><mo>°</mo><mtext>N</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19</mn><mtext> m</mtext>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Geographic data for Bakersfield and San Diego",
      "footer": null,
      "columns": [
            {
                  "key": "city",
                  "label": [
                        {
                              "type": "text",
                              "content": "City"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "distance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Distance from water"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "latitude",
                  "label": [
                        {
                              "type": "text",
                              "content": "Latitude"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "elevation",
                  "label": [
                        {
                              "type": "text",
                              "content": "Elevation"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "city"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - environmental-effect-on-gene-expression-interpret-", () => {
    // Source: Question x3b17ddefa54fa73b (Environmental effect on gene expression: interpret experimental data)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Normal soil salinity"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Normal"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "High soil salinity"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "High"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Study results",
      "footer": null,
      "columns": [
            {
                  "key": "condition",
                  "label": [
                        {
                              "type": "text",
                              "content": "Condition"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "hcn_production",
                  "label": [
                        {
                              "type": "text",
                              "content": "Hydrogen cyanide production"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "condition"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - attract-and-repel", () => {
    // Source: Question x2e847f90bb176a2b (Attract and repel)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two charged objects, one with positive charge and the other with negative charge"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two charged objects, both with negative charge"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two magnets, with the north pole of one facing the south pole of the other"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_4"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Two magnets, with their north poles facing each other"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "attract"
                                          }
                                    ],
                                    "identifier": "ATTRACT"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "repel"
                                          }
                                    ],
                                    "identifier": "REPEL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Complete the table for each pair of objects.",
      "footer": null,
      "columns": [
            {
                  "key": "description",
                  "label": [
                        {
                              "type": "text",
                              "content": "Description of objects"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "attract_or_repel",
                  "label": [
                        {
                              "type": "text",
                              "content": "Will the objects attract or repel each other?"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "description"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - -in-the-south-although-the-majority-of-southerners", () => {
    // Source: Question x2ced9aa1150bfa46 ( In the South, although the majority of Southerners owned no slaves, most leaders argued that slavery was part of the Southern way of life.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 586756
                  },
                  {
                        "type": "number",
                        "value": 3.5
                  },
                  {
                        "type": "number",
                        "value": 1372812
                  },
                  {
                        "type": "number",
                        "value": 0.7
                  },
                  {
                        "type": "number",
                        "value": 2428921
                  },
                  {
                        "type": "number",
                        "value": 0
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Pennsylvania"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 602365
                  },
                  {
                        "type": "number",
                        "value": 0.3
                  },
                  {
                        "type": "number",
                        "value": 1549458
                  },
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "number",
                        "value": 1724033
                  },
                  {
                        "type": "number",
                        "value": 0
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Massachusetts"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 422245
                  },
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "number",
                        "value": 523287
                  },
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "number",
                        "value": 737699
                  },
                  {
                        "type": "number",
                        "value": 0
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New Jersey"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 211949
                  },
                  {
                        "type": "number",
                        "value": 5.9
                  },
                  {
                        "type": "number",
                        "value": 277575
                  },
                  {
                        "type": "number",
                        "value": 2.7
                  },
                  {
                        "type": "number",
                        "value": 373306
                  },
                  {
                        "type": "number",
                        "value": 0.2
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Virginia"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 880200
                  },
                  {
                        "type": "number",
                        "value": 39.3
                  },
                  {
                        "type": "number",
                        "value": 1065379
                  },
                  {
                        "type": "number",
                        "value": 39.9
                  },
                  {
                        "type": "number",
                        "value": 1239797
                  },
                  {
                        "type": "number",
                        "value": 36.2
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North Carolina"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 478103
                  },
                  {
                        "type": "number",
                        "value": 27.9
                  },
                  {
                        "type": "number",
                        "value": 638829
                  },
                  {
                        "type": "number",
                        "value": 32.1
                  },
                  {
                        "type": "number",
                        "value": 753419
                  },
                  {
                        "type": "number",
                        "value": 32.7
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South Carolina"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 345501
                  },
                  {
                        "type": "number",
                        "value": 42.3
                  },
                  {
                        "type": "number",
                        "value": 490309
                  },
                  {
                        "type": "number",
                        "value": 51.4
                  },
                  {
                        "type": "number",
                        "value": 594398
                  },
                  {
                        "type": "number",
                        "value": 55
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Georgia"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 162101
                  },
                  {
                        "type": "number",
                        "value": 36.7
                  },
                  {
                        "type": "number",
                        "value": 340987
                  },
                  {
                        "type": "number",
                        "value": 43.9
                  },
                  {
                        "type": "number",
                        "value": 691392
                  },
                  {
                        "type": "number",
                        "value": 40.6
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Source: US Census",
      "footer": null,
      "columns": [
            {
                  "key": "state",
                  "label": [
                        {
                              "type": "text",
                              "content": "State"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pop_1800",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1800"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1800",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop_1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1820"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop_1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1840"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "state"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - mpa1b3-generational-and-lifecycle-effects-also-con", () => {
    // Source: Question x75119c7535e75412 (MPA-1.B.3: Generational and lifecycle effects also contribute to the political socialization that influences an individual’s political attitudes.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Liberal"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>23</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>16</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Moderate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>41</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Conservative"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>29</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>45</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Percent who identify with a political ideology",
      "footer": null,
      "columns": [
            {
                  "key": "ideology",
                  "label": [
                        {
                              "type": "text",
                              "content": "Ideology"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "age_18_29",
                  "label": [
                        {
                              "type": "text",
                              "content": "18-29"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "age_30_44",
                  "label": [
                        {
                              "type": "text",
                              "content": "30-44"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "age_45_64",
                  "label": [
                        {
                              "type": "text",
                              "content": "45-64"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "age_65_plus",
                  "label": [
                        {
                              "type": "text",
                              "content": "65+"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "ideology"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - other-abiotic-factors-in-marine-and-freshwater-eco", () => {
    // Source: Question xdd09c4d0914e4c31 (Other abiotic factors in marine and freshwater ecosystems)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1.7</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.7</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5.2</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 10
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.5</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 14
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.0</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 13
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.6</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 14
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>8.6</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 15
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>9.1</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 18
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>10.1</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 22
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>10.2</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 25
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Dissolved oxygen and macroinvertebrate species richness",
      "footer": null,
      "columns": [
            {
                  "key": "do",
                  "label": [
                        {
                              "type": "text",
                              "content": "Dissolved oxygen (mg/L)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "species",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of macroinvertebrate species"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "do"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1", () => {
    // Source: Question x27a4ed72fd97706a (Type 1)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gene 1"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "transcription factor 1"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gene 2"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "transcription factors 2 and 3"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gene 3"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "transcription factors 4 and 5"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Positive transcription factors required for gene expression",
      "footer": null,
      "columns": [
            {
                  "key": "gene",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gene"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "required_factors",
                  "label": [
                        {
                              "type": "text",
                              "content": "Required positive transcription factors"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "gene"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - photosynthesis-experimenttag", () => {
    // Source: Question x1fcfc168b3341604 (Photosynthesis experiment/tag)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 1"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 175
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 2"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "number",
                        "value": 192
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 3"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 210
                  }
            ]
      ],
      "type": "dataTable",
      "title": " ",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "off",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of bubbles (light off)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "on",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of bubbles (light on)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - photosynthesis-experimenttag", () => {
    // Source: Question x1fcfc168b3341604 (Photosynthesis experiment/tag)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 1"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 175
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 2"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 192
                  },
                  {
                        "type": "number",
                        "value": 5
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 3"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 210
                  },
                  {
                        "type": "number",
                        "value": 3
                  }
            ]
      ],
      "type": "dataTable",
      "title": " ",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "off",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of bubbles (light off)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "on",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of bubbles (light on)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - photosynthesis-experimenttag", () => {
    // Source: Question x1fcfc168b3341604 (Photosynthesis experiment/tag)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 1"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 182
                  },
                  {
                        "type": "number",
                        "value": 175
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 2"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 193
                  },
                  {
                        "type": "number",
                        "value": 192
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Group 3"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 215
                  },
                  {
                        "type": "number",
                        "value": 210
                  }
            ]
      ],
      "type": "dataTable",
      "title": " ",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "off",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of bubbles (light off)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "on",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of bubbles (light on)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparing-population-growth", () => {
    // Source: Question x8f4979b9319c7906 (Comparing population growth)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25 beetles"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "325 beetles"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25 beetles"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "285 beetles"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25 beetles"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "175 beetles"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Beetle population sizes at months 1 and 12",
      "footer": null,
      "columns": [
            {
                  "key": "population",
                  "label": [
                        {
                              "type": "text",
                              "content": "Beetle population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "month1",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population size (month 1)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "month12",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population size (month 12)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "population"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - choose-advantageous-trait", () => {
    // Source: Question xbab683e5f4a07983 (Choose advantageous trait)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Light brown wings"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>90</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>15</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Medium brown wings"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Dark brown wings"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>80</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Beetle wing color percentages before and after an environmental change",
      "footer": null,
      "columns": [
            {
                  "key": "trait",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "before",
                  "label": [
                        {
                              "type": "text",
                              "content": "Before environmental change"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "after",
                  "label": [
                        {
                              "type": "text",
                              "content": "After environmental change"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "trait"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - analyze-data-about-parental-care", () => {
    // Source: Question xfbcf0c5dc4d7d40c (Analyze data about parental care)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Parent present"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 9
                  },
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 0
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Parent removed"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 9
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Study results",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "survived",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that survived"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "fungus",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that were killed by fungus"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "ants",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that were killed by ants"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - analyze-data-about-parental-care", () => {
    // Source: Question xab1e447fbc5d4371 (Analyze data about parental care)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Parent present"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 9
                  },
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 0
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Parent removed"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 9
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Study results",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "survived",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that survived"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "fungus",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that were killed by fungus"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "ants",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of clutches that were killed by ants"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi4b1-because-the-us-is-a-democracy-with-a-divers", () => {
    // Source: Question x1dabdcad27b20a2a (PMI-4.B.1: Because the U.S. is a democracy with a diverse society, public policies generated at any given time reflect the attitudes and beliefs of citizens who choose to participate in politics at that time.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Politicians should be honest about their actions."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The most important issue of the twenty-first century is climate change."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Every person should have the right to work and provide for their family."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The government should address corruption within itself."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The military should defend the United States from threats."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The government should not provide food stamps for low-income families."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The government should increase spending on public education."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Every person should have the right to a good education."
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Position vs. Valence Issues",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "position_issue",
                  "label": [
                        {
                              "type": "text",
                              "content": "Position issue"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "valence_issue",
                  "label": [
                        {
                              "type": "text",
                              "content": "Valence issue"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - human-impacts-on-the-environment-a-land-use-case-s", () => {
    // Source: Question xcc44c51e8d0d90c0 (Human impacts on the environment: a land use case study)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1975
                  },
                  {
                        "type": "number",
                        "value": 28.4
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2020
                  },
                  {
                        "type": "number",
                        "value": 43.2
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Global meat consumption per person for selected years",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "consumption",
                  "label": [
                        {
                              "type": "text",
                              "content": "Global meat consumption per person (kg)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-3-focus-on-attraction", () => {
    // Source: Question x29e37bceb5912c7f (Type 3: Focus on Attraction)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Substance X"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "polar"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Substance Z"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "nonpolar"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Substances and their types of intermolecular attraction",
      "footer": null,
      "columns": [
            {
                  "key": "substance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Substance"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "substance"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - match-life-history-characteristics-to-rkselected-s", () => {
    // Source: Question x9c2bcbb016f7c687 (Match life history characteristics to r-/K-selected species)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "number of offspring"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "few"
                                          }
                                    ],
                                    "identifier": "FEW"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "many"
                                          }
                                    ],
                                    "identifier": "MANY"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "few"
                                          }
                                    ],
                                    "identifier": "FEW"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "many"
                                          }
                                    ],
                                    "identifier": "MANY"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "level of parental care"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "high"
                                          }
                                    ],
                                    "identifier": "HIGH"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "low"
                                          }
                                    ],
                                    "identifier": "LOW"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "high"
                                          }
                                    ],
                                    "identifier": "HIGH"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "low"
                                          }
                                    ],
                                    "identifier": "LOW"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "most closely associated population growth model"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "exponential"
                                          }
                                    ],
                                    "identifier": "EXPONENTIAL"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "logistic"
                                          }
                                    ],
                                    "identifier": "LOGISTIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_5"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "exponential"
                                          }
                                    ],
                                    "identifier": "EXPONENTIAL"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "logistic"
                                          }
                                    ],
                                    "identifier": "LOGISTIC"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_6"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Life-history characteristics",
      "footer": null,
      "columns": [
            {
                  "key": "characteristic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Characteristic"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "k_selected_species",
                  "label": [
                        {
                              "type": "text",
                              "content": "K-selected species"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "r_selected_species",
                  "label": [
                        {
                              "type": "text",
                              "content": "r-selected species"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "characteristic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - plate-boundaries-and-density", () => {
    // Source: Question x619bc8e16b29c576 (Plate boundaries and density)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.70</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>3.05</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Plate densities at a convergent boundary",
      "footer": null,
      "columns": [
            {
                  "key": "plate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Plate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mtext>g/</mtext><msup><mtext>cm</mtext><mn>3</mn></msup><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "plate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2", () => {
    // Source: Question x5553af5b5562ba1b (Type 2)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "mass"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "yes"
                                          }
                                    ],
                                    "identifier": "YES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "no"
                                          }
                                    ],
                                    "identifier": "NO"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_8"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "volume"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "yes"
                                          }
                                    ],
                                    "identifier": "YES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "no"
                                          }
                                    ],
                                    "identifier": "NO"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_10"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "height"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "yes"
                                          }
                                    ],
                                    "identifier": "YES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "no"
                                          }
                                    ],
                                    "identifier": "NO"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_11"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "speed"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "yes"
                                          }
                                    ],
                                    "identifier": "YES"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "no"
                                          }
                                    ],
                                    "identifier": "NO"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_12"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Quantities that determine kinetic energy",
      "footer": null,
      "columns": [
            {
                  "key": "quantity",
                  "label": [
                        {
                              "type": "text",
                              "content": "Quantity"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "determines_ke",
                  "label": [
                        {
                              "type": "text",
                              "content": "Determines kinetic energy?"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "quantity"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - choose-advantageous-trait", () => {
    // Source: Question x729e3a116d62bfdc (Choose advantageous trait)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Large body size"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>15</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>90</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Medium body size"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Small body size"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>80</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Fish body size percentages before and after the environmental change",
      "footer": null,
      "columns": [
            {
                  "key": "category",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "before",
                  "label": [
                        {
                              "type": "text",
                              "content": "Before environmental change"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "after",
                  "label": [
                        {
                              "type": "text",
                              "content": "After environmental change"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "category"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 3-type-and-amt-puzzle", () => {
    // Source: Question x61fa853b6ee0b42f (3: type and amt puzzle)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>Ca</mi><msub><mi>Cl</mi><mn>2</mn></msub>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>1.6</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mi>N</mi><msub><mi>H</mi><mn>4</mn></msub><mi>N</mi><msub><mi>O</mi><mn>3</mn></msub>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 6
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>4.8</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Ca</mi><msub><mi>Cl</mi><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "CACL2"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>N</mi><msub><mi>H</mi><mn>4</mn></msub><mi>N</mi><msub><mi>O</mi><mn>3</mn></msub>"
                                          }
                                    ],
                                    "identifier": "NH4NO3"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>K</mi><mi>Cl</mi>"
                                          }
                                    ],
                                    "identifier": "KCL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_11"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>3.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_3_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>6.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_6_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>8.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_8_0"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_12"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>3.5</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Ca</mi><msub><mi>Cl</mi><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "CACL2"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>N</mi><msub><mi>H</mi><mn>4</mn></msub><mi>N</mi><msub><mi>O</mi><mn>3</mn></msub>"
                                          }
                                    ],
                                    "identifier": "NH4NO3"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>K</mi><mi>Cl</mi>"
                                          }
                                    ],
                                    "identifier": "KCL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_9"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>3.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_3_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>6.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_6_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>8.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_8_0"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_10"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>3.2</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "E"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>Ca</mi><msub><mi>Cl</mi><mn>2</mn></msub>"
                                          }
                                    ],
                                    "identifier": "CACL2"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>N</mi><msub><mi>H</mi><mn>4</mn></msub><mi>N</mi><msub><mi>O</mi><mn>3</mn></msub>"
                                          }
                                    ],
                                    "identifier": "NH4NO3"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mi>K</mi><mi>Cl</mi>"
                                          }
                                    ],
                                    "identifier": "KCL"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_7"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>3.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_3_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>6.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_6_0"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "math",
                                                "mathml": "<mn>8.0</mn>"
                                          }
                                    ],
                                    "identifier": "AMT_8_0"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_8"
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>2.4</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Experiment data",
      "footer": null,
      "columns": [
            {
                  "key": "experiment",
                  "label": [
                        {
                              "type": "text",
                              "content": "Experiment"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "reactant",
                  "label": [
                        {
                              "type": "text",
                              "content": "Reactant"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "amount",
                  "label": [
                        {
                              "type": "text",
                              "content": "Amount of reactant (grams)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "tempChange",
                  "label": [
                        {
                              "type": "text",
                              "content": "Temperature change"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "experiment"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 4-rate-factors", () => {
    // Source: Question x2aabc54a577e0fe0 (4: rate factors)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.0</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.0</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>27.8</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>23.2</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>32.4</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>24.8</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.6</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>26.1</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>37.2</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>27.0</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>37.8</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>27.5</mn><mo>°</mo><mtext>C</mtext>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Temperature over time for Test A and Test B",
      "footer": null,
      "columns": [
            {
                  "key": "time",
                  "label": [
                        {
                              "type": "text",
                              "content": "Time (min)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "test_a",
                  "label": [
                        {
                              "type": "text",
                              "content": "Test A"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "test_b",
                  "label": [
                        {
                              "type": "text",
                              "content": "Test B"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "time"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 4-rate-factors", () => {
    // Source: Question x8e5b5a4cb4d39d01 (4: rate factors)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 0
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.0</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>15.0</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>27.1</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>16.8</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>32.8</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19.1</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.1</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21.6</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.7</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>24.2</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.3</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>26.9</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Temperature over time for two tests",
      "footer": null,
      "columns": [
            {
                  "key": "time",
                  "label": [
                        {
                              "type": "text",
                              "content": "Time (min)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "testA",
                  "label": [
                        {
                              "type": "text",
                              "content": "Test A"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "testB",
                  "label": [
                        {
                              "type": "text",
                              "content": "Test B"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "time"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - human-impacts-on-the-environment-a-land-use-case-s", () => {
    // Source: Question xe3cd6c403bec7f97 (Human impacts on the environment: a land use case study)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "beef"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 163.6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "chicken"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 7.1
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "lamb"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 184.8
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "pork"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 10.7
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Land use per 100 grams of protein",
      "footer": null,
      "columns": [
            {
                  "key": "meat",
                  "label": [
                        {
                              "type": "text",
                              "content": "Meat"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "land_use",
                  "label": [
                        {
                              "type": "text",
                              "content": "Land use per "
                        },
                        {
                              "type": "math",
                              "mathml": "<mn>100</mn>"
                        },
                        {
                              "type": "text",
                              "content": " grams of protein ("
                        },
                        {
                              "type": "math",
                              "mathml": "<msup><mi>m</mi><mn>2</mn></msup>"
                        },
                        {
                              "type": "text",
                              "content": ")"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "meat"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - other-abiotic-factors-in-marine-and-freshwater-eco", () => {
    // Source: Question x561bf332048a8176 (Other abiotic factors in marine and freshwater ecosystems)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 6.6
                  },
                  {
                        "type": "number",
                        "value": 47
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 6
                  },
                  {
                        "type": "number",
                        "value": 43
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5.7
                  },
                  {
                        "type": "number",
                        "value": 40
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5.3
                  },
                  {
                        "type": "number",
                        "value": 37
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "number",
                        "value": 35
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4.8
                  },
                  {
                        "type": "number",
                        "value": 33
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4.5
                  },
                  {
                        "type": "number",
                        "value": 31
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 27
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3.7
                  },
                  {
                        "type": "number",
                        "value": 25
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3.5
                  },
                  {
                        "type": "number",
                        "value": 24
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Lake pH and number of diatom species",
      "footer": null,
      "columns": [
            {
                  "key": "ph",
                  "label": [
                        {
                              "type": "text",
                              "content": "Lake pH"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "species",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of diatom species"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "ph"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-we-all-float-down-here", () => {
    // Source: Question xfc8bd01e8a784704 (Type 4: We All Float Down Here)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Dibromomethane"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2.5
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Acrylic plastic"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 1.2
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Iron"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 7.9
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Magnesium"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 1.7
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Densities of substances",
      "footer": null,
      "columns": [
            {
                  "key": "substance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Substance"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mtext>g/</mtext><msup><mtext>cm</mtext><mn>3</mn></msup><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "substance"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - claims", () => {
    // Source: Question x957989ebda78ccca (Claims)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "a whirring sound is heard as the zipliner moves"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "CLAIM_A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "CLAIM_B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the zipliner speeds up as he moves along the cable"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "CLAIM_A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "CLAIM_B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_3"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "the cable and pulleys get warmer"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student A's"
                                          }
                                    ],
                                    "identifier": "CLAIM_A"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "Student B's"
                                          }
                                    ],
                                    "identifier": "CLAIM_B"
                              }
                        ],
                        "shuffle": true,
                        "responseIdentifier": "dropdown_4"
                  }
            ]
      ],
      "type": "dataTable",
      "title": null,
      "footer": null,
      "columns": [
            {
                  "key": "observation",
                  "label": [
                        {
                              "type": "text",
                              "content": "Observation"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "claim_supported",
                  "label": [
                        {
                              "type": "text",
                              "content": "Claim supported"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "observation"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - other-abiotic-factors-in-marine-and-freshwater-eco", () => {
    // Source: Question x6922b06dd02f06cb (Other abiotic factors in marine and freshwater ecosystems)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 3.2
                  },
                  {
                        "type": "number",
                        "value": 9
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 7
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "number",
                        "value": 5
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 6.4
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 6.8
                  },
                  {
                        "type": "number",
                        "value": 3
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 7.1
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 8.5
                  },
                  {
                        "type": "number",
                        "value": 1
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 9
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 10.5
                  },
                  {
                        "type": "number",
                        "value": 1
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 12.3
                  },
                  {
                        "type": "number",
                        "value": 1
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Water velocity and macroinvertebrate species counts",
      "footer": null,
      "columns": [
            {
                  "key": "velocity",
                  "label": [
                        {
                              "type": "text",
                              "content": "Water velocity (cm/s)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "species",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of macroinvertebrate species"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "velocity"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-1-really-understanding-phase-change-points", () => {
    // Source: Question x012b230dcc30b75b (Type 1: Really understanding phase change points!)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Substance A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1790</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Substance B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1106</mn><mo>°</mo><mi>C</mi>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Boiling points of two substances",
      "footer": null,
      "columns": [
            {
                  "key": "substance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Substance"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "boiling_point",
                  "label": [
                        {
                              "type": "text",
                              "content": "Boiling point"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "substance"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi4b1-because-the-us-is-a-democracy-with-a-divers", () => {
    // Source: Question xd298391a0489bdfe (PMI-4.B.1: Because the U.S. is a democracy with a diverse society, public policies generated at any given time reflect the attitudes and beliefs of citizens who choose to participate in politics at that time.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Strengthening the nation’s economy"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>87</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>75</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>70</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Protecting the environment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>56</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Improving the job situation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>84</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>67</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Reducing the budget deficit"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Dealing with climate change"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>26</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>34</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>44</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Public’s policy priorities: 2011–2019",
      "footer": null,
      "columns": [
            {
                  "key": "topic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Topic"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "jan_2011",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2011"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "jan_2015",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2015"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "jan_2019",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2019"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "topic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-identifying-an-unknown", () => {
    // Source: Question xf115333b2d376477 (Type 2: Identifying an unknown)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aluminum"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2.70"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gold"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "19.3"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lead"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "11.3"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Zinc"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7.14"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Metal densities",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mtext>g</mtext><mo>/</mo><msup><mtext>cm</mtext><mn>3</mn></msup><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - rate", () => {
    // Source: Question x3ce238ef994fb2de (Rate)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Stir the reactants"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Heat the reactants"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decrease the concentration of the reactants"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "decrease"
                                          }
                                    ],
                                    "identifier": "DECREASE"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "increase"
                                          }
                                    ],
                                    "identifier": "INCREASE"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "How changes affect the reaction rate",
      "footer": null,
      "columns": [
            {
                  "key": "change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Change"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "effect",
                  "label": [
                        {
                              "type": "text",
                              "content": "Effect on rate"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "change"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-we-all-float-down-here", () => {
    // Source: Question x27ec9f9a9dd8f986 (Type 4: We All Float Down Here)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Mercury"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 13.6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gold"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 19.3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Iron"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 7.8
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lead"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 11.4
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Densities of mercury and three metals",
      "footer": null,
      "columns": [
            {
                  "key": "substance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Substance"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mi>g</mi><mo>/</mo><msup><mi>cm</mi><mn>3</mn></msup><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "substance"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-ke-vs-foa", () => {
    // Source: Question xd135152114678847 (Type 2: KE vs. FoA)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Kinetic energy"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "bring the particles together"
                                          }
                                    ],
                                    "identifier": "BRING_TOGETHER"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "drive the particles apart"
                                          }
                                    ],
                                    "identifier": "DRIVE_APART"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_1"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "temperature"
                                          }
                                    ],
                                    "identifier": "TEMP"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "type of particles"
                                          }
                                    ],
                                    "identifier": "TYPE_PARTICLES"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_2"
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Attractive forces"
                              }
                        ]
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "bring the particles together"
                                          }
                                    ],
                                    "identifier": "BRING_TOGETHER"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "drive the particles apart"
                                          }
                                    ],
                                    "identifier": "DRIVE_APART"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_3"
                  },
                  {
                        "type": "dropdown",
                        "choices": [
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "temperature"
                                          }
                                    ],
                                    "identifier": "TEMP"
                              },
                              {
                                    "content": [
                                          {
                                                "type": "text",
                                                "content": "type of particles"
                                          }
                                    ],
                                    "identifier": "TYPE_PARTICLES"
                              }
                        ],
                        "shuffle": false,
                        "responseIdentifier": "dropdown_4"
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Forces and their effects",
      "footer": null,
      "columns": [
            {
                  "key": "force",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "acts_to",
                  "label": [
                        {
                              "type": "text",
                              "content": "Acts to..."
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "depends_on",
                  "label": [
                        {
                              "type": "text",
                              "content": "Depends on..."
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "force"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - interpret-population-growth-data-from-a-microscope", () => {
    // Source: Question x1699412c51941e02 (Interpret population growth data from a microscope view)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "number",
                        "value": 1
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 4
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "number",
                        "value": 8
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Euglena population data",
      "footer": null,
      "columns": [
            {
                  "key": "day",
                  "label": [
                        {
                              "type": "text",
                              "content": "Day"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "cells",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of cells"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "day"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-time-between-moon-phases", () => {
    // Source: Question x343506dd7adaee62 (Predict time between moon phases)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "third quarter"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "September 5"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "new moon"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "September 12"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "first quarter"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "September 21"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "full moon"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "September 27"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Moon phase observations for September",
      "footer": null,
      "columns": [
            {
                  "key": "phase",
                  "label": [
                        {
                              "type": "text",
                              "content": "Moon phase"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "date",
                  "label": [
                        {
                              "type": "text",
                              "content": "Date"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "phase"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - predict-time-between-moon-phases", () => {
    // Source: Question xf8ba94a1bc8f357a (Predict time between moon phases)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "third quarter"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "November 8"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "new moon"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "November 14"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "first quarter"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "November 22"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "full moon"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "November 30"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Moon phases recorded in November",
      "footer": null,
      "columns": [
            {
                  "key": "phase",
                  "label": [
                        {
                              "type": "text",
                              "content": "Moon phase"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "date",
                  "label": [
                        {
                              "type": "text",
                              "content": "Date"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "phase"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-conceptual-density-volume", () => {
    // Source: Question xf7b44aef1d8eacbb (Type 4: Conceptual density (volume))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aluminum"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.70</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Cobalt"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>8.83</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Tin"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>7.31</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Densities of selected metals",
      "footer": null,
      "columns": [
            {
                  "key": "metal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Metal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mi>g</mi><mo>/</mo><msup><mrow><mi>cm</mi></mrow><mn>3</mn></msup><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "metal"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - frequency-of-natural-hazards", () => {
    // Source: Question x82dd754bd7459b9c (Frequency of natural hazards)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Flood"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 193
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Storm"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 69
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Landslide"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 19
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Earthquake"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 14
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Drought"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 7
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Wildfire"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Volcanic eruption"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Extreme temperature"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Number of major natural disasters worldwide in 2020",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Total"
                        }
                  ]
            },
            {
                  "type": "number",
                  "value": 313
            }
      ],
      "columns": [
            {
                  "key": "type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type of natural disaster"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "count",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of occurrences"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "type"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-4-we-all-float-down-here", () => {
    // Source: Question x869f4aadce5b1c21 (Type 4: We All Float Down Here)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ethanol"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 0.79
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aluminum"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2.7
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Cork"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 0.24
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Rosewood"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 0.83
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Densities of substances",
      "footer": null,
      "columns": [
            {
                  "key": "substance",
                  "label": [
                        {
                              "type": "text",
                              "content": "Substance"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "density",
                  "label": [
                        {
                              "type": "text",
                              "content": "Density "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mtext>g/</mtext><msup><mtext>cm</mtext><mn>3</mn></msup><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "substance"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - frequency-of-natural-hazards", () => {
    // Source: Question xf882d33bb3f48566 (Frequency of natural hazards)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Flood"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 193
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Storm"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 69
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Landslide"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 19
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Earthquake"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 14
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Drought"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 7
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Wildfire"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Volcanic eruption"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Extreme temperature"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Major natural disasters worldwide in 2020",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Total"
                        }
                  ]
            },
            {
                  "type": "number",
                  "value": 313
            }
      ],
      "columns": [
            {
                  "key": "type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type of natural disaster"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "occurrences",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of occurrences"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "type"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc61bi-businesses-made-use-of-technological-innova", () => {
    // Source: Question x547e6ddf8e56e295 (KC-6.1.B.i  Businesses made use of technological innovations and greater access to natural resources to dramatically increase the production of goods.   )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Wabash"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chicago to St. Louis"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "286"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "13:40"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "20.7"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7:51"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "36.4"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "NY Central"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York to Chicago"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "961"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "38:30"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25.0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "16:00"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "38.4"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Rail travel time, 1870-1900",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Robert J. Gordon, economist, The Rise and Fall of American Growth: The U.S. Standard of Living since the Civil War, 2016."
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "railroad_company",
                  "label": [
                        {
                              "type": "text",
                              "content": "Railroad company"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "route",
                  "label": [
                        {
                              "type": "text",
                              "content": "Route"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mileage",
                  "label": [
                        {
                              "type": "text",
                              "content": "Mileage"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "elapsed_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1870 Elapsed time (hrs)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "speed_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1870 Speed (mph)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "elapsed_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1900 Elapsed time (hrs)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "speed_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1900 Speed (mph)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "railroad_company"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi5f-explain-how-variation-in-types-and-resources", () => {
    // Source: Question xbc56ab2ebe873829 (PMI-5.F: Explain how variation in types and resources of interest groups affects their ability to influence elections and policy making.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "U.S. Chamber of Commerce"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>94</mn><mo>,</mo><mn>800</mn><mo>,</mo><mn>000</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>77</mn><mo>,</mo><mn>245</mn><mo>,</mo><mn>000</mn></mrow>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "National Association of Realtors"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>72</mn><mo>,</mo><mn>808</mn><mo>,</mo><mn>648</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>41</mn><mo>,</mo><mn>241</mn><mo>,</mo><mn>006</mn></mrow>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Amazon.com"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>14</mn><mo>,</mo><mn>400</mn><mo>,</mo><mn>000</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>16</mn><mo>,</mo><mn>790</mn><mo>,</mo><mn>000</mn></mrow>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Comcast Corp."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>15</mn><mo>,</mo><mn>072</mn><mo>,</mo><mn>000</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>13</mn><mo>,</mo><mn>360</mn><mo>,</mo><mn>000</mn></mrow>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "AT&T Inc."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>18</mn><mo>,</mo><mn>529</mn><mo>,</mo><mn>000</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mrow><mn>12</mn><mo>,</mo><mn>820</mn><mo>,</mo><mn>000</mn></mrow>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Lobbying spending by client, 2018–2019",
      "footer": null,
      "columns": [
            {
                  "key": "client",
                  "label": [
                        {
                              "type": "text",
                              "content": "Lobbying client"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "spent_2018",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total spent in 2018"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "spent_2019",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total spent in 2019"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "client"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 2-p-vs-r", () => {
    // Source: Question xc180f0c3464b134b (2: P vs R)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System X"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>100</mn><mtext> J</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System Y"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50</mn><mtext> J</mtext>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "System Z"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>25</mn><mtext> J</mtext>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Chemical systems and stored energy",
      "footer": null,
      "columns": [
            {
                  "key": "system",
                  "label": [
                        {
                              "type": "text",
                              "content": "Chemical system"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "energy",
                  "label": [
                        {
                              "type": "text",
                              "content": "Stored energy"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "system"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - -in-the-south-although-the-majority-of-southerners", () => {
    // Source: Question x0ac8f2381caca0d3 ( In the South, although the majority of Southerners owned no slaves, most leaders argued that slavery was part of the Southern way of life.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "586,756"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3.5"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,372,812"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.7"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2,428,921"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.0"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Pennsylvania"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "602,365"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.3"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,549,458"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,724,033"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.0"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Massachusetts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "422,245"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "523,287"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "737,699"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.0"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New Jersey"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "211,949"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5.9"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "277,575"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2.7"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "373,306"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0.2"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Virginia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "880,200"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "39.3"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,065,379"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "39.9"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,239,797"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "36.2"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North Carolina"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "478,103"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "27.9"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "638,829"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "32.1"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "753,419"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "32.7"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South Carolina"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "345,501"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "42.3"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "490,309"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "51.4"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "594,398"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "55.0"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Georgia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "162,101"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "36.7"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "340,987"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "43.9"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "691,392"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "40.6"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population and enslaved persons by state (1800–1840)",
      "footer": null,
      "columns": [
            {
                  "key": "state",
                  "label": [
                        {
                              "type": "text",
                              "content": "State"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pop_1800",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1800"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1800",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop_1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1820"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop_1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1840"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "state"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - -large-numbers-of-international-migrants-moved-to-", () => {
    // Source: Question x22ad70e4170b6b1e ( Large numbers of international migrants moved to industrializing northern cities, while many Americans moved west of the Appalachians, developing thriving new communities along the Ohio and Mississippi rivers.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1820"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "8,385"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1824"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,912"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1828"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "27,382"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1832"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "60,482"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1836"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "76,242"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1840"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "84,066"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1844"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "78,615"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1848"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "226,527"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Year and Number of Immigrants",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: U.S. Government Printing Office, Statistical Review of Immigration, 1820–1910, 1911"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "num_immigrants",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of immigrants"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - the-increased-demand-for-war-production-and-labor-", () => {
    // Source: Question xd78f2391b7ec928f (The increased demand for war production and labor during World War II and the economic difficulties of the 1930s led many Americans to migrate to urban centers in search of economic opportunities.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Urban"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "69,160,599"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "74,705,338"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "90,128,194"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "113,063,593"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Rural"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "54,042,025"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "57,459,231"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "61,197,604"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "66,259,582"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population in urban and rural areas, 1930–1960",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: U.S. Census"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "category",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "y1930",
                  "label": [
                        {
                              "type": "text",
                              "content": "1930"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1940",
                  "label": [
                        {
                              "type": "text",
                              "content": "1940"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1950",
                  "label": [
                        {
                              "type": "text",
                              "content": "1950"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1960",
                  "label": [
                        {
                              "type": "text",
                              "content": "1960"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "category"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 5c1-explain-how-the-different-processes-work-in-a-", () => {
    // Source: Question xad3a3ccdd8d89107 (5.C.1 - Explain how the different processes work in a U.S. presidential election.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Used for both presidential and congressional elections"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Only used for presidential elections"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Limited to registered members of a political party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Party members choose nominees after hours of speeches and debates"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Meeting of delegates from one political party to select party candidates for public office"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Any person can participate, and discussion is not limited to registered party members"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Generally has the highest turnout of any primary election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Generally has the lowest turnout of any primary election"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Closed primary vs. caucus",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "closed_primary",
                  "label": [
                        {
                              "type": "text",
                              "content": "Closed primary"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "caucus",
                  "label": [
                        {
                              "type": "text",
                              "content": "Caucus"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi4b1-because-the-us-is-a-democracy-with-a-divers", () => {
    // Source: Question x8a58f3b71760e733 (PMI-4.B.1: Because the U.S. is a democracy with a diverse society, public policies generated at any given time reflect the attitudes and beliefs of citizens who choose to participate in politics at that time.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Strengthening the nation's economy"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>87</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>75</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>70</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Protecting the environment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>56</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Improving the job situation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>84</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>67</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Reducing the budget deficit"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Dealing with climate change"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>26</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>34</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>44</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Public policy priorities: 2011–2019",
      "footer": null,
      "columns": [
            {
                  "key": "topic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Topic"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "jan_2011",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2011"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "jan_2015",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2015"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "jan_2019",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2019"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "topic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi5f-explain-how-variation-in-types-and-resources", () => {
    // Source: Question x9cf93b44a1c4e878 (PMI-5.F: Explain how variation in types and resources of interest groups affects their ability to influence elections and policy making.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "U.S. Chamber of Commerce"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>94,800,000</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>77,245,000</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "National Association of Realtors"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>72,808,648</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>41,241,006</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Amazon.com"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>14,400,000</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>16,790,000</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Comcast Corp."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>15,072,000</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>13,360,000</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "AT&T Inc."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>18,529,000</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>12,820,000</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Lobbying expenditures by client, 2018–2019",
      "footer": null,
      "columns": [
            {
                  "key": "client",
                  "label": [
                        {
                              "type": "text",
                              "content": "Lobbying client"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "spent2018",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total spent in 2018"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "spent2019",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total spent in 2019"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "client"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - -in-the-south-although-the-majority-of-southerners", () => {
    // Source: Question x215bbffdcf117f9a ( In the South, although the majority of Southerners owned no slaves, most leaders argued that slavery was part of the Southern way of life.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "586,756"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>3.5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,372,812"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2,428,921"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Pennsylvania"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "602,365"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.3</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,549,458"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,724,033"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Massachusetts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "422,245"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "523,287"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "737,699"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New Jersey"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "211,949"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>5.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "277,575"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>2.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "373,306"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Virginia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "880,200"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39.3</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,065,379"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,239,797"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North Carolina"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "478,103"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>27.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "638,829"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>32.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "753,419"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>32.7</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South Carolina"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "345,501"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>42.3</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "490,309"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51.4</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "594,398"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>55.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Georgia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "162,101"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "340,987"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>43.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "691,392"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40.6</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Source: US Census",
      "footer": null,
      "columns": [
            {
                  "key": "state",
                  "label": [
                        {
                              "type": "text",
                              "content": "State"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pop_1800",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1800"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1800",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop_1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1820"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop_1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "Population in 1840"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "state"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - relatedness-based-on-data-table", () => {
    // Source: Question xafc00b78a329828a (Relatedness based on data table)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "gorilla"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "cow"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": []
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": []
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "bonobo"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "+"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Organism Features",
      "footer": null,
      "columns": [
            {
                  "key": "organism",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "opposable_thumb",
                  "label": [
                        {
                              "type": "text",
                              "content": "opposable thumb"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mammary_glands",
                  "label": [
                        {
                              "type": "text",
                              "content": "mammary glands"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "rotating_shoulder",
                  "label": [
                        {
                              "type": "text",
                              "content": "rotating shoulder"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "organism"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - -large-numbers-of-international-migrants-moved-to-", () => {
    // Source: Question x5cadb505fc9007b0 ( Large numbers of international migrants moved to industrializing northern cities, while many Americans moved west of the Appalachians, developing thriving new communities along the Ohio and Mississippi rivers.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1820"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "8,385"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1824"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,912"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1828"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "27,382"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1832"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "60,482"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1836"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "76,242"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1840"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "84,066"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1844"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "78,615"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1848"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "226,527"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Immigration to the United States, 1820–1848",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "num_immigrants",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of immigrants"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparison-and-definition", () => {
    // Source: Question xed99fc9a4c4d39ae (Comparison and definition)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "More likely to vote with the Democratic Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "More likely to vote with the Republican Party"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Likely to support students' right to engage in voluntary prayer in public schools"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Likely to oppose public schools facilitating voluntary prayer at school events"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Less likely to believe the death penalty is cruel and unusual punishment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "More likely to believe the death penalty is cruel and unusual punishment"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Likely to favor higher military spending by the federal government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Likely to favor reduced military spending by the federal government"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of typical liberal and conservative views",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "liberal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Liberal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "conservative",
                  "label": [
                        {
                              "type": "text",
                              "content": "Conservative"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi4b1-because-the-us-is-a-democracy-with-a-divers", () => {
    // Source: Question x525c7546b6628c77 (PMI-4.B.1: Because the U.S. is a democracy with a diverse society, public policies generated at any given time reflect the attitudes and beliefs of citizens who choose to participate in politics at that time.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Strengthening the nation’s economy"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>87</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>75</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>70</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Protecting the environment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>56</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Improving the job situation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>84</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>67</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Reducing the budget deficit"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Dealing with climate change"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>26</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>34</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>44</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Public’s policy priorities: 2011–2019",
      "footer": null,
      "columns": [
            {
                  "key": "topic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Topic"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "jan2011",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2011"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "jan2015",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2015"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "jan2019",
                  "label": [
                        {
                              "type": "text",
                              "content": "Jan 2019"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "topic"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc63iibii-many-women-sought-greater-equality-with-", () => {
    // Source: Question x57934426563bd6d0 (KC-6.3.II.B.ii Many women sought greater equality with men, often joining voluntary organizations, going to college, promoting social and political reform.  )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Male"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "49,467"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "77,994"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "100,453"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "152,254"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Female"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "13,372"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "37,856"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "56,303"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "85,338"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Historical summary of higher education enrollment statistics, 1869 to 1900",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Estimates of enrollment provided by the Department of Education, 1993"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": []
            },
            {
                  "type": "inline",
                  "content": []
            },
            {
                  "type": "inline",
                  "content": []
            },
            {
                  "type": "inline",
                  "content": []
            }
      ],
      "columns": [
            {
                  "key": "category",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "y1869_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1869-1870"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1879_1880",
                  "label": [
                        {
                              "type": "text",
                              "content": "1879-1880"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1889_1890",
                  "label": [
                        {
                              "type": "text",
                              "content": "1889-1890"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1899_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1899-1900"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "category"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question x2c6874f9d3bef743 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to access education"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Staying informed"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to information from the government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Defend the country"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to own private property"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Running for federal office"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to move to another country"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Serve on a jury"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Personal rights and obligations",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "personal_right",
                  "label": [
                        {
                              "type": "text",
                              "content": "Personal right"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "obligation",
                  "label": [
                        {
                              "type": "text",
                              "content": "Obligation"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparison", () => {
    // Source: Question x293c4ddb9b4b928a (Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Interpreting the Constitution"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Establishing inferior courts"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Vetoing legislation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Setting the budget"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Appointing Supreme Court justices"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Confirming Supreme Court nominations"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ratifying treaties"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Negotiating treaties"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Judicial vs. Legislative Powers",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "judicial",
                  "label": [
                        {
                              "type": "text",
                              "content": "Judicial powers"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "legislative",
                  "label": [
                        {
                              "type": "text",
                              "content": "Legislative powers"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - gideon", () => {
    // Source: Question x381a6a4d7cf3a382 (Gideon)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated a right to legal counsel"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated the right to bear arms for self-defense"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the state had to provide legal counsel for the poor or indigent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that states had the right to ban handguns for public safety"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that national laws were supreme over state laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Enhanced the power of the state government to regulate background checks for weapons"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Fifth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Second Amendment"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of Court Cases",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [
                        {
                              "type": "text",
                              "content": "Comparison"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "gideon",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gideon v. Wainwright (1963)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mcdonald",
                  "label": [
                        {
                              "type": "text",
                              "content": "McDonald v. Chicago (2010)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek18a4the-supremacy-clause-gives-the-national-gove", () => {
    // Source: Question xc1946caa3bbe1540 (EK1.8.A.4—The Supremacy Clause gives the national government and its laws general precedence over states’ laws, but Supreme Court interpretations may affect when specific actions exceed this constitutional power.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "McCulloch v. Maryland"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 1819
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Expanded federal power (through implied powers and the Supremacy Clause)"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gibbons v. Ogden"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 1824
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Expanded federal power (interpreted the Commerce Clause broadly)"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Heart of Atlanta Motel v. U.S."
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 1964
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Expanded federal power (used the Commerce Clause to support civil rights legislation)"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "United States v. Lopez"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 1995
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Limited federal power (struck down the Gun-Free School Zones Act)"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Printz v. United States"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 1997
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Limited federal power (states cannot be forced to enforce federal law)"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gonzales v. Raich"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2005
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Expanded federal power (upheld Congress's power to regulate local drug activity)"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "NFIB v. Sebelius"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2012
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Mixed (limited federal power regarding Medicaid expansion; upheld the taxing power for the Affordable Care Act)"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Supreme Court Cases and Federalism",
      "footer": null,
      "columns": [
            {
                  "key": "case",
                  "label": [
                        {
                              "type": "text",
                              "content": "Case"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "outcome",
                  "label": [
                        {
                              "type": "text",
                              "content": "Outcome"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "case"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - the-expansion-of-slavery-in-the-deep-south-and-adj", () => {
    // Source: Question x7a8aeee84f18d29a (The expansion of slavery in the deep South and adjacent western lands and rising antislavery sentiment began to create distinctive regional attitudes toward the institution.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New England"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,763"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,339"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Middle states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "45,210"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "41,184"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Southern states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "648,651"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "847,281"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Number of enslaved Africans by U.S. region, 1790 and 1800",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: United States Census"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "region",
                  "label": [
                        {
                              "type": "text",
                              "content": "U.S. region"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "enslaved_1790",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of enslaved Africans, 1790"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "enslaved_1800",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of enslaved Africans, 1800"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question xe2e50a007662ce6b (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Your family"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Labor unions"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Federal courts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Political parties"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "News media"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bureaucratic agencies"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The House of Representatives"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The Senate"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Pairings",
      "footer": null,
      "columns": [
            {
                  "key": "pairing",
                  "label": [
                        {
                              "type": "text",
                              "content": "Pairing"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "civil_society",
                  "label": [
                        {
                              "type": "text",
                              "content": "Civil society"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "government",
                  "label": [
                        {
                              "type": "text",
                              "content": "Government"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pairing"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question xd39c373b9f1065a3 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to legally protect your own inventions"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to vote in elections"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to participate in political protests"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to access education"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to privacy"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to join a political party"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to worship how you choose"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "right to acquire property"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Examples of Personal and Political Rights",
      "footer": null,
      "columns": [
            {
                  "key": "pair",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "personal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Personal right"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "political",
                  "label": [
                        {
                              "type": "text",
                              "content": "Political right"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pair"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 5b4a-in-comparison-to-proportional-systems-winnert", () => {
    // Source: Question x76e21044a3b28365 (5.B.4.a - In comparison to proportional systems, winner-take-all voting districts serve as a structural barrier to third-party and independent candidate success.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "William J. Clinton"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Democratic"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "44,908,254"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>43</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "370"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>69</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "George H.W. Bush"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Republican"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "39,102,243"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>37</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "168"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ross Perot"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "19,743,821"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "1992 U.S. presidential election results",
      "footer": null,
      "columns": [
            {
                  "key": "candidate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party",
                  "label": [
                        {
                              "type": "text",
                              "content": "Party"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "popular_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Popular Votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "popular_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of popular votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "electoral_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Electoral votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "electoral_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of Electoral votes"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "candidate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc62ie-corporations-need-for-managers-and-for-male", () => {
    // Source: Question x88a70fd5438d662a (KC-6.2.I.E Corporations’ need for managers and for male and female clerical workers as well as increased access to educational institutions, fostered the growth of a distinctive middle class. A growing amount of leisure time also helped expand consumer culture. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Male"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,993"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "10,411"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "12,857"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "22,173"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Female"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,378"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2,485"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2,682"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,237"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Bachelor's degree recipients, 1869-1900",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Department of Education, 1993"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "gender",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gender"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "y1869_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1869-1870"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1879_1880",
                  "label": [
                        {
                              "type": "text",
                              "content": "1879-1880"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1889_1890",
                  "label": [
                        {
                              "type": "text",
                              "content": "1889-1890"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1899_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1899-1900"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "gender"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question xec1e0e9022ffff05 (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to acquire property"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to decide where you live"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to organize for better working conditions"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to serve in the military when there is a Selective Service draft"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to choose where you work"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to run for elected office"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to vote"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to privacy"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Economic and Personal Rights",
      "footer": null,
      "columns": [
            {
                  "key": "pair",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "economic",
                  "label": [
                        {
                              "type": "text",
                              "content": "Economic right"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "personal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Personal right"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pair"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 5b4a-in-comparison-to-proportional-systems-winnert", () => {
    // Source: Question x37cead9166c2e568 (5.B.4.a - In comparison to proportional systems, winner-take-all voting districts serve as a structural barrier to third-party and independent candidate success.)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1940
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "La Follette Jr. (i)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Progressive"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "WI"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>45.3</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>3.9</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1940
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lemke"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "ND"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "L"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>-</mo><mn>3.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1970
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Byrd Jr. (i)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "VA"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>53.5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>22.3</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 1970
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Buckley"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Conservative"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "NY"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>38.8</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>2.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2006
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lieberman (i)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "CT"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>49.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>10.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2010
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Murkowski (i)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Write-in"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "AK"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39.5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>4.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2012
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "King"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "ME"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>52.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "W"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>+</mo><mn>22.1</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Highest vote shares for independent and third-party U.S. Senate candidates in a regular November election while opposed by both a Democrat and a Republican",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "candidate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party",
                  "label": [
                        {
                              "type": "text",
                              "content": "Third Party"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "state",
                  "label": [
                        {
                              "type": "text",
                              "content": "State"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "vote_pct",
                  "label": [
                        {
                              "type": "text",
                              "content": "Vote "
                        },
                        {
                              "type": "text",
                              "content": "("
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>%</mo>"
                        },
                        {
                              "type": "text",
                              "content": ")"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "result",
                  "label": [
                        {
                              "type": "text",
                              "content": "Result"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "margin",
                  "label": [
                        {
                              "type": "text",
                              "content": "Margin"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc63iibii-many-women-sought-greater-equality-with-", () => {
    // Source: Question xda84ea4cc11acc26 (KC-6.3.II.B.ii Many women sought greater equality with men, often joining voluntary organizations, going to college, promoting social and political reform.  )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Male"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "49,467"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "77,994"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "100,453"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "152,254"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Female"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "13,372"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "37,856"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "56,303"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "85,338"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Historical summary of higher education enrollment statistics, 1869 to 1900",
      "footer": null,
      "columns": [
            {
                  "key": "category",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "y1869_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1869-1870"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1879_1880",
                  "label": [
                        {
                              "type": "text",
                              "content": "1879-1880"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1889_1890",
                  "label": [
                        {
                              "type": "text",
                              "content": "1889-1890"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1899_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1899-1900"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "category"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc62ia-as-cities-became-areas-of-economic-growth-f", () => {
    // Source: Question x39733f8a4a282765 (KC-6.2.I.A As cities became areas of economic growth featuring new factories and businesses, they attracted immigrants from Asia and from southern and eastern Europe, as well as African American migrants within and out of the South. Many migrants moved to escape poverty, religious persecution, and limited opportunities for social mobility in their home countries or regions. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York City"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,478,103"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>28</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,437,202"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Philadelphia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,293,687"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>14</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,350,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chicago"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "298,977"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,698,575"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Boston"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "250,525"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "560,892"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Los Angeles"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,728"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "102,479"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Foreign-born population of American cities, 1870–1900",
      "footer": null,
      "columns": [
            {
                  "key": "city",
                  "label": [
                        {
                              "type": "text",
                              "content": "City"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pop1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1870 population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent foreign-born"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1900 population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent foreign-born"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "city"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-511a3different-types-of-pacs-influence-election", () => {
    // Source: Question x69d5a0040f505baa (EK 5.11.A.3—Different types of PACs influence elections and policymaking through fundraising and spending.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Individual"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2,700</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>10,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year (combined)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>33,900</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>101,700</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per account, per year"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Candidate committee"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "-"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "PAC: multicandidate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year (combined)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>15,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>45,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per account, per year"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "PAC: nonmulticandidate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2,700</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>10,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year (combined)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>33,900</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>101,700</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per account, per year"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Party committee: state/district/local"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "-"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Party committee: national"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "-"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Contribution limits for the 2017–2018 federal elections",
      "footer": null,
      "columns": [
            {
                  "key": "donor",
                  "label": [
                        {
                              "type": "text",
                              "content": "Donor"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "candidate_committee",
                  "label": [
                        {
                              "type": "text",
                              "content": "Candidate committee"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pac",
                  "label": [
                        {
                              "type": "text",
                              "content": "PAC"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party_state_local",
                  "label": [
                        {
                              "type": "text",
                              "content": "Party committee: state/district/local"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party_national",
                  "label": [
                        {
                              "type": "text",
                              "content": "Party committee: national"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "additional_national_accounts",
                  "label": [
                        {
                              "type": "text",
                              "content": "Additional national party committee accounts"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "donor"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 31ia-31ib", () => {
    // Source: Question x88251ff52626d761 (3.1.I.A + 3.1.I.B)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1739"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "46,954,623"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1748"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "78,293,313"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1755"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "74,571,849"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1762"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "146,682,844"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1775"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "135,943,051"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "BRITISH NATIONAL DEBT, 1739-1775 (£ Sterling)",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Sir John Sinclair, historian, The History of the Public Revenue of the British Empire, 1966"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "debt",
                  "label": [
                        {
                              "type": "text",
                              "content": "National Debt"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - interest-groups", () => {
    // Source: Question x7b885d81fda58e22 (Interest groups)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Finance/Insurance/Real Estate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>260,587,304</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>198,225,834</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>42.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>57.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Other"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>187,090,094</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>160,961,296</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>60.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>38.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ideology/Single-issue"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>175,264,839</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>130,280,835</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>62.8</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Misc. Business"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>127,865,840</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>95,482,285</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>43.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>55.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lawyers and Lobbyists"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>90,343,168</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>85,392,646</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>67.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31.7</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 6
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Health"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>75,355,156</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>69,684,540</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>49.6</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 7
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Communication/Electronics"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>64,720,145</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>53,809,226</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>63.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36.3</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 8
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Energy/Natural Resources"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>55,707,326</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>39,671,761</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>79.4</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 9
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Labor"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>55,582,848</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>29,232,259</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>79.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 10
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Agribusiness"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>34,711,079</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>31,776,340</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>28.4</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>71.1</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Sector Totals, 2017–2018",
      "footer": null,
      "columns": [
            {
                  "key": "rank",
                  "label": [
                        {
                              "type": "text",
                              "content": "Rank"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "sector",
                  "label": [
                        {
                              "type": "text",
                              "content": "Sector"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "amount",
                  "label": [
                        {
                              "type": "text",
                              "content": "Amount"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "total_to_parties",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total to Parties and Candidates"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "dems_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Dems Percent"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "gop_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "GOP Percent"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "rank"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - interest-groups", () => {
    // Source: Question x50c5cc7f39d2f3f3 (Interest groups)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Finance/Insurance/Real Estate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>260</mn><mo>,</mo><mn>587</mn><mo>,</mo><mn>304</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>198</mn><mo>,</mo><mn>225</mn><mo>,</mo><mn>834</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>42.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>57.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Other"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>187</mn><mo>,</mo><mn>090</mn><mo>,</mo><mn>094</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>160</mn><mo>,</mo><mn>961</mn><mo>,</mo><mn>296</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>60.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>38.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ideology/Single-issue"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>175</mn><mo>,</mo><mn>264</mn><mo>,</mo><mn>839</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>130</mn><mo>,</mo><mn>280</mn><mo>,</mo><mn>835</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>62.8</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Misc. Business"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>127</mn><mo>,</mo><mn>865</mn><mo>,</mo><mn>840</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>95</mn><mo>,</mo><mn>482</mn><mo>,</mo><mn>285</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>43.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>55.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lawyers and Lobbyists"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>90</mn><mo>,</mo><mn>343</mn><mo>,</mo><mn>168</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>85</mn><mo>,</mo><mn>392</mn><mo>,</mo><mn>646</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>67.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31.7</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 6
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Health"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>75</mn><mo>,</mo><mn>355</mn><mo>,</mo><mn>156</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>69</mn><mo>,</mo><mn>684</mn><mo>,</mo><mn>540</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>49.6</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 7
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Communication/Electronics"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>64</mn><mo>,</mo><mn>720</mn><mo>,</mo><mn>145</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>53</mn><mo>,</mo><mn>809</mn><mo>,</mo><mn>226</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>63.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36.3</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 8
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Energy/Natural Resources"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>55</mn><mo>,</mo><mn>707</mn><mo>,</mo><mn>326</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>39</mn><mo>,</mo><mn>671</mn><mo>,</mo><mn>761</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>79.4</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 9
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Labor"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>55</mn><mo>,</mo><mn>582</mn><mo>,</mo><mn>848</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>29</mn><mo>,</mo><mn>232</mn><mo>,</mo><mn>259</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>79.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 10
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Agribusiness"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>34</mn><mo>,</mo><mn>711</mn><mo>,</mo><mn>079</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mrow><mo>$</mo><mn>31</mn><mo>,</mo><mn>776</mn><mo>,</mo><mn>340</mn></mrow>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>28.4</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>71.1</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Sector Totals, 2017–2018",
      "footer": null,
      "columns": [
            {
                  "key": "rank",
                  "label": [
                        {
                              "type": "text",
                              "content": "Rank"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "sector",
                  "label": [
                        {
                              "type": "text",
                              "content": "Sector"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "amount",
                  "label": [
                        {
                              "type": "text",
                              "content": "Amount"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "total_to_parties_and_candidates",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total to Parties and Candidates"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "dems_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Dems Percent"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "gop_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "GOP Percent"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "rank"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - textbased-and-comparison", () => {
    // Source: Question xbbeca4e1a6f28231 (Text-based and comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated the right to legal counsel in capital cases"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated the protection against cruel and unusual punishment to the states"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the state had to provide legal counsel for the poor or indigent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the state could not restrict people from owning a gun for self-defense"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that state laws were supreme over national laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that states could not infringe on an individual’s right to own a gun"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Sixth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Fifth Amendment"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Accurate comparison of Gideon v. Wainwright and McDonald v. Chicago",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [
                        {
                              "type": "text",
                              "content": "Comparison"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "gideon",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gideon v. Wainwright (1963)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mcdonald",
                  "label": [
                        {
                              "type": "text",
                              "content": "McDonald v. Chicago (2010)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - regional-identities-and-internal-improvements", () => {
    // Source: Question xcf43cc76226f7e4d (Regional identities and internal improvements)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Northeast"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.8</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>6.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>8.4</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "West"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "N/A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.0</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>4.7</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.3</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>0.5</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1.2</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " million"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Federal funding for infrastructure improvements, 1820–1840",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Bureau of the Census, Historical Statistics of the United States, Colonial Times to 1970"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "region",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "y1820",
                  "label": [
                        {
                              "type": "text",
                              "content": "1820"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1830",
                  "label": [
                        {
                              "type": "text",
                              "content": "1830"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1840",
                  "label": [
                        {
                              "type": "text",
                              "content": "1840"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 5c3a-the-process-and-outcomes-in-us-congressional-", () => {
    // Source: Question x1999e6d701ba22b4 (5.C.3.a - The process and outcomes in U.S. Congressional elections are impacted by Incumbency advantage phenomenon,Open and closed primaries, Caucuses, General (presidential and mid-term) elections)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incumbent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>664,873,622</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "418"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1,590,607</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Challenger"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>149,000,679</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "643"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>231,727</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Open Seat"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>214,460,277</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "337"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>636,381</mn>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Grand Total"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>1,028,334,578</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,398"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>735,576</mn>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "2016 Election Cycle: House of Representatives",
      "footer": null,
      "columns": [
            {
                  "key": "candidate_type",
                  "label": [
                        {
                              "type": "text",
                              "content": "Type of Candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "total_raised",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total Raised"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "num_candidates",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of Candidates"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "avg_raised",
                  "label": [
                        {
                              "type": "text",
                              "content": "Average Raised"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "candidate_type"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - as-higher-education-opportunities-and-new-technolo", () => {
    // Source: Question x628aa71f5729acf8 (As higher education opportunities and new technologies rapidly expanded, increasing social mobility encouraged the migration of the middle class to the suburbs and of many Americans to the South and West. The Sun Belt region emerged as a significant political and economic force.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Northeast"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "35,977,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "39,478,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "44,678,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "49,041,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North Central"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "40,143,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "44,461,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "51,619,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "56,572,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>41</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "41,666,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "47,197,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "54,973,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "62,795,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "West"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "14,379,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "20,190,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "28,053,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "34,804,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>142</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population by region, 1940–1970",
      "footer": null,
      "columns": [
            {
                  "key": "region",
                  "label": [
                        {
                              "type": "text",
                              "content": "Region"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "y1940",
                  "label": [
                        {
                              "type": "text",
                              "content": "1940"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1950",
                  "label": [
                        {
                              "type": "text",
                              "content": "1950"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1960",
                  "label": [
                        {
                              "type": "text",
                              "content": "1960"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1970",
                  "label": [
                        {
                              "type": "text",
                              "content": "1970"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent change"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 21ib-french-and-dutch", () => {
    // Source: Question xcbd5c4350e5af610 (2.1.I.B - french and dutch)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New Netherland"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New France"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chesapeake Bay"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New England"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "33,000"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Colony populations in 1660",
      "footer": null,
      "columns": [
            {
                  "key": "colony",
                  "label": [
                        {
                              "type": "text",
                              "content": "Colony"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "european_inhabitants_1660",
                  "label": [
                        {
                              "type": "text",
                              "content": "European inhabitants by the year 1660"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "colony"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - quantitative", () => {
    // Source: Question xe5fddac353571c1f (Quantitative)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Trump"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Republican"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "304"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "62,980,160"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Clinton"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Democratic"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "227"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "65,845,063"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Johnson"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Libertarian"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "4,448,931"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Stein"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Green"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,457,050"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "McMullin"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "728,830"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "2016 U.S. Presidential Election Results",
      "footer": null,
      "columns": [
            {
                  "key": "candidate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party",
                  "label": [
                        {
                              "type": "text",
                              "content": "Party"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "electoral_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Electoral Votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "popular_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Popular Votes"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "candidate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - the-expansion-of-slavery-in-the-deep-south-and-adj", () => {
    // Source: Question x017f13914a18b096 (The expansion of slavery in the deep South and adjacent western lands and rising antislavery sentiment began to create distinctive regional attitudes toward the institution.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Massachusetts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "378,717"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "---"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "---"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Connecticut"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "238,141"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1.16</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2,763"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "340,120"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.27</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "21,326"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Pennsylvania"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "434,373"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.86</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,736"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Virginia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "748,308"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39.21</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "293,412"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North Carolina"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "393,751"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>25.55</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "100,604"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South Carolina"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "249,973"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>43.00</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "107,489"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Georgia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "82,5484"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.45</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "29,264"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Enslavement of persons of African descent by state, 1790",
      "footer": null,
      "columns": [
            {
                  "key": "state",
                  "label": [
                        {
                              "type": "text",
                              "content": "State"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "total_population",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total Population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_enslaved",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent enslaved"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "number_enslaved",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "state"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc62ia-as-cities-became-areas-of-economic-growth-f", () => {
    // Source: Question x56aa821c6848c7f3 (KC-6.2.I.A As cities became areas of economic growth featuring new factories and businesses, they attracted immigrants from Asia and from southern and eastern Europe, as well as African American migrants within and out of the South. Many migrants moved to escape poverty, religious persecution, and limited opportunities for social mobility in their home countries or regions. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York City"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,478,103"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>28</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,437,202"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Philadelphia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,293,687"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>14</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,350,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chicago"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "298,977"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,698,575"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Boston"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "250,525"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "560,892"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Los Angeles"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,728"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "102,479"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Foreign-born population of American cities, 1870-1900",
      "footer": null,
      "columns": [
            {
                  "key": "city",
                  "label": [
                        {
                              "type": "text",
                              "content": "City"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pop_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1870 population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_foreign_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent foreign-born"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1900 population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_foreign_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent foreign-born"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "city"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparison", () => {
    // Source: Question x7fe256d053b02c8d (Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bolstered the power of the states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bolstered the power of the federal government"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that symbolic speech is protected by the First Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that legislative redistricting must ensure compliance with the Voting Rights Act"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled on the Due Process Clause of the Fourteenth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled on the Equal Protection Clause of the Fourteenth Amendment"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Extended the right to privacy to a woman’s decision to have an abortion"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that compelling Amish students to attend school beyond the eighth grade violates the Free Exercise Clause"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparisons of Roe v. Wade and Brown v. Board of Education",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "roe",
                  "label": [
                        {
                              "type": "text",
                              "content": "Roe v. Wade (1973)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "brown",
                  "label": [
                        {
                              "type": "text",
                              "content": "Brown v. Board of Education (1954)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc61bi-businesses-made-use-of-technological-innova", () => {
    // Source: Question x12cb60075cc4da12 (KC-6.1.B.i  Businesses made use of technological innovations and greater access to natural resources to dramatically increase the production of goods.   )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Wabash"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chicago to St. Louis"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "286"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "13:40"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "20.7"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7:51"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "36.4"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "NY Central"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York to Chicago"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "961"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "38:30"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "25.0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "16:00"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "38.4"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Rail travel time, 1870-1900",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Robert J. Gordon, economist, The Rise and Fall of American Growth: The U.S. Standard of Living since the Civil War, 2016."
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "company",
                  "label": [
                        {
                              "type": "text",
                              "content": "Railroad company"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "route",
                  "label": [
                        {
                              "type": "text",
                              "content": "Route"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mileage",
                  "label": [
                        {
                              "type": "text",
                              "content": "Mileage"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "elapsed_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1870 Elapsed time (hrs)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "speed_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1870 Speed (mph)"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "elapsed_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1900 Elapsed time (hrs)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "speed_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1900 Speed (mph)"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "company"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-511a3different-types-of-pacs-influence-election", () => {
    // Source: Question x84b17498eccbf6ff (EK 5.11.A.3—Different types of PACs influence elections and policymaking through fundraising and spending.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Individual"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2,700</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>10,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year (combined)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>33,900</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>101,700</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per account, per year"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Candidate committee"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "-"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "PAC: multicandidate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year (combined)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>15,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>45,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per account, per year"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "PAC: non-multicandidate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>2,700</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>10,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year (combined)"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>33,900</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>101,700</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": "* per account, per year"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Party committee: state/district/local"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "-"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Party committee: national"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per election"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>5,000</mn>"
                              },
                              {
                                    "type": "text",
                                    "content": " per year"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Unlimited transfers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "-"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Contribution limits for 2017–2018 federal elections",
      "footer": null,
      "columns": [
            {
                  "key": "donor",
                  "label": [
                        {
                              "type": "text",
                              "content": "Donor"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "candidate_committee",
                  "label": [
                        {
                              "type": "text",
                              "content": "Candidate committee"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pac",
                  "label": [
                        {
                              "type": "text",
                              "content": "PAC"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party_state_local",
                  "label": [
                        {
                              "type": "text",
                              "content": "Party committee: state/district/local"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party_national",
                  "label": [
                        {
                              "type": "text",
                              "content": "Party committee: national"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "additional_national_accounts",
                  "label": [
                        {
                              "type": "text",
                              "content": "Additional national party committee accounts"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "donor"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-52a3demographic-characteristics-and-political-e", () => {
    // Source: Question xc1e6fdb5f5e1bdd0 (EK 5.2.A.3—Demographic characteristics and political efficacy or engagement are used to predict the likelihood of whether an individual will vote.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "White"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>57</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>42</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Black"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>13</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>86</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Latino"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>46</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Asian"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>55</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Native American"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>68</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Other"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>52</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>44</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Voter preferences by race and ethnicity in the 2024 presidential election (Census Bureau)",
      "footer": null,
      "columns": [
            {
                  "key": "race_ethnicity",
                  "label": [
                        {
                              "type": "text",
                              "content": "Race/Ethnicity"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "trump_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Donald Trump (R) "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mo>%</mo><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "harris_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Kamala Harris (D) "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mo>%</mo><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "race_ethnicity"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-52a1structural-barriers-such-as-polling-hours-a", () => {
    // Source: Question x7736500b0293ef4c (EK 5.2.A.1—Structural barriers (such as polling hours, availability of absentee ballots, etc.), political efficacy (the belief that an individual’s participation in the political process will make a difference), and demographics can influence differences in voter turnout in the U.S.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The right to vote will not be denied or abridged on account of sex"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Rational choice"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Literacy tests cannot be used as a voter qualification"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Felony disenfranchisement"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The right of citizens who are 18 years of age or older to vote cannot be denied"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Poll taxes"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The right to vote cannot be denied on the basis of race, color, or previous condition of servitude"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Party-line voting"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Constitutional protection vs. structural barrier",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [
                        {
                              "type": "text",
                              "content": "Comparison"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "constitutional",
                  "label": [
                        {
                              "type": "text",
                              "content": "Constitutional protection of voting rights"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "barrier",
                  "label": [
                        {
                              "type": "text",
                              "content": "Structural barrier to voting"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparison", () => {
    // Source: Question x0530980b948d5e19 (Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Used the Fourteenth Amendment’s Due Process Clause to extend the right to privacy to a woman’s decision to have an abortion"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated the Second Amendment through the Fourteenth Amendment’s Due Process Clause"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that states had to provide legal counsel for the poor or indigent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Applied the individual right to “keep and bear arms” to the states"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the right to privacy extended to a woman’s right to have an abortion"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that political spending by corporations is a form of protected speech"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Limited the power of state governments to regulate abortion"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that legislative redistricting must be conscious of race"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Which of the following is an accurate comparison of the two court cases?",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "roe",
                  "label": [
                        {
                              "type": "text",
                              "content": "Roe v. Wade (1973)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mcdonald",
                  "label": [
                        {
                              "type": "text",
                              "content": "McDonald v. Chicago (2010)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 12ia", () => {
    // Source: Question xc93a077dd9abbd2a (1.2.I.A.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Near East"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "15,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "11,500"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North China"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "11,600"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "9,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South China"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "12,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "8,000"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Sub-Saharan Africa"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "9,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "4,500"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South-Central Andes"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,250"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Central Mexico"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "7,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,750"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Eastern United States"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "6,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,250"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Dates before present (calendar years) for the emergence of intensive foraging and agriculture in different regions. Adapted from Peter T. Richerson et al., \"Was Agriculture Impossible during the Pleistocene but Mandatory during the Holocene?\" (2001), p. 400.",
      "footer": null,
      "columns": [
            {
                  "key": "region",
                  "label": [
                        {
                              "type": "text",
                              "content": "Centers of domestication"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "foraging",
                  "label": [
                        {
                              "type": "text",
                              "content": "Intensive foraging"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "agriculture",
                  "label": [
                        {
                              "type": "text",
                              "content": "Agriculture"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc62ia-as-cities-became-areas-of-economic-growth-f", () => {
    // Source: Question xfac0471714254ff0 (KC-6.2.I.A As cities became areas of economic growth featuring new factories and businesses, they attracted immigrants from Asia and from southern and eastern Europe, as well as African American migrants within and out of the South. Many migrants moved to escape poverty, religious persecution, and limited opportunities for social mobility in their home countries or regions. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York City"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,478,103"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,437,202"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>265</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Philadelphia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,293,687"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,350,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>4</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Chicago"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "298,977"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,698,575"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>468</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Boston"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "250,525"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "560,892"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>124</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Los Angeles"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "5,728"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "102,479"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1689</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population change in cities, 1870-1900",
      "footer": null,
      "columns": [
            {
                  "key": "city",
                  "label": [
                        {
                              "type": "text",
                              "content": "City"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "pop1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1870 population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pop1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1900 population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent change"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "city"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-52a1structural-barriers-such-as-polling-hours-a", () => {
    // Source: Question x073a813fa5295cf8 (EK 5.2.A.1—Structural barriers (such as polling hours, availability of absentee ballots, etc.), political efficacy (the belief that an individual’s participation in the political process will make a difference), and demographics can influence differences in voter turnout in the U.S.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Less than high school"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>40</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "High school graduate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>52.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Some college"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>64</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Bachelor’s degree"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>77.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Advanced degree"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>82.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Voter turnout in the 2024 presidential election (Census Bureau)",
      "footer": null,
      "columns": [
            {
                  "key": "education_level",
                  "label": [
                        {
                              "type": "text",
                              "content": "Education Level"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "turnout_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Voter Turnout "
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>(</mo><mo>%</mo><mo>)</mo>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "education_level"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc61iibii-the-industrial-workforce-expanded-and-be", () => {
    // Source: Question xba4810a36f03d6bd (KC-6.1.II.B.ii The industrial workforce expanded and became more diverse through internal and international migration. )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1870"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "12,506,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>21.6</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>14.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1880"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "17,392,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>15.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1890"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "23,318,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>22.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>17.0</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1900"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "29,073,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>19.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>18.1</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "U.S. workforce demographics, 1870–1900",
      "footer": null,
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "num_workers",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of gainful workers"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_foreign_born",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of paid workers who are foreign-born"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "pct_women",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percentage of paid workers who are women"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - 2a1a", () => {
    // Source: Question xd520b44d3873f5e7 (2.A.1.a)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Elected members are chosen by constituents of an entire state"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Elected members are chosen by constituents in a local district based on population"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Designed to represent the population"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Designed to represent states equally"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Confirms Supreme Court appointments"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ratifies treaties"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Has flexible floor debate rules that protect the minority"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Has rigid floor debate rules that favor the majority"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison options",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "house",
                  "label": [
                        {
                              "type": "text",
                              "content": "House of Representatives"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "senate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Senate"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparison", () => {
    // Source: Question x7142b5caeac41d70 (Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that Congress had implied powers to carry out its enumerated powers"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Established limits on Congress’s power under the Commerce Clause"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Increased the Supreme Court’s power to check the other branches"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to the “one person, one vote” judicial doctrine"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that national laws are supreme over state laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that federal courts could intervene in and decide redistricting cases"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the Supreme Court could declare laws unconstitutional"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ended gerrymandering across the United States"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of two Supreme Court cases",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "marbury",
                  "label": [
                        {
                              "type": "text",
                              "content": "Marbury v. Madison (1803)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "baker",
                  "label": [
                        {
                              "type": "text",
                              "content": "Baker v. Carr (1961)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparison", () => {
    // Source: Question xb2ea4cbb929a70fb (Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Gave check-and-balance power to the Supreme Court"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that North Carolina violated the Due Process Clause of the Fourteenth Amendment"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that states did not have the power to tax the federal government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Prohibited oddly shaped majority-minority districts"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the Supreme Court can declare a law unconstitutional"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that redistricting plans based on race must be held to a high standard of scrutiny"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to an increase in power for the legislative branch"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to an increase in power for the national government"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of two U.S. Supreme Court cases",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "marbury",
                  "label": [
                        {
                              "type": "text",
                              "content": "Marbury v. Madison (1803)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "shaw",
                  "label": [
                        {
                              "type": "text",
                              "content": "Shaw v. Reno (1993)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-52a4factors-influencing-voter-choice-include-i-", () => {
    // Source: Question x0f61e12c6a2dc3ba (EK 5.2.A.4—Factors influencing voter choice include: i. Party identification and ideological orientation ii. Candidate characteristics iii. Contemporary political issues iv. Religious beliefs or affiliation, age, gender, race and ethnicity, and other demographic characteristics.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Negative assessment of opponent"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 28
                  },
                  {
                        "type": "number",
                        "value": 28
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Qualifications/Experience"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 31
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Issues/Policies"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 11
                  },
                  {
                        "type": "number",
                        "value": 23
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Personal qualities"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 13
                  },
                  {
                        "type": "number",
                        "value": 15
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Partisanship"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 12
                  },
                  {
                        "type": "number",
                        "value": 6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Want change"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>&lt;</mo><mn>1</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 9
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Other"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No opinion"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Reasons Voters Support Hillary Clinton or Donald Trump",
      "footer": null,
      "columns": [
            {
                  "key": "reason",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "clinton",
                  "label": [
                        {
                              "type": "text",
                              "content": "Clinton voters ("
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>%</mo>"
                        },
                        {
                              "type": "text",
                              "content": ")"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "trump",
                  "label": [
                        {
                              "type": "text",
                              "content": "Trump voters ("
                        },
                        {
                              "type": "math",
                              "mathml": "<mo>%</mo>"
                        },
                        {
                              "type": "text",
                              "content": ")"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "reason"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - qualitative-image", () => {
    // Source: Question x768f9cb378f780bd (Qualitative image)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "State governments should have the right to enact anti-union laws."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "State governments should not infringe on an individual’s right to collectively organize."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should strengthen background checks for gun ownership."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should not create laws that infringe on an individual’s right to bear arms."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should protect an unborn child’s right to life."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should have no role in an individual’s right to have an abortion."
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "State governments should have sole authority over the curriculum taught in public schools."
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "State governments should have their curricula reviewed by the federal Department of Education."
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Liberal vs. Conservative Views",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "liberal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Liberal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "conservative",
                  "label": [
                        {
                              "type": "text",
                              "content": "Conservative"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - the-expansion-of-slavery-in-the-deep-south-and-adj", () => {
    // Source: Question xa506b768fd8dbb48 (The expansion of slavery in the deep South and adjacent western lands and rising antislavery sentiment began to create distinctive regional attitudes toward the institution.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Massachusetts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "378,717"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "---"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "---"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Connecticut"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "238,141"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1.16</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "2,763"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "New York"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "340,120"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>6.27</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "21,326"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Pennsylvania"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "434,373"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0.86</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "3,736"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Virginia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "748,308"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>39.21</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "293,412"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North Carolina"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "393,751"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>25.55</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "100,604"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South Carolina"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "249,973"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>43.00</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "107,489"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Georgia"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "82,548"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35.45</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "29,264"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Enslavement of persons of African descent by state, 1790",
      "footer": null,
      "columns": [
            {
                  "key": "state",
                  "label": [
                        {
                              "type": "text",
                              "content": "State"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "total_population",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total Population"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_enslaved",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent enslaved"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "enslaved_persons",
                  "label": [
                        {
                              "type": "text",
                              "content": "Number of enslaved persons"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "state"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - as-higher-education-opportunities-and-new-technolo", () => {
    // Source: Question x82c85cdf25afd9a3 (As higher education opportunities and new technologies rapidly expanded, increasing social mobility encouraged the migration of the middle class to the suburbs and of many Americans to the South and West. The Sun Belt region emerged as a significant political and economic force.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Northeast"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "35,977,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "39,478,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "44,678,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "49,041,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "North Central"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "40,143,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "44,461,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "51,619,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "56,572,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>41</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "South"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "41,666,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "47,197,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "54,973,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "62,795,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "West"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "14,379,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "20,190,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "28,053,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "34,804,000"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>142</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population by region, 1940–1970",
      "footer": null,
      "columns": [
            {
                  "key": "region",
                  "label": [
                        {
                              "type": "text",
                              "content": "Region"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "y1940",
                  "label": [
                        {
                              "type": "text",
                              "content": "1940"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1950",
                  "label": [
                        {
                              "type": "text",
                              "content": "1950"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1960",
                  "label": [
                        {
                              "type": "text",
                              "content": "1960"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1970",
                  "label": [
                        {
                              "type": "text",
                              "content": "1970"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "percent_change",
                  "label": [
                        {
                              "type": "text",
                              "content": "Percent change"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "region"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - kc63iibii-many-women-sought-greater-equality-with-", () => {
    // Source: Question x020102c8010783ec (KC-6.3.II.B.ii Many women sought greater equality with men, often joining voluntary organizations, going to college, promoting social and political reform.  )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Male"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "49,467"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "77,994"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "100,453"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "152,254"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Female"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "13,372"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "37,856"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "56,303"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "85,338"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Historical Summary of Higher Education Enrollment Statistics, 1869–1900",
      "footer": null,
      "columns": [
            {
                  "key": "group",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "y1869_1870",
                  "label": [
                        {
                              "type": "text",
                              "content": "1869–1870"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1879_1880",
                  "label": [
                        {
                              "type": "text",
                              "content": "1879–1880"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1889_1890",
                  "label": [
                        {
                              "type": "text",
                              "content": "1889–1890"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1899_1900",
                  "label": [
                        {
                              "type": "text",
                              "content": "1899–1900"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "group"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-2d1a-tasks-performed-by-departments-agencies-co", () => {
    // Source: Question x8d47df29ec315d4d (EK 2.D.1.a - Tasks performed by departments, agencies, commissions, and government corporations are represented by: • Writing and enforcing regulations • Issuing fines • Testifying before Congress • Issue networks and “iron triangles” )
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Groups of experts, including people inside and outside the government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Close-knit coalitions of the bureaucracy, interest groups, and Congress"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Focus on a broad policy area"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Focus on a specific policy issue"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Larger and more complex than issue networks"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "More open and fluid than iron triangles"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Influence policy formulation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Influence election campaigns"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Iron triangles vs. issue networks",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "iron_triangles",
                  "label": [
                        {
                              "type": "text",
                              "content": "Iron triangles"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "issue_networks",
                  "label": [
                        {
                              "type": "text",
                              "content": "Issue networks"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi5g-explain-how-various-political-actors-influen", () => {
    // Source: Question x60be4c916d3587cb (PMI-5.G: Explain how various political actors influence public policy outcomes.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Prohibited from donating to political campaigns"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Draw congressional and media attention to certain issues"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Responsible for conducting research to influence policy"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Responsible for evaluating the success of policy implementation"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Mobilize voters for members of Congress who share similar policy goals"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Directly influence policy through protests at the Capitol"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aim to influence the formulation and implementation of policy"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Aim to influence which problems the government prioritizes"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison options",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "interest_groups",
                  "label": [
                        {
                              "type": "text",
                              "content": "Interest groups"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "social_movements",
                  "label": [
                        {
                              "type": "text",
                              "content": "Social movements"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - scotus", () => {
    // Source: Question x5e037ef2ad3ca0b6 (SCOTUS)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that the federal government had violated the due process clause of the Fifth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that the state had violated the freedom of speech clause of the First Amendment"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Applied the First Amendment to the states"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the Supreme Court can declare a law unconstitutional"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the federal government can restrict certain types of speech if the words create a “clear and present danger”"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that wearing a black armband to protest the Vietnam War was a form of symbolic speech"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to an increase in power for the national government to restrict freedom of speech"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to an increase in state power to restrict freedom of speech"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Accurate comparison of Schenck v. United States and Tinker v. Des Moines",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "schenck",
                  "label": [
                        {
                              "type": "text",
                              "content": "Schenck v. United States (1919)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "tinker",
                  "label": [
                        {
                              "type": "text",
                              "content": "Tinker v. Des Moines (1969)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - quantitative", () => {
    // Source: Question x9154b1b6e3717c4e (Quantitative)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Trump"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Republican"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "304"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "62,980,160"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Clinton"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Democratic"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "227"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "65,845,063"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Johnson"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Libertarian"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "4,448,931"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Stein"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Green"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "1,457,050"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "McMullin"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Independent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "0"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "728,830"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "2016 Presidential Election Results",
      "footer": null,
      "columns": [
            {
                  "key": "candidate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "party",
                  "label": [
                        {
                              "type": "text",
                              "content": "Party"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "electoral_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Electoral Votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "popular_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Popular Votes"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "candidate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - electoral-college", () => {
    // Source: Question x6886301a814fbe29 (Electoral college)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Republican Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51.8</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>46.9</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Democratic Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48.2</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>48.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Green Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>3.2</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Reform Party"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>1.4</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Election results",
      "footer": null,
      "columns": [
            {
                  "key": "candidate",
                  "label": [
                        {
                              "type": "text",
                              "content": "Presidential candidate"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "electoral_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Electoral Votes"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "popular_votes",
                  "label": [
                        {
                              "type": "text",
                              "content": "Popular Votes"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "candidate"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi4f1-policy-trends-concerning-the-level-of-gover", () => {
    // Source: Question x7038839ba1b5534c (PMI-4.F.1: Policy trends concerning the level of government involvement in social issues reflect the success of conservative or liberal perspectives in political parties.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should not require an educator to teach evolution if it conflicts with the educator’s religious beliefs"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should allow voluntary prayer in schools for all students"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should not restrict an individual’s access to a gun"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should conduct background checks for gun purchases"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should legalize and regulate the use of marijuana"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should decriminalize marijuana and other drugs"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should allow same-sex marriage"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "The federal government should restrict marriage to one man and one woman"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Liberal and Conservative Views on Social Policy",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "liberal",
                  "label": [
                        {
                              "type": "text",
                              "content": "Liberal"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "conservative",
                  "label": [
                        {
                              "type": "text",
                              "content": "Conservative"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - interest-groups", () => {
    // Source: Question x493d985796efdaa3 (Interest groups)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 1
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Finance/Insurance/Real Estate"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>260,587,304</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>198,225,834</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>42.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>57.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Other"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>187,090,094</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>160,961,296</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>60.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>38.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ideology/Single-issue"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>175,264,839</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>130,280,835</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>62.8</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 4
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Misc. Business"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>127,865,840</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>95,482,285</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>43.7</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>55.8</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 5
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Lawyers and Lobbyists"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>90,343,168</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>85,392,646</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>67.9</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>31.7</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 6
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Health"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>75,355,156</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>69,684,540</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>50.1</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>49.6</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 7
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Communication/Electronics"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>64,720,145</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>53,809,226</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>63.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>36.3</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 8
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Energy/Natural Resources"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>55,707,326</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>39,671,761</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.5</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>79.4</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 9
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Labor"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>55,582,848</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>29,232,259</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>79.0</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>20.5</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 10
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Agribusiness"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>34,711,079</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>$</mo><mn>31,776,340</mn>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>28.4</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>71.1</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Sector Totals, 2017–2018",
      "footer": null,
      "columns": [
            {
                  "key": "rank",
                  "label": [
                        {
                              "type": "text",
                              "content": "Rank"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "sector",
                  "label": [
                        {
                              "type": "text",
                              "content": "Sector"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "amount",
                  "label": [
                        {
                              "type": "text",
                              "content": "Amount"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "total_to_parties_and_candidates",
                  "label": [
                        {
                              "type": "text",
                              "content": "Total to Parties and Candidates"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "dems_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "Dems Percent"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "gop_percent",
                  "label": [
                        {
                              "type": "text",
                              "content": "GOP Percent"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "rank"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - the-increased-demand-for-war-production-and-labor-", () => {
    // Source: Question x78dd82887241c7d3 (The increased demand for war production and labor during World War II and the economic difficulties of the 1930s led many Americans to migrate to urban centers in search of economic opportunities.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Urban"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "69,160,599"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "74,705,338"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "90,128,194"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "113,063,593"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Rural"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "54,042,025"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "57,459,231"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "61,197,604"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "66,259,582"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Population in Urban and Rural Areas, 1930–1960",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: US Census"
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": []
            },
            {
                  "type": "inline",
                  "content": []
            },
            {
                  "type": "inline",
                  "content": []
            },
            {
                  "type": "inline",
                  "content": []
            }
      ],
      "columns": [
            {
                  "key": "area",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "y1930",
                  "label": [
                        {
                              "type": "text",
                              "content": "1930"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1940",
                  "label": [
                        {
                              "type": "text",
                              "content": "1940"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1950",
                  "label": [
                        {
                              "type": "text",
                              "content": "1950"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "y1960",
                  "label": [
                        {
                              "type": "text",
                              "content": "1960"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "area"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - formal-and-informal", () => {
    // Source: Question xd17e36741993529a (Formal and informal)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Nominating federal judges"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Issuing executive orders"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Negotiating executive agreements"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Granting pardons"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Making treaties"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Vetoing legislation"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Creating a budget"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Issuing signing statements"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Formal vs. Informal Presidential Powers",
      "footer": null,
      "columns": [
            {
                  "key": "choice",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "formal_powers",
                  "label": [
                        {
                              "type": "text",
                              "content": "Formal powers"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "informal_powers",
                  "label": [
                        {
                              "type": "text",
                              "content": "Informal powers"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "choice"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek212a1the-federal-bureaucracy-is-composed-of-depa", () => {
    // Source: Question x7e3932150a279f7d (EK2.12.A.1—The federal bureaucracy is composed of departments, agencies, commissions, and government corporations that implement policy)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Are informal and short-lived policy coalitions"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Are formal and permanent parts of government"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Rely on the courts and the media as key participants"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Rely mainly on lobbyists and bureaucrats"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Feature long-term relationships among agencies, committees, and interest groups"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Involve temporary alliances focused on specific policy issues"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Appear primarily in long-term economic policymaking and agenda-setting contexts"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Appear only in short-term social policymaking contexts"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Accurate comparisons of iron triangles and issue networks",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "iron",
                  "label": [
                        {
                              "type": "text",
                              "content": "Iron Triangles"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "issue",
                  "label": [
                        {
                              "type": "text",
                              "content": "Issue Networks"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - pmi5g-explain-how-various-political-actors-influen", () => {
    // Source: Question xdea56b08ccb250d4 (PMI-5.G: Explain how various political actors influence public policy outcomes.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "help raise issues in the agenda-setting stage"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "are responsible for implementing policy"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "aim to get party members elected to the executive and legislature"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "manage most of the fundraising for political candidates"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "indirectly influence public policy through party members"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "are one of the three participants that make up an iron triangle"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "influence policy and program evaluation"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "influence policy formulation"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Compare political parties and interest groups",
      "footer": null,
      "columns": [
            {
                  "key": "comparison",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "political_parties",
                  "label": [
                        {
                              "type": "text",
                              "content": "political parties"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "interest_groups",
                  "label": [
                        {
                              "type": "text",
                              "content": "interest groups"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "comparison"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - textbased-and-comparison", () => {
    // Source: Question xeacc15702e76258d (Text-based and comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated a right to legal counsel in capital cases"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Incorporated a right to privacy to the states"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that the state had to provide legal counsel for the poor or indigent"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Decided that using execution by firing squad was cruel and unusual punishment"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that national laws are supreme to state laws"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that state laws are supreme to national laws"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Sixth Amendment"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared that the state had violated the Second Amendment"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Comparison of Gideon v. Wainwright and McDonald v. Chicago",
      "footer": null,
      "columns": [
            {
                  "key": "choice",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "gideon",
                  "label": [
                        {
                              "type": "text",
                              "content": "Gideon v. Wainwright (1963)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "mcdonald",
                  "label": [
                        {
                              "type": "text",
                              "content": "McDonald v. Chicago (2010)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "choice"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-52a4factors-influencing-voter-choice-include-i-", () => {
    // Source: Question xd285e64f0b8caa64 (EK 5.2.A.4—Factors influencing voter choice include: i. Party identification and ideological orientation ii. Candidate characteristics iii. Contemporary political issues iv. Religious beliefs or affiliation, age, gender, race and ethnicity, and other demographic characteristics.)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Negative assessment of opponent"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 28
                  },
                  {
                        "type": "number",
                        "value": 28
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Qualifications/Experience"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 31
                  },
                  {
                        "type": "number",
                        "value": 16
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Issues/Policies"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 11
                  },
                  {
                        "type": "number",
                        "value": 23
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Personal qualities"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 13
                  },
                  {
                        "type": "number",
                        "value": 15
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Partisanship"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 12
                  },
                  {
                        "type": "number",
                        "value": 6
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Want change"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mo>&lt;</mo><mn>1</mn>"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 9
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Other"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 2
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "No opinion"
                              }
                        ]
                  },
                  {
                        "type": "number",
                        "value": 3
                  },
                  {
                        "type": "number",
                        "value": 2
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Reasons Voters Support Hillary Clinton or Donald Trump",
      "footer": null,
      "columns": [
            {
                  "key": "reason",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "clinton",
                  "label": [
                        {
                              "type": "text",
                              "content": "Clinton voters "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mo>%</mo><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "trump",
                  "label": [
                        {
                              "type": "text",
                              "content": "Trump voters "
                        },
                        {
                              "type": "math",
                              "mathml": "<mrow><mo>(</mo><mo>%</mo><mo>)</mo></mrow>"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "reason"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-39a2griswold-v-connecticut-1965-roe-v-wade-1973", () => {
    // Source: Question x2c5e6f3717739366 (EK 3.9.A.2—Griswold v. Connecticut (1965), Roe v. Wade (1973), Dobbs v. Jackson Women’s Health Organization (2022))
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that states may restrict contraceptive use"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Expanded federal power to enforce abortion laws"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Based its ruling on the claim that the Equal Protection Clause applies to embryos"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Applied the strict scrutiny test to evaluate abortion restrictions at the state level"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Rejected the idea of unenumerated rights"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Upheld the use of “penumbras” to find implied rights"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Recognized a broad right to privacy based on implied protections"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Limited privacy rights to those clearly listed or deeply rooted in history"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "What is an accurate comparison of the Court’s reasoning in Griswold v. Connecticut (1965) and Dobbs v. Jackson Women’s Health Organization (2022)?",
      "footer": null,
      "columns": [
            {
                  "key": "option",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "griswold",
                  "label": [
                        {
                              "type": "text",
                              "content": "Griswold v. Connecticut"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "dobbs",
                  "label": [
                        {
                              "type": "text",
                              "content": "Dobbs v. Jackson Women’s Health Organization"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "option"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - type-2-comparison", () => {
    // Source: Question xa808670177acd13b (Type 2: Comparison)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to vote in elections"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to a fair trial by jury"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to hold elected office"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to join a labor union"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to decide where you live"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to access Social Security"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to freedom of speech"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Right to assemble peaceably"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Pairings of Political and Economic Rights",
      "footer": null,
      "columns": [
            {
                  "key": "pairing",
                  "label": [
                        {
                              "type": "text",
                              "content": "Pairing"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "political_right",
                  "label": [
                        {
                              "type": "text",
                              "content": "Political right"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "economic_right",
                  "label": [
                        {
                              "type": "text",
                              "content": "Economic right"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "pairing"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - comparing-court-cases", () => {
    // Source: Question x54fe6b700b54b9ef (Comparing Court cases)
    const input = {
      "data": [
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "A"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared an action by the president unconstitutional"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Declared an act of Congress unconstitutional"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "B"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Led to an increase in power for the national government"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Protected an individual’s right to freedom of speech"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "C"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Established a “heavy presumption against prior restraint” even in cases involving national security"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Ruled that speech creating a “clear and present danger” is not constitutionally protected"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "D"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Protected freedom of the press against infringements by state and local governments"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "text",
                                    "content": "Protected freedom of speech against infringement by state and local governments"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Accurate comparison of two Supreme Court cases",
      "footer": null,
      "columns": [
            {
                  "key": "choice",
                  "label": [],
                  "isNumeric": false
            },
            {
                  "key": "nyt_us",
                  "label": [
                        {
                              "type": "text",
                              "content": "New York Times Co. v. United States (1971)"
                        }
                  ],
                  "isNumeric": false
            },
            {
                  "key": "schenck_us",
                  "label": [
                        {
                              "type": "text",
                              "content": "Schenck v. United States (1919)"
                        }
                  ],
                  "isNumeric": false
            }
      ],
      "rowHeaderKey": "choice"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })

  it("dataTable - ek-58b1states-can-choose-how-they-allocate-their-e", () => {
    // Source: Question xb65759f797f60f56 (EK 5.8.B.1—States can choose how they allocate their electors; most states use a winner-take-all system. Because the results of the Electoral College vote may not be the same as the popular vote nationwide, there is an ongoing debate over the Electoral College.)
    const input = {
      "data": [
            [
                  {
                        "type": "number",
                        "value": 2000
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>61</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2004
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>61</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2008
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>62</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2012
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>62</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2016
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>51</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>44</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2020
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>60</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>37</mn><mo>%</mo>"
                              }
                        ]
                  }
            ],
            [
                  {
                        "type": "number",
                        "value": 2024
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>63</mn><mo>%</mo>"
                              }
                        ]
                  },
                  {
                        "type": "inline",
                        "content": [
                              {
                                    "type": "math",
                                    "mathml": "<mn>35</mn><mo>%</mo>"
                              }
                        ]
                  }
            ]
      ],
      "type": "dataTable",
      "title": "Public opinion on the method for electing the president",
      "footer": [
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": "Source: Pew Research Center surveys conducted between 2000 and 2024."
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            },
            {
                  "type": "inline",
                  "content": [
                        {
                              "type": "text",
                              "content": ""
                        }
                  ]
            }
      ],
      "columns": [
            {
                  "key": "year",
                  "label": [
                        {
                              "type": "text",
                              "content": "Year"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "preferPopularVote",
                  "label": [
                        {
                              "type": "text",
                              "content": "Prefer Popular Vote"
                        }
                  ],
                  "isNumeric": true
            },
            {
                  "key": "preferElectoralCollege",
                  "label": [
                        {
                              "type": "text",
                              "content": "Prefer Electoral College"
                        }
                  ],
                  "isNumeric": true
            }
      ],
      "rowHeaderKey": "year"
} satisfies DataTableInput
    
    const svg = generateDataTable(input)
    expect(svg).toMatchSnapshot()
  })
})
