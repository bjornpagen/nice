// ============================================================================
// EXTRACTED TEST FILE - AUTO-GENERATED
// ============================================================================
// This file was automatically generated from database structured_json data
// Generated on: 2025-09-18T05:17:02.169Z
// Widget Type: partitionedShape
// Source: Real questions from database
//
// These tests use actual widget configurations extracted from production data
// to ensure comprehensive test coverage with realistic scenarios.
//
// Note: Database data may not perfectly match current widget schemas, so these
// tests rely on runtime validation within generateWidget() for flexibility.
//
// DO NOT EDIT THIS FILE DIRECTLY - it will be overwritten on regeneration
//
// Run tests: bun test tests/widgets/partitioned-shape.extracted.test.ts
// Update snapshots: bun test tests/widgets/partitioned-shape.extracted.test.ts --update-snapshots
// ============================================================================

import { describe, test, expect } from "bun:test"
import { generateWidget } from "@superbuilders/qti-assessment-item-generator/widgets/widget-generator"
import type { Widget, WidgetInput } from "@superbuilders/qti-assessment-item-generator/widgets/registry"
import * as errors from "@superbuilders/errors"
import * as logger from "@superbuilders/slog"

describe("partitionedShape widget tests", () => {
	// Extracted from question: x386c89b730d7d1c0
	// Question: Find the scale factor from rectangle areas
	// Widget key: image_1
	test("partitioned-shape - [x386c89b730d7d1c0] Find the scale factor from rectangle areas", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 12,
		    "columns": 12,
		    "opacity": 0.1
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [],
		  "width": 325,
		  "height": 325,
		  "figures": [
		    {
		      "vertices": [
		        {
		          "col": 1,
		          "row": 1
		        },
		        {
		          "col": 10,
		          "row": 1
		        },
		        {
		          "col": 10,
		          "row": 9
		        },
		        {
		          "col": 1,
		          "row": 9
		        }
		      ],
		      "fillColor": null,
		      "strokeColor": "#11accd"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x8643061b60102d8d
	// Question: Percent represented by shaded area
	// Widget key: image_1
	test("partitioned-shape - [x8643061b60102d8d] Percent represented by shaded area (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 400,
		  "height": 300,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 1,
		      "type": "rectangle",
		      "columns": 5,
		      "shadeColor": "#01a995",
		      "totalParts": 5,
		      "shadedCells": [
		        0,
		        1,
		        2,
		        3,
		        4
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 1
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x8643061b60102d8d
	// Question: Percent represented by shaded area
	// Widget key: image_2
	test("partitioned-shape - [x8643061b60102d8d] Percent represented by shaded area (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 400,
		  "height": 300,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 1,
		      "type": "rectangle",
		      "columns": 5,
		      "shadeColor": "#01a995",
		      "totalParts": 5,
		      "shadedCells": [
		        0,
		        1,
		        2,
		        3
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 1
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x42853045c8f0066e
	// Question: Percent represented by a shaded area
	// Widget key: image_1
	test("partitioned-shape - [x42853045c8f0066e] Percent represented by a shaded area", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 380,
		  "height": 380,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 5,
		      "type": "rectangle",
		      "columns": 5,
		      "shadeColor": "#4472C4",
		      "totalParts": 25,
		      "shadedCells": [
		        0,
		        1,
		        2,
		        3,
		        4,
		        5,
		        6,
		        7,
		        8,
		        9,
		        10
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 0.85
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x3a6679d1f4e59070
	// Question: Percent represented by the shaded area
	// Widget key: image_1
	test("partitioned-shape - [x3a6679d1f4e59070] Percent represented by the shaded area", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 400,
		  "height": 320,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 4,
		      "type": "rectangle",
		      "columns": 5,
		      "shadeColor": "#FF9C39",
		      "totalParts": 20,
		      "shadedCells": [
		        6,
		        7,
		        8,
		        11,
		        12,
		        13
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 1
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x151ce288f9b55bba
	// Question: Percent represented by a shaded rectangle
	// Widget key: image_1
	test("partitioned-shape - [x151ce288f9b55bba] Percent represented by a shaded rectangle", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 400,
		  "height": 300,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 1,
		      "type": "rectangle",
		      "columns": 5,
		      "shadeColor": "#4472C4",
		      "totalParts": 5,
		      "shadedCells": [
		        0,
		        1
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 0.85
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xd35c4a9efd172f11
	// Question: Percent represented by shaded area
	// Widget key: image_1
	test("partitioned-shape - [xd35c4a9efd172f11] Percent represented by shaded area", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 300,
		  "height": 300,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 1,
		      "type": "rectangle",
		      "columns": 10,
		      "shadeColor": "#11accd",
		      "totalParts": 10,
		      "shadedCells": [
		        0,
		        1,
		        2,
		        3,
		        4,
		        5,
		        6
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 1
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x3575372603bc68a0
	// Question: Percent represented by shaded area
	// Widget key: image_1
	test("partitioned-shape - [x3575372603bc68a0] Percent represented by shaded area (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 360,
		  "height": 360,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 1,
		      "type": "rectangle",
		      "columns": 10,
		      "shadeColor": "#11accd",
		      "totalParts": 10,
		      "shadedCells": [
		        0,
		        1,
		        2,
		        3,
		        4,
		        5,
		        6,
		        7,
		        8,
		        9
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 1
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x3575372603bc68a0
	// Question: Percent represented by shaded area
	// Widget key: image_2
	test("partitioned-shape - [x3575372603bc68a0] Percent represented by shaded area (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 360,
		  "height": 360,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 1,
		      "type": "rectangle",
		      "columns": 10,
		      "shadeColor": "#11accd",
		      "totalParts": 10,
		      "shadedCells": [
		        0
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 1
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x1bb89ad828a07c58
	// Question: Find the percent represented by shaded squares
	// Widget key: image_1
	test("partitioned-shape - [x1bb89ad828a07c58] Find the percent represented by shaded squares (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 360,
		  "height": 360,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 2,
		      "type": "rectangle",
		      "columns": 2,
		      "shadeColor": "#4472C4",
		      "totalParts": 4,
		      "shadedCells": [
		        0,
		        1,
		        2,
		        3
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 0.85
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x1bb89ad828a07c58
	// Question: Find the percent represented by shaded squares
	// Widget key: image_2
	test("partitioned-shape - [x1bb89ad828a07c58] Find the percent represented by shaded squares (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 360,
		  "height": 360,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 2,
		      "type": "rectangle",
		      "columns": 2,
		      "shadeColor": "#4472C4",
		      "totalParts": 4,
		      "shadedCells": [
		        0,
		        1,
		        2
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 0.85
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xc75a6a1b6fcd1123
	// Question: Percent represented by the shaded area
	// Widget key: image_1
	test("partitioned-shape - [xc75a6a1b6fcd1123] Percent represented by the shaded area (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 360,
		  "height": 360,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 1,
		      "type": "rectangle",
		      "columns": 2,
		      "shadeColor": "#7854AB",
		      "totalParts": 2,
		      "shadedCells": [
		        1
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 1
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xc75a6a1b6fcd1123
	// Question: Percent represented by the shaded area
	// Widget key: image_2
	test("partitioned-shape - [xc75a6a1b6fcd1123] Percent represented by the shaded area (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 360,
		  "height": 360,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 1,
		      "type": "rectangle",
		      "columns": 2,
		      "shadeColor": "#7854AB",
		      "totalParts": 2,
		      "shadedCells": [
		        0,
		        1
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 1
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xbc6ff256385f194b
	// Question: Percent represented by the shaded area
	// Widget key: image_1
	test("partitioned-shape - [xbc6ff256385f194b] Percent represented by the shaded area (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 320,
		  "height": 320,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 5,
		      "type": "rectangle",
		      "columns": 5,
		      "shadeColor": "#4472C4",
		      "totalParts": 25,
		      "shadedCells": [
		        0,
		        1,
		        2,
		        3,
		        4,
		        5,
		        6,
		        7,
		        8,
		        9,
		        10,
		        11,
		        12,
		        13,
		        14,
		        15,
		        16,
		        17,
		        18,
		        19,
		        20,
		        21,
		        22,
		        23,
		        24
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 0.9
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xbc6ff256385f194b
	// Question: Percent represented by the shaded area
	// Widget key: image_2
	test("partitioned-shape - [xbc6ff256385f194b] Percent represented by the shaded area (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "mode": "partition",
		  "type": "partitionedShape",
		  "width": 320,
		  "height": 320,
		  "layout": "horizontal",
		  "shapes": [
		    {
		      "rows": 5,
		      "type": "rectangle",
		      "columns": 5,
		      "shadeColor": "#4472C4",
		      "totalParts": 25,
		      "shadedCells": [
		        0,
		        1,
		        2,
		        3,
		        4,
		        5,
		        6,
		        7,
		        8,
		        9,
		        10,
		        11,
		        12
		      ],
		      "hatchedCells": [],
		      "shadeOpacity": 0.9
		    }
		  ],
		  "overlays": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xbd438433898c564b
	// Question: Select a 12 cm by 12 cm square on a grid
	// Widget key: grid_image
	test("partitioned-shape - [xbd438433898c564b] Select a 12 cm by 12 cm square on a grid", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.4
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [
		    {
		      "to": {
		        "col": 15,
		        "row": 2
		      },
		      "from": {
		        "col": 15,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 18,
		        "row": 2
		      },
		      "from": {
		        "col": 18,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 18,
		        "row": 1
		      },
		      "from": {
		        "col": 15,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    }
		  ],
		  "width": 400,
		  "height": 400,
		  "figures": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: xf16c351b547ece8d
	// Question: Recreate a scale drawing of a basketball court
	// Widget key: grid_image
	test("partitioned-shape - [xf16c351b547ece8d] Recreate a scale drawing of a basketball court", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.35
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [
		    {
		      "to": {
		        "col": 19,
		        "row": 2
		      },
		      "from": {
		        "col": 16,
		        "row": 2
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 16,
		        "row": 3
		      },
		      "from": {
		        "col": 16,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 19,
		        "row": 3
		      },
		      "from": {
		        "col": 19,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    }
		  ],
		  "width": 400,
		  "height": 400,
		  "figures": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x02cf926ad947cfee
	// Question: Draw a square face of a cube on a scaled grid
	// Widget key: grid_image
	test("partitioned-shape - [x02cf926ad947cfee] Draw a square face of a cube on a scaled grid (1)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.4
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [
		    {
		      "to": {
		        "col": 19,
		        "row": 1
		      },
		      "from": {
		        "col": 15,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 15,
		        "row": 2
		      },
		      "from": {
		        "col": 15,
		        "row": 0
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 19,
		        "row": 2
		      },
		      "from": {
		        "col": 19,
		        "row": 0
		      },
		      "color": "#000000",
		      "style": "solid"
		    }
		  ],
		  "width": 400,
		  "height": 400,
		  "figures": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x02cf926ad947cfee
	// Question: Draw a square face of a cube on a scaled grid
	// Widget key: square_face_choice_a
	test("partitioned-shape - [x02cf926ad947cfee] Draw a square face of a cube on a scaled grid (2)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.4
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [],
		  "width": 400,
		  "height": 400,
		  "figures": [
		    {
		      "vertices": [
		        {
		          "col": 6,
		          "row": 6
		        },
		        {
		          "col": 12,
		          "row": 6
		        },
		        {
		          "col": 12,
		          "row": 12
		        },
		        {
		          "col": 6,
		          "row": 12
		        }
		      ],
		      "fillColor": "#4472C44D",
		      "strokeColor": "#000000"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x02cf926ad947cfee
	// Question: Draw a square face of a cube on a scaled grid
	// Widget key: square_face_choice_b
	test("partitioned-shape - [x02cf926ad947cfee] Draw a square face of a cube on a scaled grid (3)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.4
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [],
		  "width": 400,
		  "height": 400,
		  "figures": [
		    {
		      "vertices": [
		        {
		          "col": 6,
		          "row": 6
		        },
		        {
		          "col": 14,
		          "row": 6
		        },
		        {
		          "col": 14,
		          "row": 14
		        },
		        {
		          "col": 6,
		          "row": 14
		        }
		      ],
		      "fillColor": "#4472C44D",
		      "strokeColor": "#000000"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x02cf926ad947cfee
	// Question: Draw a square face of a cube on a scaled grid
	// Widget key: square_face_choice_c
	test("partitioned-shape - [x02cf926ad947cfee] Draw a square face of a cube on a scaled grid (4)", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.4
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [],
		  "width": 400,
		  "height": 400,
		  "figures": [
		    {
		      "vertices": [
		        {
		          "col": 6,
		          "row": 6
		        },
		        {
		          "col": 16,
		          "row": 6
		        },
		        {
		          "col": 16,
		          "row": 16
		        },
		        {
		          "col": 6,
		          "row": 16
		        }
		      ],
		      "fillColor": "#4472C44D",
		      "strokeColor": "#000000"
		    }
		  ]
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x614adc65676dfce8
	// Question: Select a rectangle to model a 4 m by 6 m hut
	// Widget key: grid_image
	test("partitioned-shape - [x614adc65676dfce8] Select a rectangle to model a 4 m by 6 m hut", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.3
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [
		    {
		      "to": {
		        "col": 19,
		        "row": 1
		      },
		      "from": {
		        "col": 17,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 17,
		        "row": 2
		      },
		      "from": {
		        "col": 17,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 19,
		        "row": 2
		      },
		      "from": {
		        "col": 19,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    }
		  ],
		  "width": 400,
		  "height": 400,
		  "figures": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x58729b419e278355
	// Question: Select a rectangle to represent Colorado on the grid
	// Widget key: grid_image
	test("partitioned-shape - [x58729b419e278355] Select a rectangle to represent Colorado on the grid", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.4
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [
		    {
		      "to": {
		        "col": 18,
		        "row": 1
		      },
		      "from": {
		        "col": 16,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 18,
		        "row": 3
		      },
		      "from": {
		        "col": 16,
		        "row": 3
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 16,
		        "row": 3
		      },
		      "from": {
		        "col": 16,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    },
		    {
		      "to": {
		        "col": 18,
		        "row": 3
		      },
		      "from": {
		        "col": 18,
		        "row": 1
		      },
		      "color": "#000000",
		      "style": "solid"
		    }
		  ],
		  "width": 400,
		  "height": 400,
		  "figures": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x06acb2c026c2704a
	// Question: Select the outline of Natalie’s house on a grid
	// Widget key: grid_image
	test("partitioned-shape - [x06acb2c026c2704a] Select the outline of Natalie’s house on a grid", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.3
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [],
		  "width": 400,
		  "height": 400,
		  "figures": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

	// Extracted from question: x713bce99272c6326
	// Question: Draw a square microchip to scale on a grid
	// Widget key: grid_image
	test("partitioned-shape - [x713bce99272c6326] Draw a square microchip to scale on a grid", async () => {
		// Note: Database data may not match current library schemas exactly
		// Using runtime validation in generateWidget for flexibility
		const input = {
		  "grid": {
		    "rows": 20,
		    "columns": 20,
		    "opacity": 0.35
		  },
		  "mode": "geometry",
		  "type": "partitionedShape",
		  "lines": [],
		  "width": 400,
		  "height": 400,
		  "figures": []
		} as unknown as WidgetInput

		// Generate the widget (includes runtime validation)
		const result = await errors.try(generateWidget(input as unknown as Widget))
		if (result.error) {
			// If widget generation fails, it likely means the database data doesn't match current schema
			logger.error("widget generation failed for partitionedShape", { 
				error: result.error,
				inputData: input
			})
			throw errors.wrap(result.error, "widget generation")
		}
		
		const svg = result.data
		expect(svg).toMatchSnapshot()
	})

})
